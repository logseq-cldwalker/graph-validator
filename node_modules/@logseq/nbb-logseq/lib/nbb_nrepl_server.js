
import { $APP, shadow$provide, $jscomp } from "./nbb_api.js";
import  "./nbb_core.js";
import  "./nbb_goog_string.js";
const shadow_esm_import = function(x) { return import(x) };
'use strict';var OJa=function(a,b){a=a.indexOf(b);if(0>a)throw Error("out of input");return a},QW=function(a,b){if(a.length<b)throw Error("out of input");return a.slice(b)},RW=function(a,b){if(b>a.length)throw Error("out of input");return a.slice(0,b)},SW=function(a){return $APP.k($APP.fT.g($APP.p($APP.WQ)))?console.debug($APP.mr.h(" ",a)):null},QJa=function(a){return function(b,c){b=$APP.ih(b);var d=$APP.af.h(b,$APP.Cs),e=$APP.af.h(b,PJa);c=$APP.K.j(c,"id",d);c=$APP.k(e)?$APP.K.j(c,"session",e):
c;return a.h?a.h(b,c):a.call(null,b,c)}},SJa=function(){var a=RJa;return function(b,c){b=$APP.Dp.j(b,$APP.cN,$APP.Nk);return a.h?a.h(b,c):a.call(null,b,c)}},TJa=function(a){return function(b,c){SW($APP.D(["request",b]));return a.h?a.h(b,c):a.call(null,b,c)}},UJa=function(a){return function(b,c){SW($APP.D(["response",c]));return a.h?a.h(b,c):a.call(null,b,c)}},VJa=function(a){var b=SJa();a=$APP.ih(a);var c=$APP.af.h(a,$APP.$S);return function(d,e){d=$APP.K.j(d,$APP.$S,c);return b.h?b.h(d,e):b.call(null,
d,e)}},WJa=function(a){return $APP.K.j($APP.lk(new $APP.H(null,3,5,$APP.I,["major","minor","incremental"],null),$APP.nE.g(a.split("."))),"version-string",a)},XJa=function(a,b,c){if($APP.k(a))if(a=TW.g?TW.g(a):TW.call(null,a),$APP.k(a)){b=$APP.ih(b);var d=$APP.af.h(b,$APP.ona),e=$APP.af.h(b,$APP.kJ),f=$APP.af.h(b,$APP.NK);b=$APP.$a;var l=$APP.Gk,m=$APP.dA;$APP.$a=e;$APP.Gk=f;$APP.dA=d;try{var q=new $APP.Qa;d=$APP.bb;e=$APP.cb;$APP.bb=!0;$APP.cb=function(A){return q.append(A)};try{a.g?a.g(c):a.call(null,
c)}finally{$APP.cb=e,$APP.bb=d}return $APP.n.g(q)}finally{$APP.dA=m,$APP.Gk=l,$APP.$a=b}}else return SW($APP.D(["Pretty-Printing is only supported for clojure.core/prn and clojure.pprint/pprint."])),$APP.pl.l($APP.D([c]));else return $APP.pl.l($APP.D([c]))},dKa=function(a,b){var c=$APP.ih(a);a=$APP.af.h(c,$APP.R);var d=$APP.af.h(c,UW);$APP.af.h(c,YJa);var e=$APP.af.h(c,$APP.mo);$APP.af.h(c,ZJa);$APP.af.h(c,$Ja);$APP.af.h(c,aKa);$APP.Pr($APP.gh([$APP.cs,a,$APP.vs,e,$APP.qP,$APP.p($APP.qP),$APP.vP,
!0]));return function(){$APP.UQ.h($APP.jw,$APP.Lh(function(f){f=new $APP.h(null,1,["out",f],null);return b.h?b.h(c,f):b.call(null,c,f)}));return $APP.my(null,$APP.Aw(d),new $APP.h(null,1,[$APP.Ay,$APP.fv],null)).then(function(f){f=$APP.v(f);$APP.Nh(VW,$APP.p($APP.cs));$APP.UQ.h($APP.JQ,$APP.Lh($APP.p($APP.IQ)));$APP.UQ.h($APP.IQ,$APP.Lh($APP.p($APP.HQ)));$APP.UQ.h($APP.HQ,$APP.Lh(f));f=XJa(bKa.g(c),cKa.g(c),f);f=new $APP.h(null,2,["value",f,"ns",$APP.n.g($APP.p($APP.cs))],null);b.h?b.h(c,f):b.call(null,
c,f);f=new $APP.h(null,1,["status",new $APP.H(null,1,5,$APP.I,["done"],null)],null);return b.h?b.h(c,f):b.call(null,c,f)}).catch(function(f){$APP.UQ.h($APP.KQ,$APP.Lh(f));var l=$APP.Fs.g($APP.im(f));l=$APP.k(l)?l:f.message;$APP.k(l)&&(l=new $APP.h(null,1,["err",[$APP.n.g(l),"\n"].join("")],null),b.h?b.h(c,l):b.call(null,c,l));f=new $APP.h(null,3,["ex",$APP.n.g(f),"ns",$APP.n.g($APP.p($APP.cs)),"status",new $APP.H(null,1,5,$APP.I,["done"],null)],null);return b.h?b.h(c,f):b.call(null,c,f)})}().finally(function(){return $APP.Rr()})},
eKa=function(a,b){a=$APP.ih(a);var c=$APP.af.h(a,$APP.R),d=$APP.af.h(a,$APP.$S),e=$APP.K.j;c=$APP.k(c)?$APP.YS($APP.p(d),$APP.Vk.g(c)):null;$APP.k(c)||(c=$APP.p(VW),c=$APP.k(c)?c:$APP.p($APP.cs));return dKa(e.call($APP.K,a,$APP.R,c),b)},WW=function(a,b){var c=$APP.ih(a),d=$APP.af.h(c,$APP.$S),e=$APP.af.h(c,$APP.R),f=$APP.cN.g(c);try{var l=$APP.R.g(c),m=function(){var U=$APP.yma.g(c);return $APP.k(U)?U:$APP.ep.g(c)}(),q=function(){var U=$APP.k(e)?$APP.YS($APP.p(d),$APP.Vk.g(e)):null;if($APP.k(U))return U;
U=$APP.p(VW);return $APP.k(U)?U:$APP.p($APP.cs)}(),A=$APP.gh([$APP.cs,q]);$APP.Pr(A);try{var x=$APP.VS($APP.p(d),$APP.OW("\n(let [ns '%s\n      full-sym '%s]\n  (when-let [v (ns-resolve ns full-sym)]\n    (let [m (meta v)]\n      (assoc m :arglists (:arglists m)\n       :doc (:doc m)\n       :name (:name m)\n       :ns (some-\x3e m :ns ns-name)\n       :val @v))))",l,m)),C=$APP.W.g(x),t=$APP.mo.g(x),J=$APP.no.g(x),O=function(){var U=f instanceof $APP.G?f.S:null;switch(U){case "eldoc":return U=new $APP.h(null,
5,["ns",$APP.R.g(x),"name",$APP.Q.g(x),"eldoc",$APP.et.h(function(Z){return $APP.et.h($APP.n,Z)},$APP.T.g(x)),"type",$APP.Te($APP.Rx.g(x))?"function":"variable","status",new $APP.H(null,1,5,$APP.I,["done"],null)],null),$APP.k(C)?$APP.K.j(U,"docstring",C):U;case "info":case "lookup":return U=new $APP.h(null,4,["ns",$APP.R.g(x),"name",$APP.Q.g(x),"arglists-str",$APP.mr.h("\n",$APP.Mk.h($APP.pl,$APP.T.g(x))),"status",new $APP.H(null,1,5,$APP.I,["done"],null)],null),U=$APP.k(C)?$APP.K.j(U,"doc",C):U,
U=$APP.k(t)?$APP.K.j(U,"file",t):U,$APP.k(J)?$APP.K.j(U,"line",J):U;default:throw Error(["No matching clause: ",$APP.n.g(U)].join(""));}}();return b.h?b.h(c,O):b.call(null,c,O)}finally{$APP.Rr()}}catch(U){if(U instanceof Error)return a=U,l=function(){var Z=new $APP.dk(null,new $APP.h(null,1,["done",null],null),null);return $APP.z.h(f,fKa)?$APP.wg.h(Z,"no-eldoc"):Z}(),a=new $APP.h(null,2,["status",l,"ex",$APP.n.g(a)],null),b.h?b.h(c,a):b.call(null,c,a);throw U;}},RJa=function(a,b){a=$APP.ih(a);var c=
$APP.af.h(a,$APP.cN),d=$APP.af.h(gKa,c);if($APP.k(d))return d.h?d.h(a,b):d.call(null,a,b);console.warn($APP.mr.h(" ",$APP.D(["Unhandled operation",c])));c=new $APP.h(null,1,["status",new $APP.H(null,3,5,$APP.I,["error","unknown-op","done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},hKa=function(a){return function(b,c){return a.write(XW(c))}},iKa=function(a,b){SW($APP.D(["Connection accepted"]));b.setNoDelay(!0);var c=TJa(VJa(a)),d=QJa(UJa(hKa(b))),e=$APP.tl.g(null);b.on("data",function(f){var l=
$APP.p(e);if($APP.k(l)){f=[$APP.n.g(l),$APP.n.g(f)].join("");$APP.Nh(e,null);var m=f}else m=f;a:for(f=$APP.D([$APP.oE,!0]),l=$APP.ii;;){var q=$APP.Ih.j(YW,m,f);m=$APP.B.j(q,0,null);q=$APP.B.j(q,1,null);if(null==m){l=new $APP.H(null,2,5,$APP.I,[l,q],null);break a}l=$APP.wg.h(l,m);m=q}f=$APP.B.j(l,0,null);l=$APP.B.j(l,1,null);$APP.vn(l)||$APP.Nh(e,l);f=$APP.u(f);l=null;for(var A=q=0;;)if(A<q)m=l.fa(null,A),c(m,d),A+=1;else if(f=$APP.u(f))l=f,$APP.Ie(l)?(f=$APP.bd(l),q=$APP.cd(l),l=f,m=$APP.fe(f),f=
q,q=m):(m=$APP.v(l),c(m,d),f=$APP.y(l),l=null,q=0),A=0;else return null});return b.on("close",function(f){return $APP.k(f)?SW($APP.D(["Connection lost"])):SW($APP.D(["Connection closed"]))})},kKa=function(){var a=$APP.p($APP.WQ);$APP.XS($APP.nr.resolve("script.cljs"));var b=function(){var e=$APP.dT.g(a);return $APP.k(e)?e:0}(),c=function(){var e=$APP.ABa.g(a);return $APP.k(e)?e:"127.0.0.1"}();(function(){var e=$APP.ob(a)?a.Zk:jKa.g(a);return $APP.k(e)?e:"info"})();var d=$APP.CBa.createServer($APP.go.h(iKa,
new $APP.h(null,1,[$APP.$S,$APP.Zx],null)));d.listen(b,c,function(){var e=d.address(),f=e.port;e=e.address;$APP.bE.l($APP.D([["nREPL server started on port ",$APP.n.g(f)," on host ",$APP.n.g(e)," - nrepl://",$APP.n.g(e),":",$APP.n.g(f)].join("")]));try{return $APP.Dy.writeFileSync(".nrepl-port",$APP.n.g(f))}catch(l){return console.warn($APP.mr.h(" ",$APP.D(["Could not write .nrepl-port",l])))}});return d},lKa=function(){function a(d){return $APP.rBa(new $APP.F(null,$APP.Em,new $APP.F(null,new $APP.F(null,
$APP.Em,new $APP.F(null,d,null,1,null),2,null),null,1,null),2,null))}var b=$APP.B.j($APP.XQ,0,null),c=$APP.B.j($APP.XQ,1,null);a(b).then(function(){return a(c)}).then(function(){return kKa()})},$Ja=new $APP.G(null,"_load-file?","_load-file?",-1198848711),UW=new $APP.G(null,"code","code",1586293142),mKa=new $APP.G(null,"load-file","load-file",-424586670),fKa=new $APP.G(null,"eldoc","eldoc",-1321421900),bKa=new $APP.G("nrepl.middleware.print","print","nrepl.middleware.print/print",-1616742548),nKa=
new $APP.G(null,"info","info",-317069002),YJa=new $APP.G(null,"sci-last-error","sci-last-error",1827844050),jKa=new $APP.G(null,"log_level","log_level",-1756736313),aKa=new $APP.G(null,"_line","_line",232847719),ZJa=new $APP.G(null,"_sci-ctx-atom","_sci-ctx-atom",-50746729),oKa=new $APP.G(null,"clone","clone",711747572),pKa=new $APP.G(null,"expander","expander",379138924),qKa=new $APP.G(null,"close","close",1835149582),rKa=new $APP.G(null,"describe","describe",1369790582),sKa=new $APP.G(null,"macroexpand",
"macroexpand",-130598183),PJa=new $APP.G(null,"session","session",1008279103),tKa=new $APP.G(null,"load-file?","load-file?",1892536169),uKa=new $APP.G(null,"complete","complete",-500388775),vKa=new $APP.G(null,"lookup","lookup",1225356838),cKa=new $APP.G("nrepl.middleware.print","options","nrepl.middleware.print/options",868480159);var ZW=function ZW(a,b){switch($APP.n.g(RW(a,1))){case "i":return a=QW(a,1),b=OJa(a,"e"),new $APP.H(null,2,5,$APP.I,[parseInt(RW(a,b)),QW(a,b+1)],null);case "l":var d=a=QW(a,1);for(a=$APP.Sc($APP.ii);;){if($APP.z.h($APP.n.g(RW(d,1)),"e"))return new $APP.H(null,2,5,$APP.I,[$APP.Uc(a),QW(d,1)],null);var e=ZW.h?ZW.h(d,b):ZW.call(null,d,b),f=$APP.B.j(e,0,null),l=$APP.B.j(e,1,null);e=l;a=$APP.hi.h(a,f);d=e}case "d":for(a=QW(a,1),f=$APP.ih(b),f=$APP.af.h(f,$APP.oE),d=a,e=$APP.Sc($APP.hh);;){if($APP.z.h($APP.n.g(RW(d,
1)),"e"))return new $APP.H(null,2,5,$APP.I,[$APP.Uc(e),QW(d,1)],null);a=ZW.h?ZW.h(d,b):ZW.call(null,d,b);d=$APP.B.j(a,0,null);l=$APP.B.j(a,1,null);l=ZW.h?ZW.h(l,b):ZW.call(null,l,b);a=$APP.B.j(l,0,null);l=$APP.B.j(l,1,null);d=$APP.k(f)?$APP.Nk.g(d):d;a=$APP.dj.j(e,d,a);d=l;e=a}default:return b=OJa(a,":"),f=parseInt(RW(a,b)),a=QW(a,b+1),new $APP.H(null,2,5,$APP.I,[$APP.n.g(RW(a,f)),QW(a,f)],null)}},YW=function YW(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;
return YW.l(arguments[0],1<c.length?new $APP.Bd(c.slice(1),0,null):null)};YW.l=function(a,b){try{return ZW(a,b)}catch(c){if(c instanceof Error)return new $APP.H(null,2,5,$APP.I,[null,a],null);throw c;}};YW.C=1;YW.G=function(a){var b=$APP.v(a);a=$APP.y(a);return this.l(b,a)};
var XW=function XW(a){for(;;){if("string"===typeof a)return[$APP.n.g(Buffer.from(a).length),":",a].join("");if(a instanceof $APP.G||a instanceof $APP.r)a=[function(){var c=$APP.Cg(a);return $APP.k(c)?[c,"/"].join(""):null}(),$APP.kk(a)].join("");else return"number"===typeof a?["i",$APP.n.g(a),"e"].join(""):$APP.He(a)||null==a?["l",$APP.n.g($APP.Ih.h($APP.n,$APP.Mk.h(XW,a))),"e"].join(""):$APP.Fe(a)?["d",$APP.n.g($APP.Ih.h($APP.n,$APP.Mk.h(function(){return function(c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,
1,null);return[$APP.n.g(XW.g?XW.g(d):XW.call(null,d)),$APP.n.g(XW.g?XW.g(c):XW.call(null,c))].join("")}}(a),$APP.TC.h($APP.v,a)))),"e"].join(""):null}};var VW=$APP.tl.g(null),TW=new $APP.h(null,3,["clojure.core/prn",$APP.cE,"clojure.pprint/pprint",$APP.hR,"cider.nrepl.pprint/pprint",$APP.hR],null),gKa=$APP.Ij([$APP.bT,vKa,qKa,mKa,fKa,oKa,rKa,nKa,uKa,sKa,$APP.Rva],[function(a,b){var c=new $APP.h(null,2,["status",new $APP.H(null,1,5,$APP.I,["done"],null),"classpath",$APP.on.h($APP.pr(),$APP.Fk($APP.nr.delimiter))],null);return b.h?b.h(a,c):b.call(null,a,c)},WW,function(a,b){var c=new $APP.h(null,1,["status",new $APP.H(null,1,5,$APP.I,["done"],null)],
null);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){a=$APP.ih(a);var c=$APP.af.h(a,$APP.mo);return dKa($APP.K.l(a,UW,c,$APP.D([tKa,!0,$APP.R,$APP.p($APP.cs)])),b)},WW,function(a,b){var c=new $APP.h(null,2,["new-session",$APP.n.g($APP.fm()),"status",new $APP.H(null,1,5,$APP.I,["done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){var c=new $APP.h(null,4,["versions",new $APP.h(null,2,["nbb-nrepl",WJa("TODO"),"node",WJa(process.version)],null),"aux",$APP.hh,"ops",$APP.lk($APP.Mk.h($APP.kk,
$APP.Wj(gKa)),$APP.Tt.g($APP.hh)),"status",new $APP.H(null,1,5,$APP.I,["done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},WW,function(a,b){var c=$APP.zBa(a);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){a=$APP.ih(a);var c=$APP.af.h(a,UW),d=$APP.af.h(a,pKa);try{return eKa($APP.K.j(a,UW,["( ",$APP.n.g(d),"(quote ",$APP.n.g(c),"))"].join("")),function(e,f){var l=f.g?f.g("value"):f.call(null,"value");f=$APP.k(l)?$APP.K.j(f,"expansion",l):f;return b.h?b.h(e,f):b.call(null,e,f)})}catch(e){if(e instanceof
Error)return c=new $APP.h(null,3,["ex",$APP.n.g(e),"ns",$APP.n.g($APP.p($APP.cs)),"status",new $APP.H(null,1,5,$APP.I,["done"],null)],null),b.h?b.h(a,c):b.call(null,a,c);throw e;}},eKa]);try{lKa()}catch(a){throw console.error("An error occurred when calling (nbb.impl.nrepl-server/init)"),a;};
export { $APP, shadow$provide, $jscomp };
