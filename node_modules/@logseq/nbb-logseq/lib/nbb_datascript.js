
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
const shadow_esm_import = function(x) { return import(x) };
'use strict';var FKa,kX,mX,lX,nX,pX,HKa,qX,rX,IKa,JKa,KKa,sX,tX,uX,LKa,vX,wX,xX,yX,zX,AX,BX,CX,DX,MKa,EX,FX,JX,KX,MX,NX,PX,RX,NKa,SX,QX,TX,UX,VX,OKa,PKa,WX,XX,YX,ZX,$X,aY,QKa,bY,RKa,fY,gY,hY,kY,TKa,lY,mY,oY,qY,VKa,rY,sY,tY,uY,vY,wY,xY,yY,zY,AY,WKa,BY,CY,DY,EY,FY,IY,JY,KY,LY,WY,XY,$Ka,aLa,bLa,hZ,kZ,nZ,eLa,oZ,pZ,qZ,rZ,AZ,BZ,CZ,gLa,IZ,JZ,yZ,HY,MZ,zZ,xZ,wZ,PZ,QZ,RZ,SZ,mLa,TZ,nLa,VZ,WZ,XZ,qLa,tLa,uLa,vLa,b_,c_,xLa,yLa,zLa,ALa,e_,m_,LLa,MLa,n_,p_,q_,l_,r_,u_,s_,t_,NLa,OLa,o_,v_,PLa,QLa,w_,RLa,G_,M_,O_,
ULa,VLa,WLa,Q_,XLa,YLa,T_,U_,V_,W_,X_,Y_,Z_,$_,a0,b0,c0,d0,e0,f0,h0,g0,i0,k0,l0,m0,n0,o0,bMa,cMa,dMa,gMa,p0,q0,r0,s0,t0,v0,u0,w0,x0,y0,z0,A0,B0,C0,D0,E0,F0,G0,iMa,H0,I0,J0,jMa,K0,L0,kMa,O0,P0,Q0,R0,S0,T0,lMa,mMa,nMa,U0,W0,X0,Y0,Z0,$0,a1,b1,c1,d1,e1,i1,pMa,j1,k1,qMa,sMa,l1,m1,n1,o1,p1,q1,r1,tMa,s1,uMa,vMa,wMa,xMa,yMa,y1,v1,zMa,A1,B1,AMa,CMa,DMa,D1,EMa,FMa,GMa,JMa,MMa,M1,N1,O1,NMa,P1,Q1,R1,T1,OMa,U1,V1,PMa,SMa,a2,b2,TMa,d2,UMa,VMa,WMa,XMa,e2,f2,g2,YMa,ZMa,$Ma,aNa,bNa,cNa,eNa,fNa,gNa,l2,hNa,jNa,kNa,
lNa,s2,t2,u2,mNa,nNa,oNa,iNa,r2,pNa,qNa,w2,rNa,sNa,tNa,uNa,vNa,x2,wNa,y2,z2,A2,B2,D2,xNa,E2,F2,G2,lLa,yNa,zNa,x_,ANa,GLa,H2,HMa,BNa,D_,CNa,g1,d_,DNa,ENa,FNa,GNa,jLa,I2,k_,J2,$La,HNa,KLa,K2,INa,LMa,JNa,c2,mZ,L2,i_,KNa,vZ,M2,LNa,C_,aMa,N2,TY,K1,MNa,O2,dLa,J1,H1,SLa,q2,NNa,ONa,ZY,oLa,PNa,QNa,RY,P2,o2,F1,RNa,SNa,TNa,lZ,UNa,VNa,WNa,XNa,YNa,L1,fLa,ZNa,Q2,$Na,aOa,QMa,jZ,V0,bOa,kLa,E_,aZ,R2,g_,cOa,SY,H_,C2,EZ,CLa,dOa,eOa,S_,fOa,pLa,jY,f1,iY,S2,gOa,XKa,PY,hOa,$Y,T2,YKa,iOa,jOa,u1,OZ,kOa,lOa,rMa,mOa,VY,nOa,
oOa,rLa,J_,$Z,pOa,ZKa,YY,dZ,BLa,h_,GY,qOa,ELa,j0,eZ,HZ,iZ,rOa,sOa,U2,tOa,uOa,F_,vOa,DLa,i2,wOa,ZZ,I_,xOa,YZ,V2,N_,KZ,yOa,zOa,AOa,BOa,COa,FLa,DOa,oMa,EOa,Y1,W2,FOa,GOa,K_,X1,HOa,k2,IOa,QY,p2,X2,I1,hLa,cZ,JOa,KOa,LOa,LZ,MOa,z_,bZ,NOa,fZ,iLa,OOa,NZ,DZ,POa,n2,Y2,BMa,QOa,L_,SKa,z1,ROa,hMa,SOa,E1,M0,x1,IMa,ILa,f_,N0,FZ,TOa,gZ,UY,JLa,UOa,a_,Z2,W1,VOa,WOa,$2,XOa,sLa,YOa,ZOa,G1,RMa,C1,$Oa,aPa,bPa,cPa,dPa,t1,a3,A_,UZ,B_,ePa,h1,fMa,HLa,y_,fPa,b3,KMa,eMa,gPa,c3,GZ;
FKa=function(a,b){a=a.split(".");var c=$APP.fy;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};kX=function(a,b,c,d,e){this.$e=a;this.si=b;this.ti=c;this.Le=d;this.nb=e;this.J=2147484416;this.N=0};
mX=function(a,b,c){var d=a.$e,e=a.si,f=a.ti,l=a.Le;a=a.nb;var m=f.h?f.h(b,null):f.call(null,b,null);if($APP.k(m))return new kX(d,$APP.K.j($APP.fo.h(e,m),l,b),$APP.K.j(f,b,l),l+1,a);b=new kX($APP.K.j(d,b,c),$APP.K.j(e,l,b),$APP.K.j(f,b,l),l+1,a);return lX.g?lX.g(b):lX.call(null,b)};lX=function(a){if($APP.fe(a.$e)>a.nb){var b=a.$e,c=a.si,d=a.ti,e=a.Le;a=a.nb;var f=$APP.v(c),l=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);return new kX($APP.fo.h(b,f),$APP.fo.h(c,l),$APP.fo.h(d,f),e,a)}return a};
nX=function(a,b,c){if(null!=a&&null!=a.oi)a=a.oi(a,b,c);else{var d=nX[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=nX._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("ICache.-get",a);}return a};
pX=function(){var a=$APP.Qh(new kX($APP.hh,$APP.MD(),$APP.hh,0,100));if("undefined"===typeof datascript||"undefined"===typeof GKa||"undefined"===typeof oX)oX=function(b,c,d){this.nb=b;this.mg=c;this.Kj=d;this.J=393216;this.N=0},oX.prototype.X=function(b,c){return new oX(this.nb,this.mg,c)},oX.prototype.W=function(){return this.Kj},oX.prototype.oi=function(b,c,d){b=$APP.af.j($APP.p(this.mg),c,null);return null==b?(d=d.F?d.F():d.call(null),$APP.jd(this.mg,$APP.K.j($APP.p(this.mg),c,d)),d):b},oX.Cc=
!0,oX.lc="datascript.lru/t_datascript$lru40813",oX.Kc=function(b){return $APP.Hc(b,"datascript.lru/t_datascript$lru40813")};return new oX(100,a,$APP.hh)};HKa=function(a){return $APP.nf.j(function(b,c){b.push(c);return b},[],a)};qX=function(a){return a instanceof Array};rX=function(a,b,c,d){for(var e=0,f=$APP.Pf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0>(a.h?a.h(l,d):a.call(null,l,d))?e=c+1:f=c-1}else return e};
IKa=function(a,b,c,d){for(var e=0,f=$APP.Pf(c);;)if(e<=f){c=e+f>>>1;var l=b[c];0<(a.h?a.h(l,d):a.call(null,l,d))?f=c-1:e=c+1}else return e};JKa=function(a,b,c){var d=b.length,e=rX(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.h?a.h(b,c):a.call(null,b,c));return d?e:-1};KKa=function(a,b,c){var d=b.length;a=rX(a,b,d-1,c);return a===d?-1:a};
sX=function(a,b,c,d,e,f){var l=f.length,m=d-b,q=m+l,A=Array(m+l+(c-e));d-=b;for(var x=0;;)if(x<d)A[x+0]=a[x+b],x+=1;else break;b=l-0;for(l=0;;)if(l<b)A[l+m]=f[l+0],l+=1;else break;c-=e;for(f=0;;)if(f<c)A[f+q]=a[f+e],f+=1;else break;return A};tX=function(a,b,c,d){return sX(a,0,a.length,b,c,d)};
uX=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,l=Array(f);e=Array(e-f);if(c<=f){for(var m=c-0,q=0;;)if(q<m)l[q+0]=a[q+0],q+=1;else break;a=f-c;for(m=0;;)if(m<a)l[m+c]=b[m+0],m+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{m=f-0;for(q=0;;)if(q<m)l[q+0]=a[q+0],q+=1;else break;m=c-f;for(q=0;;)if(q<m)e[q+0]=a[q+f],q+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[l,e]};
LKa=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var l=b[f+c],m=e[f+0];if(0!==(a.h?a.h(l,m):a.call(null,l,m)))return!1;f+=1}else return f};vX=function(a,b){return $APP.k(a)?$APP.k(b)?[a,b]:[a]:[b]};wX=function(a,b,c){return $APP.k(a)?$APP.k(b)?$APP.k(c)?[a,b,c]:[a,b]:$APP.k(c)?[a,c]:[a]:$APP.k(b)?$APP.k(c)?[b,c]:[b]:[c]};
xX=function(a){if(null!=a&&null!=a.Eh)a=a.Eh(a);else{var b=xX[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=xX._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("INode.node-lim-key",a);}return a};yX=function(a){if(null!=a&&null!=a.ui)a=a.keys.length;else{var b=yX[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=yX._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("INode.node-len",a);}return a};
zX=function(a,b){if(null!=a&&null!=a.Gh)a=a.Gh(a,b);else{var c=zX[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=zX._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("INode.node-merge",a);}return a};AX=function(a,b){if(null!=a&&null!=a.Hh)a=a.Hh(a,b);else{var c=AX[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=AX._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("INode.node-merge-n-split",a);}return a};
BX=function(a,b,c){if(null!=a&&null!=a.Fh)a=a.Fh(a,b,c);else{var d=BX[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=BX._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("INode.node-lookup",a);}return a};CX=function(a,b,c){if(null!=a&&null!=a.Ch)a=a.Ch(a,b,c);else{var d=CX[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=CX._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("INode.node-conj",a);}return a};
DX=function(a,b,c,d,e,f){if(null!=a&&null!=a.Dh)a=a.Dh(a,b,c,d,e,f);else{var l=DX[$APP.fa(null==a?null:a)];if(null!=l)a=l.xa?l.xa(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else if(l=DX._,null!=l)a=l.xa?l.xa(a,b,c,d,e,f):l.call(null,a,b,c,d,e,f);else throw $APP.vb("INode.node-disj",a);}return a};
MKa=function(a,b,c,d){if($APP.k(b))return[a];if(16<yX(a))return wX(c,a,d);if($APP.k($APP.k(c)?16>=yX(c):c))return vX(zX(c,a),d);if($APP.k($APP.k(d)?16>=yX(d):d))return vX(c,zX(a,d));if($APP.k($APP.k(c)?null==d||yX(c)<yX(d):c))return a=AX(c,a),wX(a[0],a[1],d);a=AX(a,d);return wX(c,a[0],a[1])};EX=function(a,b){this.keys=a;this.Sb=b};FX=function(a){this.keys=a};$APP.GX=function(a,b,c,d,e,f){this.root=a;this.shift=b;this.O=c;this.Lc=d;this.K=e;this.Sc=f;this.J=2297303311;this.N=8332};
JX=function(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Sb[HX&b>>>c],c-=IX;else return a.keys};KX=function(a,b,c,d){return new $APP.GX(b,c,d,a.Lc,a.K,null)};MX=function(a,b){return LX(a.root,b,a.shift)};NX=function(a,b){for(var c=0;;)if(0<b)c|=a.Sb.length-1<<b,b-=IX,a=a.Sb,a=a[a.length-1];else return c|a.keys.length-1<<0};PX=function(a,b){return OX(a.root,b,a.shift)};RX=function(a){if(0<yX(a.root)){var b=NX(a.root,a.shift)+1;return QX.j?QX.j(a,0,b):QX.call(null,a,0,b)}return null};
NKa=function(a,b,c){this.H=a;this.ob=b;this.end=c;this.J=524306;this.N=0};SX=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.N=1536};QX=function(a,b,c){return new SX(a,b,c,JX(a,b),HX&b>>>0)};TX=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.N=0};UX=function(a,b,c){return new TX(a,b,c,JX(a,c),HX&c>>>0)};
VX=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,l=a.shift;;){var m=yX(e);if(0===l){var q=e.keys;q=rX(d,q,m-1,b);b=m===q?-1:f|q<<0;break a}q=e.keys;q=rX(d,q,m-2,b);f|=q<<l;l-=IX;e=e.Sb[q]}if(0>b)return null;a:if(null==c)c=NX(a.root,a.shift)+1;else for(e=a.root,f=0,l=a.shift;;){q=yX(e);if(0===l){m=e.keys;q=IKa(d,m,q-1,c);c=f|q<<0;break a}m=e.keys;q=IKa(d,m,q-2,c);f|=q<<l;l-=IX;e=e.Sb[q]}return c>b?new SX(a,b,c,JX(a,b),HX&b>>>0):null};
OKa=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.g?a.g(f):a.call(null,f);b[e]=f;d+=1}else break;return b};PKa=function(a){var b=a.length,c=$APP.Sc($APP.ii);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){$APP.hi.h(c,a.slice(d));break}else 40<=e?($APP.hi.h(c,a.slice(d,d+24)),d+=24):(e>>>=1,$APP.hi.h(c,a.slice(d,d+e)),d+=e)}return $APP.of($APP.Uc(c))};
WX=function(a,b,c){b=CX(a.root,c,b);return null==b?a:1===b.length?KX(a,b[0],a.shift,a.O+1):KX(a,new EX(b.map(xX),b),a.shift+IX,a.O+1)};XX=function(a,b,c){b=DX(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof EX&&1===b.Sb.length?KX(a,b.Sb[0],a.shift-IX,a.O-1):KX(a,b,a.shift,a.O-1)};YX=function(a,b,c){return VX(a,b,c,a.Lc)};
ZX=function(a,b){for(var c=OKa(function(l){return new FX(l)},PKa(b)),d=c,e=0;;){var f=$APP.fe(d);switch(f){case 0:return new $APP.GX(new FX([]),0,0,a,null,null);case 1:return new $APP.GX($APP.v(d),e,b.length,a,null,null);default:d=OKa(function(){return function(l){return new EX(l.map(xX),l)}}(d,e,f,c),PKa(d)),e+=IX}}};$X=function(a){return new $APP.GX(new FX([]),0,0,a,null,null)};aY=function(a){return"string"!==typeof a&&($APP.Se(a)||qX(a))};
QKa=function(a,b,c){return $APP.v($APP.nf.j(function(d,e){var f=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Ud(e)?$APP.Td(new $APP.H(null,2,5,$APP.I,[e,d],null)):new $APP.H(null,2,5,$APP.I,[e,d+1],null)},new $APP.H(null,2,5,$APP.I,[b,0],null),c))};bY=function(a,b){return a^b+2654435769+(a<<6)+(a>>2)};
$APP.cY=function(a){if(null!=a&&null!=a.gb)a=a.gb(a);else{var b=$APP.cY[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.cY._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("IDatom.datom-tx",a);}return a};$APP.dY=function(a){if(null!=a&&null!=a.cd)a=a.cd(a);else{var b=$APP.dY[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$APP.dY._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("IDatom.datom-added",a);}return a};
$APP.eY=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Sc=f;this.J=2162164496;this.N=0};RKa=function(a){return a instanceof $APP.eY};fY=function(a){return bY(bY($APP.wd(a.e),$APP.wd(a.a)),$APP.wd(a.v))};gY=function(a,b){return a.e===b.e&&$APP.z.h(a.a,b.a)&&$APP.z.h(a.v,b.v)};hY=function(a){return new $APP.F(null,a.e,new $APP.F(null,a.a,new $APP.F(null,a.v,new $APP.F(null,a.gb(null),new $APP.F(null,a.cd(null),null,1,null),2,null),3,null),4,null),5,null)};
kY=function(a,b,c){return $APP.z.h(iY,b)?a.v:$APP.z.h("e",b)?a.e:$APP.z.h($APP.mM,b)?a.cd(null):$APP.z.h("v",b)?a.v:$APP.z.h($APP.KB,b)?a.e:$APP.z.h("a",b)?a.a:$APP.z.h(SKa,b)?a.gb(null):$APP.z.h("added",b)?a.cd(null):$APP.z.h("tx",b)?a.gb(null):$APP.z.h(jY,b)?a.a:c};TKa=function(a){switch(arguments.length){case 2:return lY(arguments[0],arguments[1]);case 3:return mY(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
lY=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.cd(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.n.g(b)].join(""));}};mY=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.cd(null);default:return c}};
oY=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "e":return nY.R(c,a.a,a.v,a.gb(null),a.cd(null));case "a":return nY.R(a.e,c,a.v,a.gb(null),a.cd(null));case "v":return nY.R(a.e,a.a,c,a.gb(null),a.cd(null));case "tx":return nY.R(a.e,a.a,a.v,c,a.cd(null));case "added":return nY.R(a.e,a.a,a.v,a.gb(null),c);default:throw new UKa(["invalid key for #datascript/Datom: ",$APP.n.g(b)].join(""));}};$APP.pY=function(a){return $APP.Ih.h(nY,a)};
qY=function(a,b){return null==a?0:null==b?0:$APP.ff(a,b)};VKa=function(a,b){return $APP.Ma($APP.wb($APP.ub(a)),$APP.wb($APP.ub(b)))};
rY=function(a,b){try{return $APP.z.h(a,b)?0:(null!=a?a.N&2048||$APP.vd===a.Od||(a.N?0:$APP.tb($APP.Zc,a)):$APP.tb($APP.Zc,a))?$APP.$c(a,b):$APP.ub(a)===$APP.ub(b)?"number"===typeof a||"string"===typeof a||$APP.ib(a)||!0===a||!1===a?$APP.Ma(a,b):$APP.wd(a)-$APP.wd(b):VKa(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.ub(a)===$APP.ub(b))throw c;return VKa(a,b)}throw d;}};sY=function(a,b){return null==a?0:null==b?0:rY(a,b)};
tY=function(a,b){var c=a.e-b.e;return 0===c?(c=qY(a.a,b.a),0===c?(c=sY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};uY=function(a,b){var c=qY(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=sY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};vY=function(a,b){var c=qY(a.a,b.a);return 0===c?(c=sY(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};wY=function(a,b){return a instanceof $APP.G?$APP.$c(a,b):$APP.Ma(a,b)};
xY=function(a,b){var c=a.e-b.e;return 0===c?(c=wY(a.a,b.a),0===c?(a=rY(a.v,b.v),0===a?0:a):c):c};yY=function(a,b){var c=a.e-b.e;return 0===c?(c=wY(a.a,b.a),0===c?(c=rY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};zY=function(a,b){var c=wY(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=rY(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};AY=function(a,b){var c=wY(a.a,b.a);return 0===c?(c=rY(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};WKa=function(){};
BY=function(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=BY[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=BY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("ISearch.-search",a);}return a};CY=function(a,b){return $APP.v(BY(a,b))};
DY=function(a,b,c){if(null!=a&&null!=a.uh)a=a.uh(a,b,c);else{var d=DY[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=DY._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("IIndexAccess.-datoms",a);}return a};
EY=function(a,b,c){if(null!=a&&null!=a.wh)a=a.wh(a,b,c);else{var d=EY[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=EY._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("IIndexAccess.-seek-datoms",a);}return a};
FY=function(a,b,c,d){if(null!=a&&null!=a.vh)a=a.vh(a,b,c,d);else{var e=FY[$APP.fa(null==a?null:a)];if(null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else if(e=FY._,null!=e)a=e.I?e.I(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.vb("IIndexAccess.-index-range",a);}return a};
IY=function(a,b,c){if($APP.z.h(b,GY)&&(b=$APP.v(c),null!=b&&!$APP.k(HY.h?HY.h(a,b):HY.call(null,a,b))))throw $APP.po.h(["Attribute ",$APP.pl.l($APP.D([b]))," should be marked as :db/index true"].join(""),new $APP.h(null,3,[$APP.lN,XKa,YKa,GY,ZKa,c],null));};JY=function(){};KY=function(a){if(null!=a&&null!=a.th)a=a.th(a);else{var b=KY[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=KY._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("IDB.-schema",a);}return a};
LY=function(a,b){if(null!=a&&null!=a.sh)a=a.sh(a,b);else{var c=LY[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=LY._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("IDB.-attrs-by",a);}return a};$APP.MY=function(a,b,c,d,e,f,l,m,q,A,x,C,t){this.ec=a;this.Lb=b;this.jc=c;this.ac=d;this.xc=e;this.yc=f;this.pc=l;this.oc=m;this.nc=q;this.hash=A;this.B=x;this.o=C;this.D=t;this.J=2230716170;this.N=139264};
WY=function(a){var b=$APP.fo.l(a,$APP.NY,$APP.D([$APP.OY,PY,GY,QY,RY,SY,TY,UY,VY]));b=$APP.Ge(a)?$APP.aj.h($APP.hh,b):b;return new $APP.MY($APP.NY.g(a),$APP.OY.g(a),PY.g(a),GY.g(a),QY.g(a),RY.g(a),SY.g(a),TY.g(a),UY.g(a),VY.g(a),null,$APP.jh(b),null)};XY=function(a,b,c,d,e,f){this.rc=a;this.Yb=b;this.hash=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};$Ka=function(a){return a instanceof XY?a.rc:a};
aLa=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db.unique/identity":return new $APP.H(null,3,5,$APP.I,[YY,ZY,$Y],null);case "db.unique/value":return new $APP.H(null,3,5,$APP.I,[YY,aZ,$Y],null);case "db.cardinality/many":return new $APP.H(null,1,5,$APP.I,[bZ],null);case "db.type/ref":return new $APP.H(null,2,5,$APP.I,[cZ,$Y],null);default:return $APP.z.h(dZ,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[dZ],null):$APP.z.h($Y,a)&&!0===b?new $APP.H(null,1,5,$APP.I,[$Y],null):$APP.z.h(eZ,a)?new $APP.H(null,
2,5,$APP.I,[fZ,$Y],null):$APP.ii}};bLa=function(a,b){return $APP.nf.j(function(c,d){return QKa(function(e,f,l){return $APP.Dp.R(e,f,$APP.K,d,l)},c,eZ.g($APP.af.h(a,d)))},$APP.hh,fZ.g(b))};hZ=function(a){var b=$APP.tf(function(c,d,e){return $APP.tf(function(f,l,m){return $APP.nf.j(function(q,A){return $APP.Dp.I(q,A,cLa,d)},f,aLa(l,m))},c,e)},$APP.hh,a);return $APP.K.j(b,gZ,bLa(a,b))};
kZ=function(a,b,c,d){if(null!=c&&!$APP.cf(d,c))throw $APP.po.h(["Bad attribute specification for ",$APP.pl.l($APP.D([$APP.gh([a,$APP.gh([b,c])])])),", expected one of ",$APP.n.g(d)].join(""),new $APP.h(null,4,[$APP.lN,iZ,jZ,a,$APP.EK,b,$APP.jI,c],null));};
nZ=function(a){for(var b=$APP.u(a),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),l=$APP.B.j(f,0,null),m=$APP.B.j(f,1,null),q=dZ.h(m,!1);kZ(l,dZ,dZ.g(m),new $APP.dk(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=q;return $APP.k(Z)?$APP.ak.h(lZ.g(m),cZ):Z}()))throw $APP.po.h(["Bad attribute specification for ",$APP.pl.l($APP.D([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,dZ],null));
kZ(l,YY,YY.g(m),new $APP.dk(null,new $APP.h(null,2,[ZY,null,aZ,null],null),null));kZ(l,lZ,lZ.g(m),new $APP.dk(null,new $APP.h(null,2,[fZ,null,cZ,null],null),null));kZ(l,mZ,mZ.g(m),new $APP.dk(null,new $APP.h(null,2,[bZ,null,dLa,null],null),null));if($APP.z.h(fZ,lZ.g(m))&&!$APP.cf(m,eZ))throw $APP.po.h(["Bad attribute specification for ",$APP.pl.l($APP.D([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,lZ],null));if($APP.cf(m,
eZ)){f=new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,eZ],null);if($APP.z.h(bZ,mZ.g(m)))throw $APP.po.h([$APP.pl.l($APP.D([l]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var A=eZ.g(m);if(!$APP.De(A))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.pl.l($APP.D([A]))].join(""),f);if($APP.ze(A))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t be empty"].join(""),f);A=$APP.u(A);for(var x=null,C=0,t=0;;)if(t<C){var J=
x.fa(null,t),O=$APP.K.j(f,$APP.jI,J);if($APP.cf($APP.af.h(a,J),eZ))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.pl.l($APP.D([J]))].join(""),O);if($APP.z.h(bZ,mZ.g($APP.af.h(a,J))))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.pl.l($APP.D([J]))].join(""),O);t+=1}else if(A=$APP.u(A)){if($APP.Ie(A))C=$APP.bd(A),A=$APP.cd(A),x=C,C=$APP.fe(C);else{x=$APP.v(A);C=$APP.K.j(f,$APP.jI,
x);if($APP.cf($APP.af.h(a,x),eZ))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.pl.l($APP.D([x]))].join(""),C);if($APP.z.h(bZ,mZ.g($APP.af.h(a,x))))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.pl.l($APP.D([x]))].join(""),C);A=$APP.y(A);x=null;C=0}t=0}else break}e+=1}else if(l=$APP.u(b)){b=l;if($APP.Ie(b))c=$APP.bd(b),b=$APP.cd(b),l=c,d=$APP.fe(c),c=l;else{c=$APP.v(b);l=$APP.B.j(c,
0,null);m=$APP.B.j(c,1,null);var U=dZ.h(m,!1);kZ(l,dZ,dZ.g(m),new $APP.dk(null,new $APP.h(null,2,[!0,null,!1,null],null),null));if($APP.k(function(){var Z=U;return $APP.k(Z)?$APP.ak.h(lZ.g(m),cZ):Z}()))throw $APP.po.h(["Bad attribute specification for ",$APP.pl.l($APP.D([l])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,dZ],null));kZ(l,YY,YY.g(m),new $APP.dk(null,new $APP.h(null,2,[ZY,null,aZ,null],null),null));kZ(l,
lZ,lZ.g(m),new $APP.dk(null,new $APP.h(null,2,[fZ,null,cZ,null],null),null));kZ(l,mZ,mZ.g(m),new $APP.dk(null,new $APP.h(null,2,[bZ,null,dLa,null],null),null));if($APP.z.h(fZ,lZ.g(m))&&!$APP.cf(m,eZ))throw $APP.po.h(["Bad attribute specification for ",$APP.pl.l($APP.D([l])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,lZ],null));if($APP.cf(m,eZ)){c=new $APP.h(null,3,[$APP.lN,iZ,jZ,l,$APP.EK,eZ],null);if($APP.z.h(bZ,mZ.g(m)))throw $APP.po.h([$APP.pl.l($APP.D([l])),
" has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=eZ.g(m);if(!$APP.De(d))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.pl.l($APP.D([d]))].join(""),c);if($APP.ze(d))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.u(d);e=null;for(A=f=0;;)if(A<f){x=e.fa(null,A);C=$APP.K.j(c,$APP.jI,x);if($APP.cf($APP.af.h(a,x),eZ))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",
$APP.pl.l($APP.D([x]))].join(""),C);if($APP.z.h(bZ,mZ.g($APP.af.h(a,x))))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.pl.l($APP.D([x]))].join(""),C);A+=1}else if(d=$APP.u(d)){if($APP.Ie(d))f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.fe(f);else{e=$APP.v(d);f=$APP.K.j(c,$APP.jI,e);if($APP.cf($APP.af.h(a,e),eZ))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.pl.l($APP.D([e]))].join(""),
f);if($APP.z.h(bZ,mZ.g($APP.af.h(a,e))))throw $APP.po.h([$APP.pl.l($APP.D([l]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.pl.l($APP.D([e]))].join(""),f);d=$APP.y(d);e=null;f=0}A=0}else break}b=$APP.y(b);c=null;d=0}e=0}else return null};eLa=function(a){var b=$APP.KB.g,c=nY.I(536870911,null,null,2147483647),d=nY.I(0,null,null,536870912);a=VX(a,d,c,a.Lc);a=null==a?null:$APP.Bc(a);b=b.call($APP.KB,$APP.v(a));return $APP.k(b)?b:0};
oZ=function(a){var b=$APP.p(a.hash);return 0===b?$APP.Nh(a.hash,bY($APP.wd(a.ec),$APP.wd(a.Lb))):b};pZ=function(a){var b=$APP.p(a.hash);(function(){var c=DY(a,$APP.OY,$APP.ii);return $APP.k(c)?c:$APP.ek})();return 0===b?(b=function(){var c=DY(a,$APP.OY,$APP.ii);return $APP.k(c)?c:$APP.ek}(),$APP.Nh(a.hash,bY($APP.wd(KY(a)),$APP.Md(b)))):b};
qZ=function(a,b){var c;if(c=b instanceof $APP.MY||b instanceof XY)if(c=$APP.z.h(KY(a),KY(b)))a:for(a=DY(a,$APP.OY,$APP.ii),c=DY(b,$APP.OY,$APP.ii),b=$APP.u(a),a=$APP.u(c);;){if(null==b){c=null==a;break a}if($APP.z.h($APP.v(b),$APP.v(a)))b=$APP.y(b),a=$APP.y(a);else{c=!1;break a}}return c};
rZ=function(a,b,c){$APP.Hc(b,"#datascript/DB {");$APP.Hc(b,":schema ");$APP.Lk(KY(a),b,c);$APP.Hc(b,", :datoms ");$APP.Ik(b,function(d,e,f){return $APP.Ik(e,$APP.Lk,"["," ","]",f,new $APP.H(null,4,5,$APP.I,[d.e,d.a,d.v,$APP.cY(d)],null))},"["," ","]",c,DY(a,$APP.OY,$APP.ii));return $APP.Hc(b,"}")};
$APP.uZ=function(a){var b=$APP.ih(a);a=$APP.af.h(b,$APP.NY);b=$APP.af.h(b,$APP.sZ);return tZ.h($APP.Mk.h(function(c){var d=$APP.B.j(c,0,null),e=$APP.B.j(c,1,null),f=$APP.B.j(c,2,null);c=$APP.B.j(c,3,null);return nY.I(d,e,f,c)},b),a)};
AZ=function(a,b,c,d,e,f,l){if($APP.k(c)){var m=new $APP.F(null,fLa,new $APP.F(null,vZ,new $APP.F(null,b,new $APP.F(null,c,new $APP.F(null,d,new $APP.F(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);wZ.h?wZ.h(c,m):wZ.call(null,c,m)}return nY.I(function(){var q=xZ.h?xZ.h(a,b):xZ.call(null,a,b);return $APP.k(q)?q:f}(),c,$APP.k(function(){var q=null!=d;return q?yZ.h?yZ.h(a,c):yZ.call(null,a,c):q}())?zZ.h?zZ.h(a,d):zZ.call(null,a,d):d,function(){var q=xZ.h?xZ.h(a,e):xZ.call(null,a,e);return $APP.k(q)?
q:l}())};BZ=function(a,b,c,d,e){var f=$APP.B.j(c,0,null),l=$APP.B.j(c,1,null),m=$APP.B.j(c,2,null);c=$APP.B.j(c,3,null);b=b instanceof $APP.G?b.S:null;switch(b){case "eavt":return AZ(a,f,l,m,c,d,e);case "aevt":return AZ(a,l,f,m,c,d,e);case "avet":return AZ(a,m,f,l,c,d,e);default:throw Error(["No matching clause: ",$APP.n.g(b)].join(""));}};CZ=function(a,b,c,d,e,f,l,m){this.rd=a;this.qd=b;this.ud=c;this.sd=d;this.vd=e;this.B=f;this.o=l;this.D=m;this.J=2230716170;this.N=139264};
gLa=function(a){var b=$APP.fo.l(a,DZ,$APP.D([EZ,FZ,GZ,HZ]));b=$APP.Ge(a)?$APP.aj.h($APP.hh,b):b;return new CZ(DZ.g(a),EZ.g(a),FZ.g(a),GZ.g(a),HZ.g(a),null,$APP.jh(b),null)};IZ=function(a,b,c){return $APP.cf(LY(a,c),b)};JZ=function(a,b){return IZ(a,b,bZ)};yZ=function(a,b){return IZ(a,b,cZ)};HY=function(a,b){return IZ(a,b,$Y)};
MZ=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.po.h(["Highest supported entity id is ",$APP.pl.l($APP.D([2147483647])),", got ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,KZ,$APP.jI,b],null));return b}if($APP.De(b)){var c=b,d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);if($APP.ak.h($APP.fe(b),2))throw $APP.po.h(["Lookup ref should contain 2 elements: ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,hLa,KZ,b],null));if(IZ(a,d,YY))return null==
c?null:$APP.KB.g($APP.v(DY(a,GY,b)));throw $APP.po.h(["Lookup ref attribute should be marked as :db/unique: ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,iLa,KZ,b],null));}if($APP.ib(b))b=$APP.D(b);else{if(b instanceof $APP.G)return $APP.KB.g($APP.v(DY(a,GY,new $APP.H(null,2,5,$APP.I,[LZ,b],null))));throw $APP.po.h(["Expected number or lookup ref for entity id, got ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,jLa,KZ,b],null));}}};
zZ=function(a,b){a=MZ(a,b);if($APP.k(a))return a;throw $APP.po.h(["Nothing found for entity id ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,kLa,KZ,b],null));};xZ=function(a,b){return $APP.k(b)?zZ(a,b):null};wZ=function(a,b){if(a instanceof $APP.G||"string"===typeof a)return null;throw $APP.po.h(["Bad entity attribute ",$APP.pl.l($APP.D([a]))," at ",$APP.pl.l($APP.D([b])),", expected keyword or string"].join(""),new $APP.h(null,3,[$APP.lN,NZ,jZ,a,OZ,b],null));};
PZ=function(a,b){if(null==a)throw $APP.po.h(["Cannot store nil as a value at ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,3,[$APP.lN,NZ,$APP.jI,a,OZ,b],null));return null};QZ=function(a){return $APP.hr.h(a,new $APP.H(null,2,5,$APP.I,[DZ,RY],null))+1};RZ=function(a){return $APP.z.h(a,lLa)||$APP.z.h(a,":db/current-tx")||$APP.z.h(a,"datomic.tx")||$APP.z.h(a,"datascript.tx")};SZ=function(a){return"number"===typeof a&&0>a||"string"===typeof a};
mLa=function(a,b){return b>QY.g(a)&&536870912>b?$APP.K.j(a,QY,b):a};TZ=function(a,b,c){var d=RZ(b)?$APP.Dp.R(a,GZ,$APP.K,b,c):a;d=SZ(b)?$APP.Dp.R(d,GZ,$APP.K,b,c):d;if(b=!SZ(b))a=EZ.g(a),b=c>QY.g(a)&&536870912>c;a=b?$APP.Dp.R(d,GZ,$APP.K,c,c):d;return $APP.Dp.I(a,EZ,mLa,c)};
nLa=function(a,b,c,d,e){return $APP.tf(function(f,l,m){var q=$APP.af.h(f,l);$APP.k(q)||(q=iY.g($APP.v(DY(c,$APP.OY,new $APP.H(null,2,5,$APP.I,[d,l],null)))),q=$APP.k(q)?q:$APP.pf($APP.Tt.h($APP.fe(eZ.g($APP.af.h(KY(c),l))),null)));m=$APP.K.j(q,m,e);return $APP.K.j(f,l,m)},a,b)};
VZ=function(a,b){var c=EZ.g(a),d=jY.g(b),e=$APP.Dp.I,f=$APP.K.j;var l=b.cd(null);l=$APP.k(l)?IZ(c,b.a,YY):l;if($APP.k(l)&&(l=$APP.jh(DY(c,GY,new $APP.H(null,2,5,$APP.I,[b.a,b.v],null))),null!=l))throw $APP.po.h(["Cannot add ",$APP.pl.l($APP.D([b]))," because of unique constraint: ",$APP.pl.l($APP.D([l]))].join(""),new $APP.h(null,3,[$APP.lN,oLa,jZ,b.a,pLa,b],null));l=HY(c,b.a);if($APP.k(b.cd(null))){var m=$APP.Dp.R(c,$APP.OY,WX,b,yY);m=$APP.Dp.R(m,PY,WX,b,zY);l=l?$APP.Dp.R(m,GY,WX,b,AY):m;l=mLa(l,
b.e);l=$APP.K.j(l,VY,$APP.tl.g(0))}else if(m=CY(c,new $APP.H(null,3,5,$APP.I,[b.e,b.a,b.v],null)),null==m)l=c;else{var q=$APP.Dp.R(c,$APP.OY,XX,m,yY);q=$APP.Dp.R(q,PY,XX,m,zY);l=l?$APP.Dp.R(q,GY,XX,m,AY):q;l=$APP.K.j(l,VY,$APP.tl.g(0))}a=e.call($APP.Dp,f.call($APP.K,a,EZ,l),FZ,$APP.wg,b);return IZ(c,d,gZ)?(e=$APP.KB.g(b),b=$APP.k($APP.dY(b))?iY.g(b):null,f=$APP.af.h(UZ.g(a),e),f=$APP.k(f)?f:$APP.hh,d=$APP.af.h(LY(c,gZ),d),c=nLa(f,d,c,e,b),$APP.Dp.R(a,UZ,$APP.K,e,c)):a};
WZ=function(a){if(a instanceof $APP.G)return $APP.z.h("_",$APP.B.h($APP.kk(a),0));if("string"===typeof a)return $APP.Ra($APP.Ak(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.po.h(["Bad attribute type: ",$APP.pl.l($APP.D([a])),", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.lN,NZ,jZ,a],null));};
XZ=function(a){if(a instanceof $APP.G)return WZ(a)?$APP.Nk.h($APP.Cg(a),$APP.Ek.h($APP.kk(a),1)):$APP.Nk.h($APP.Cg(a),["_",$APP.kk(a)].join(""));if("string"===typeof a){var b=$APP.Ak(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.B.j(b,0,null);a=$APP.B.j(b,1,null);b=$APP.B.j(b,2,null);return $APP.z.h("_",$APP.B.h(b,0))?$APP.k(a)?[$APP.n.g(a),"/",$APP.Ek.h(b,1)].join(""):$APP.Ek.h(b,1):$APP.k(a)?[$APP.n.g(a),"/_",$APP.n.g(b)].join(""):["_",$APP.n.g(b)].join("")}throw $APP.po.h(["Bad attribute type: ",$APP.pl.l($APP.D([a])),
", expected keyword or string"].join(""),new $APP.h(null,2,[$APP.lN,NZ,jZ,a],null));};
qLa=function(a,b){function c(f,l){return $APP.nf.j(function(m,q){var A=d(f,q);return null==A?$APP.Dp.I(m,0,$APP.wg,q):$APP.Dp.R(m,1,$APP.K,q,A)},new $APP.H(null,2,5,$APP.I,[$APP.ii,$APP.hh],null),l)}function d(f,l){return $APP.KB.g($APP.v(DY(a,GY,new $APP.H(null,2,5,$APP.I,[f,l],null))))}var e=$APP.jh(LY(a,ZY));return null==e?new $APP.H(null,2,5,$APP.I,[b,null],null):$APP.tf(function(f,l,m){var q=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);if($APP.cf(e,l)){if(JZ(a,l)&&(qX(m)||$APP.Ae(m)&&!$APP.Fe(m))){var A=
c(l,m);m=$APP.B.j(A,0,null);A=$APP.B.j(A,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.ze(m)?q:$APP.K.j(q,l,m),$APP.ze(A)?f:$APP.K.j(f,l,A)],null)}A=d(l,m);return null==A?new $APP.H(null,2,5,$APP.I,[$APP.K.j(q,l,m),f],null):new $APP.H(null,2,5,$APP.I,[q,$APP.K.j(f,l,$APP.gh([m,A]))],null)}return new $APP.H(null,2,5,$APP.I,[$APP.K.j(q,l,m),f],null)},new $APP.H(null,2,5,$APP.I,[$APP.hh,$APP.hh],null),b)};
tLa=function(a,b){var c=$APP.tf(function(l,m,q){return $APP.tf(function(A,x,C){return $APP.K.j(A,C,new $APP.H(null,2,5,$APP.I,[m,x],null))},l,q)},$APP.hh,b);if(2<=$APP.fe(c)){b=$APP.v(c);a=$APP.B.j(b,0,null);var d=$APP.B.j(b,1,null);b=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);var e=$APP.ke(c);c=$APP.B.j(e,0,null);var f=$APP.B.j(e,1,null);e=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);throw $APP.po.h(["Conflicting upserts: ",$APP.pl.l($APP.D([new $APP.H(null,2,5,$APP.I,[b,d],null)]))," resolves to ",$APP.pl.l($APP.D([a])),
", but ",$APP.pl.l($APP.D([new $APP.H(null,2,5,$APP.I,[e,f],null)]))," resolves to ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,3,[$APP.lN,YZ,rLa,new $APP.H(null,3,5,$APP.I,[a,b,d],null),sLa,new $APP.H(null,3,5,$APP.I,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.B.j(d,0,null);c=$APP.B.j(d,1,null);d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);a=ZZ.g(a);if(null!=b&&null!=a&&!SZ(a)&&$APP.ak.h(b,a))throw $APP.po.h(["Conflicting upsert: ",$APP.pl.l($APP.D([new $APP.H(null,2,5,$APP.I,[d,c],null)]))," resolves to ",
$APP.pl.l($APP.D([b])),", but entity already has :db/id ",$APP.pl.l($APP.D([a]))].join(""),new $APP.h(null,3,[$APP.lN,YZ,rLa,new $APP.H(null,3,5,$APP.I,[b,d,c],null),sLa,new $APP.h(null,1,[ZZ,a],null)],null));return b};uLa=function(a,b,c){return WZ(b)||JZ(a,b)?qX(c)||$APP.Ae(c)&&!$APP.Fe(c)?$APP.z.h($APP.fe(c),2)&&IZ(a,$APP.v(c),ZY)?new $APP.H(null,1,5,$APP.I,[c],null):c:new $APP.H(null,1,5,$APP.I,[c],null):new $APP.H(null,1,5,$APP.I,[c],null)};
vLa=function(a,b){var c=ZZ.g(b),d=$APP.Ih.h($APP.N,$APP.nf.j(function(e,f){var l=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);return $APP.Dp.I(e,IZ(a,l,fZ)?1:0,$APP.wg,new $APP.H(null,2,5,$APP.I,[l,f],null))},new $APP.H(null,2,5,$APP.I,[$APP.ii,$APP.ii],null),b));return function l(f){return new $APP.Kg(null,function(){for(var m=f;;){var q=$APP.u(m);if(q){var A=q,x=$APP.v(A),C=$APP.B.j(x,0,null),t=$APP.B.j(x,1,null);if($APP.ak.h(C,ZZ)){var J=wZ(C,$APP.gh([ZZ,c,C,t])),O=WZ(C),U=O?XZ(C):C;if(O&&!yZ(a,U))throw $APP.po.h(["Bad attribute ",
$APP.pl.l($APP.D([C])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.h(null,3,[$APP.lN,NZ,jZ,C,OZ,$APP.gh([ZZ,c,C,t])],null));if(q=$APP.u(function(Z,oa,qa,sa,Aa,Ea,va,w,E,V,X,Y){return function xa(ta){return new $APP.Kg(null,function(Ha,Ja,Na,Sa,gb,mb,qb,jb,yb,Gb,Kb){return function(){for(;;){var cc=$APP.u(ta);if(cc){if($APP.Ie(cc)){var ic=$APP.bd(cc),vc=$APP.fe(ic),Pc=$APP.Ng(vc);a:for(var Vd=0;;)if(Vd<vc){var zc=$APP.re(ic,Vd);$APP.Rg(Pc,yZ(a,Sa)&&
$APP.Fe(zc)?$APP.K.j(zc,XZ(qb),Kb):Na?new $APP.H(null,4,5,$APP.I,[$Z,zc,Sa,Kb],null):new $APP.H(null,4,5,$APP.I,[$Z,Kb,Sa,zc],null));Vd+=1}else{ic=!0;break a}return ic?$APP.Qg($APP.Sg(Pc),xa($APP.cd(cc))):$APP.Qg($APP.Sg(Pc),null)}Pc=$APP.v(cc);return $APP.zg(yZ(a,Sa)&&$APP.Fe(Pc)?$APP.K.j(Pc,XZ(qb),Kb):Na?new $APP.H(null,4,5,$APP.I,[$Z,Pc,Sa,Kb],null):new $APP.H(null,4,5,$APP.I,[$Z,Kb,Sa,Pc],null),xa($APP.Gd(cc)))}return null}}}(Z,oa,qa,sa,Aa,Ea,va,w,E,V,X,Y),null,null)}}(m,J,O,U,null,x,C,t,A,q,
c,d)(uLa(a,C,t))))return $APP.N.h(q,l($APP.Gd(m)))}m=$APP.Gd(m)}else return null}},null,null)}(d)};
b_=function(a,b){$APP.B.j(b,0,null);var c=$APP.B.j(b,1,null),d=$APP.B.j(b,2,null),e=$APP.B.j(b,3,null),f=$APP.B.j(b,4,null);wZ(d,b);PZ(e,b);b=$APP.k(f)?f:QZ(a);f=EZ.g(a);c=zZ(f,c);e=yZ(f,d)?zZ(f,e):e;var l=nY.I(c,d,e,b);f=JZ(f,d)?CY(f,new $APP.H(null,3,5,$APP.I,[c,d,e],null)):CY(f,new $APP.H(null,2,5,$APP.I,[c,d],null));return null==f?VZ(a,l):$APP.z.h(f.v,e)?$APP.Dp.I(a,a_,wLa,l):VZ(VZ(a,nY.R(c,d,f.v,b,!1)),l)};c_=function(a,b){var c=QZ(a);return VZ(a,nY.R(b.e,b.a,b.v,c,!1))};
xLa=function(a,b){return $APP.aj.j($APP.ek,$APP.cv.h($APP.fi.g(function(c){return IZ(a,c.a,dZ)}),$APP.Mk.g(function(c){return new $APP.H(null,2,5,$APP.I,[d_,c.v],null)})),b)};
yLa=function(a,b,c,d,e){if($APP.cf(GZ.g(a),d))throw $APP.po.h(["Conflicting upsert: ",$APP.pl.l($APP.D([d]))," resolves both to ",$APP.pl.l($APP.D([e]))," and ",$APP.pl.l($APP.D([$APP.hr.h(a,new $APP.H(null,2,5,$APP.I,[GZ,d],null))]))].join(""),new $APP.h(null,1,[$APP.lN,YZ],null));b=$APP.K.j(GZ.g(b),d,e);a=$APP.K.j(a,GZ,b);return e_.h?e_.h(a,c):e_.call(null,a,c)};
zLa=function(a){var b=EZ.g(a);KY(b);LY(b,gZ);return $APP.tf(function(c,d,e){return $APP.tf(function(f,l,m){m=$APP.Ch($APP.hb,m)?null:m;var q=iY.g($APP.v(DY(b,$APP.OY,new $APP.H(null,2,5,$APP.I,[d,l],null))));return $APP.z.h(m,q)?f:null==m?$APP.wg.h(f,$APP.ve(new $APP.H(null,4,5,$APP.I,[f_,d,l,q],null),new $APP.h(null,1,[g_,!0],null))):$APP.wg.h(f,$APP.ve(new $APP.H(null,4,5,$APP.I,[$Z,d,l,m],null),new $APP.h(null,1,[g_,!0],null)))},c,e)},$APP.ii,UZ.g(a))};
ALa=function(a){var b=h_.g(a);b=$APP.nf.j(function(c,d){return $APP.k($APP.dY(d))?$APP.fo.h(c,$APP.KB.g(d)):c},b,$APP.N.h(FZ.g(a),a_.g(a)));if($APP.ze(b))return $APP.fo.l(a,h_,$APP.D([a_]));throw $APP.po.h(["Tempids used only as value in transaction: ",$APP.pl.l($APP.D([$APP.SC.g($APP.Yj(b))]))].join(""),new $APP.h(null,2,[$APP.lN,NZ,GZ,b],null));};
e_=function(a,b){if(null!=b&&!$APP.De(b))throw $APP.po.h(["Bad transaction data ",$APP.pl.l($APP.D([b])),", expected sequential collection"].join(""),new $APP.h(null,2,[$APP.lN,NZ,FZ,b],null));for(var c=!$APP.ze(LY(EZ.g(a),fZ)),d=c?$APP.St.h(b,$APP.Tt.g(BLa)):b,e=a,f=d;;){if($APP.ze(f))return $APP.Dp.R($APP.Dp.R(ALa(e),GZ,$APP.K,lLa,QZ(e)),EZ,$APP.Dp,RY,$APP.Rd);var l=f,m=$APP.u(l),q=$APP.v(m),A=$APP.y(m),x=q,C=A;if(null==x)f=C;else if($APP.z.h(BLa,x))if($APP.cf(e,UZ)){var t=$APP.fo.h(e,UZ);C=$APP.N.h(zLa(e),
C);e=t;f=C}else f=C;else{var J=EZ.g(e),O=GZ.g(e);if($APP.Fe(x)){var U=ZZ.g(x);if(RZ(U))t=QZ(e),e=TZ(e,U,t),f=C=$APP.zg($APP.K.j(x,ZZ,t),C);else if($APP.De(U))t=zZ(J,U),f=C=$APP.zg($APP.K.j(x,ZZ,t),C);else{var Z=qLa(J,x);t=$APP.B.j(Z,0,null);Z=$APP.B.j(Z,1,null);var oa=tLa(t,Z);if(null!=oa){if(SZ(U)&&$APP.cf(O,U)&&$APP.ak.h(oa,$APP.af.h(O,U)))return yLa(a,e,b,U,oa);e=$APP.Dp.I(TZ(e,U,oa),a_,wLa,nY.I(oa,null,null,536870912));f=C=$APP.N.h(vLa(J,$APP.K.j(t,ZZ,oa)),C)}else if("number"===typeof U||null==
U||"string"===typeof U)t=null==U?QY.g(J)+1:SZ(U)?function(){var Sa=$APP.af.h(O,U);return $APP.k(Sa)?Sa:QY.g(J)+1}():U,x=$APP.K.j(x,ZZ,t),e=TZ(e,U,t),f=C=$APP.N.h(vLa(J,x),C);else throw $APP.po.h(["Expected number, string or lookup ref for :db/id, got ",$APP.pl.l($APP.D([U]))].join(""),new $APP.h(null,2,[$APP.lN,jLa,CLa,x],null));}}else if($APP.De(x)){var qa=x;Z=$APP.B.j(qa,0,null);var sa=$APP.B.j(qa,1,null);t=$APP.B.j(qa,2,null);var Aa=$APP.B.j(qa,3,null);if($APP.z.h(Z,i_)){t=$APP.u(x);x=$APP.v(t);
t=$APP.y(t);var Ea=x;x=$APP.v(t);t=$APP.y(t);f=C=$APP.N.h($APP.Ih.j(x,J,t),C)}else if(Z instanceof $APP.G&&$APP.lb(j_.g?j_.g(Z):j_.call(null,Z))){Ea=MZ(J,Z);if(null==Ea)throw $APP.po.h(["Can’t find entity for transaction fn ",$APP.pl.l($APP.D([Z]))].join(""),new $APP.h(null,3,[$APP.lN,NZ,k_,i_,FZ,x],null));sa=iY.g(CY(J,new $APP.H(null,2,5,$APP.I,[Ea,DLa],null)));t=$APP.y(x);if($APP.te(sa))f=C=$APP.N.h($APP.Ih.j(sa,J,t),C);else throw $APP.po.h(["Entity ",$APP.pl.l($APP.D([Z]))," expected to have :db/fn attribute with fn? value"].join(""),
new $APP.h(null,3,[$APP.lN,NZ,k_,i_,FZ,x],null));}else{if(SZ(sa)&&$APP.ak.h(Z,$Z))throw $APP.po.h(["Can't use tempid in '",$APP.pl.l($APP.D([x])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.h(null,2,[$APP.lN,NZ,$APP.cN,x],null));if($APP.z.h(Z,ELa)||$APP.z.h(Z,FLa)){var va=x;Ea=$APP.B.j(va,0,null);var w=$APP.B.j(va,1,null),E=$APP.B.j(va,2,null),V=$APP.B.j(va,3,null),X=$APP.B.j(va,4,null),Y=zZ(J,w),ra=wZ(E,x),ta=yZ(J,E)?zZ(J,V):V,xa=yZ(J,E)?zZ(J,X):X,Ha=PZ(xa,x),Ja=$APP.pf(BY(J,new $APP.H(null,
2,5,$APP.I,[Y,E],null)));if(JZ(J,E))if($APP.k($APP.Eh(function(Sa,gb,mb,qb,jb,yb,Gb,Kb,cc,ic,vc){return function(Pc){return $APP.z.h(Pc.v,vc)}}(e,f,va,Ea,w,E,V,X,Y,ra,ta,xa,Ha,Ja,qa,Z,sa,t,Aa,J,O,l,m,q,A,x,C,a,c,d),Ja)))e=b_(e,new $APP.H(null,4,5,$APP.I,[$Z,Y,E,xa],null)),f=C;else throw $APP.po.h([":db.fn/cas failed on datom [",$APP.pl.l($APP.D([Y]))," ",$APP.pl.l($APP.D([E]))," ",$APP.pl.l($APP.D([$APP.Mk.h(iY,Ja)])),"], expected ",$APP.pl.l($APP.D([ta]))].join(""),new $APP.h(null,4,[$APP.lN,GLa,
HLa,Ja,$APP.NM,ta,ILa,xa],null));else if(Z=iY.g($APP.v(Ja)),$APP.z.h(Z,ta))e=b_(e,new $APP.H(null,4,5,$APP.I,[$Z,Y,E,xa],null)),f=C;else throw $APP.po.h([":db.fn/cas failed on datom [",$APP.pl.l($APP.D([Y]))," ",$APP.pl.l($APP.D([E]))," ",$APP.pl.l($APP.D([Z])),"], expected ",$APP.pl.l($APP.D([ta]))].join(""),new $APP.h(null,4,[$APP.lN,GLa,HLa,$APP.v(Ja),$APP.NM,ta,ILa,xa],null));}else if(RZ(sa))x=TZ(e,sa,QZ(e)),C=$APP.zg(new $APP.H(null,4,5,$APP.I,[Z,QZ(e),t,Aa],null),C),e=x,f=C;else if(yZ(J,t)&&
RZ(Aa))x=TZ(e,Aa,QZ(e)),C=$APP.zg(new $APP.H(null,4,5,$APP.I,[Z,sa,t,QZ(e)],null),C),e=x,f=C;else if(yZ(J,t)&&SZ(Aa))Ea=$APP.af.h(O,Aa),null==Ea?(x=QY.g(J)+1,e=$APP.Dp.R(TZ(e,Aa,x),h_,$APP.K,x,Aa),f=C=f):(x=Ea,e=$APP.Dp.R(e,h_,$APP.K,x,Aa),f=C=$APP.zg(new $APP.H(null,4,5,$APP.I,[Z,sa,t,x],null),C));else if(SZ(sa)){oa=IZ(J,t,ZY)?$APP.KB.g($APP.v(DY(J,GY,new $APP.H(null,2,5,$APP.I,[t,Aa],null)))):null;var Na=$APP.af.h(O,sa);if($APP.k(function(){var Sa=oa;return $APP.k(Sa)?(Sa=Na,$APP.k(Sa)?$APP.ak.h(oa,
Na):Sa):Sa}()))return yLa(a,e,b,sa,oa);x=function(){var Sa=oa;if($APP.k(Sa))return Sa;Sa=Na;return $APP.k(Sa)?Sa:QY.g(J)+1}();e=TZ(e,sa,x);f=C=$APP.zg(new $APP.H(null,4,5,$APP.I,[Z,x,t,Aa],null),C)}else if($APP.lb(g_.g($APP.we(x)))&&IZ(J,t,fZ))if(w=$APP.hr.h(J,new $APP.H(null,3,5,$APP.I,[$APP.NY,t,eZ],null)),$APP.z.h($APP.fe(w),$APP.fe(Aa))&&$APP.Ch($APP.nb,Aa)&&$APP.Ch(function(Sa,gb,mb,qb,jb,yb,Gb,Kb,cc){return function(ic){var vc=$APP.B.j(ic,0,null);ic=$APP.B.j(ic,1,null);vc=iY.g($APP.v(DY(cc,
$APP.OY,new $APP.H(null,2,5,$APP.I,[yb,vc],null))));return $APP.z.h(ic,vc)}}(e,f,w,qa,Z,sa,t,Aa,J,O,l,m,q,A,x,C,a,c,d),$APP.Mk.j($APP.fv,w,Aa)))f=C;else throw $APP.po.h(["Can’t modify tuple attrs directly: ",$APP.pl.l($APP.D([x]))].join(""),new $APP.h(null,2,[$APP.lN,NZ,FZ,x],null));else if($APP.z.h(Z,$Z))e=b_(e,x),f=C;else if($APP.z.h(Z,f_)&&null!=Aa)Ea=MZ(J,sa),null==Ea?f=C:(w=Ea,Z=yZ(J,t)?zZ(J,Aa):Aa,wZ(t,x),PZ(Z,x),t=CY(J,new $APP.H(null,3,5,$APP.I,[w,t,Z],null)),null==t?f=C:(e=c_(e,t),f=C));
else if($APP.z.h(Z,JLa)||$APP.z.h(Z,f_))Ea=MZ(J,sa),null==Ea?f=C:(w=Ea,Ea=wZ(t,x),Ja=$APP.pf(BY(J,new $APP.H(null,2,5,$APP.I,[w,t],null))),e=$APP.nf.j(c_,e,Ja),f=C=$APP.N.h(xLa(J,Ja),C));else if($APP.z.h(Z,d_)||$APP.z.h(Z,KLa))Ea=MZ(J,sa),null==Ea?f=C:(w=Ea,Ja=$APP.pf(BY(J,new $APP.H(null,1,5,$APP.I,[w],null))),t=$APP.pf($APP.bi.l(function(Sa,gb,mb,qb,jb,yb,Gb,Kb,cc,ic,vc){return function(Pc){return BY(vc,new $APP.H(null,3,5,$APP.I,[null,Pc,qb],null))}}(e,f,Ja,w,Ea,qa,Z,sa,t,Aa,J,O,l,m,q,A,x,C,a,
c,d),$APP.D([LY(J,cZ)]))),e=$APP.nf.j(c_,e,$APP.N.h(Ja,t)),f=C=$APP.N.h(xLa(J,Ja),C));else throw $APP.po.h(["Unknown operation at ",$APP.pl.l($APP.D([x])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new $APP.h(null,3,[$APP.lN,NZ,k_,Z,FZ,x],null));}}else if(RKa(x))Z=
x,sa=$APP.B.j(Z,0,null),t=$APP.B.j(Z,1,null),Aa=$APP.B.j(Z,2,null),x=$APP.B.j(Z,3,null),Z=$APP.B.j(Z,4,null),$APP.k(Z)?(e=b_(e,new $APP.H(null,5,5,$APP.I,[$Z,sa,t,Aa,x],null)),f=C):f=C=$APP.zg(new $APP.H(null,4,5,$APP.I,[f_,sa,t,Aa],null),C);else throw $APP.po.h(["Bad entity type at ",$APP.pl.l($APP.D([x])),", expected map or vector"].join(""),new $APP.h(null,2,[$APP.lN,NZ,FZ,x],null));}}};
m_=function(a,b){b="number"===typeof b||$APP.De(b)||b instanceof $APP.G?MZ(a,b):null;if($APP.k(b)){var c=$APP.Qh(!1),d=$APP.Qh($APP.hh);return l_.I?l_.I(a,b,c,d):l_.call(null,a,b,c,d)}return null};LLa=function(a,b,c){return JZ(a,b)?yZ(a,b)?$APP.nf.j(function(d,e){return $APP.wg.h(d,m_(a,iY.g(e)))},$APP.ek,c):$APP.nf.j(function(d,e){return $APP.wg.h(d,iY.g(e))},$APP.ek,c):yZ(a,b)?m_(a,iY.g($APP.v(c))):iY.g($APP.v(c))};
MLa=function(a,b,c,d){b=$APP.jh(BY(a,new $APP.H(null,3,5,$APP.I,[null,c,b],null)));return $APP.k(b)?IZ(a,c,dZ)?m_(a,$APP.KB.g($APP.v(b))):$APP.nf.j(function(e,f){return $APP.wg.h(e,m_(a,$APP.KB.g(f)))},$APP.ek,b):d};n_=function(a){return $APP.k(a)?$APP.of(a):null};
p_=function(a){o_.g?o_.g(a):o_.call(null,a);return function d(c){return new $APP.Kg(null,function(){for(;;){var e=$APP.u(c);if(e){if($APP.Ie(e)){var f=$APP.bd(e),l=$APP.fe(f),m=$APP.Ng(l);a:for(var q=0;;)if(q<l){var A=$APP.re(f,q),x=$APP.B.j(A,0,null);A=$APP.B.j(A,1,null);$APP.Rg(m,JZ(a.db,x)?new $APP.H(null,2,5,$APP.I,[x,n_(A)],null):new $APP.H(null,2,5,$APP.I,[x,A],null));q+=1}else{f=!0;break a}return f?$APP.Qg($APP.Sg(m),d($APP.cd(e))):$APP.Qg($APP.Sg(m),null)}f=$APP.v(e);m=$APP.B.j(f,0,null);
f=$APP.B.j(f,1,null);return $APP.zg(JZ(a.db,m)?new $APP.H(null,2,5,$APP.I,[m,n_(f)],null):new $APP.H(null,2,5,$APP.I,[m,f],null),d($APP.Gd(e)))}return null}},null,null)}($APP.p(a.cache))};q_=function(a,b,c,d){this.db=a;this.eid=b;this.Ph=c;this.cache=d;this.J=2162164483;this.N=0};l_=function(a,b,c,d){return new q_(a,b,c,d)};r_=function(a,b){return b instanceof q_&&$APP.z.h(a.eid,b.eid)};
u_=function(a){switch(arguments.length){case 2:return s_(arguments[0],arguments[1]);case 3:return t_(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};s_=function(a,b){return t_(a,b,null)};
t_=function(a,b,c){if($APP.z.h(b,ZZ))return a.eid;if(WZ(b))return MLa(a.db,a.eid,XZ(b),c);var d=$APP.p(a.cache);d=d.g?d.g(b):d.call(null,b);if(null==d){if($APP.k($APP.p(a.Ph)))return c;d=$APP.jh(BY(a.db,new $APP.H(null,2,5,$APP.I,[a.eid,b],null)));if(null==d)return c;c=LLa(a.db,b,d);$APP.Rh(a.cache,$APP.K.j($APP.p(a.cache),b,c));return c}return d};
NLa=function(a,b){return $APP.tf(function(c,d,e){return $APP.K.j(c,d,IZ(a,d,dZ)?JZ(a,d)?$APP.ik($APP.Mk.h(o_,e)):o_.g?o_.g(e):o_.call(null,e):e)},$APP.hh,b)};OLa=function(a,b){return $APP.nf.j(function(c,d){var e=jY.g($APP.v(d));return $APP.K.j(c,e,LLa(a,e,d))},$APP.hh,$APP.VD.h(jY,b))};o_=function(a){if(!$APP.k($APP.p(a.Ph))){var b=$APP.jh(BY(a.db,new $APP.H(null,1,5,$APP.I,[a.eid],null)));$APP.k(b)&&($APP.Rh(a.cache,NLa(a.db,OLa(a.db,b))),$APP.jd(a.Ph,!0))}return a};
v_=function(a){return $APP.nf.j($APP.XB,0,a)};PLa=function(a){return v_(a)/$APP.fe(a)};
QLa=function(a){var b=PLa(a);return v_(function(){return function e(d){return new $APP.Kg(null,function(){for(;;){var f=$APP.u(d);if(f){if($APP.Ie(f)){var l=$APP.bd(f),m=$APP.fe(l),q=$APP.Ng(m);a:for(var A=0;;)if(A<m){var x=$APP.re(l,A)-b;q.add(x*x);A+=1}else{l=!0;break a}return l?$APP.Qg($APP.Sg(q),e($APP.cd(f))):$APP.Qg($APP.Sg(q),null)}q=$APP.v(f)-b;return $APP.zg(q*q,e($APP.Gd(f)))}return null}},null,null)}(a)}())/$APP.fe(a)};
w_=function(a,b,c,d,e,f,l,m,q,A,x,C,t,J,O){this.as=a;this.tc=b;this.nb=c;this.name=d;this.pattern=e;this.Zb=f;this.ya=l;this.dc=m;this.pb=q;this.Xb=A;this.$b=x;this.Vb=C;this.B=t;this.o=J;this.D=O;this.J=2230716170;this.N=139264};
RLa=function(a){var b=$APP.fo.l(a,$APP.hs,$APP.D([$APP.pp,x_,$APP.Q,y_,z_,A_,B_,C_,D_,E_,F_]));b=$APP.Ge(a)?$APP.aj.h($APP.hh,b):b;return new w_($APP.hs.g(a),$APP.pp.g(a),x_.g(a),$APP.Q.g(a),y_.g(a),z_.g(a),A_.g(a),B_.g(a),C_.g(a),D_.g(a),E_.g(a),F_.g(a),null,$APP.jh(b),null)};G_=function(a,b,c,d,e,f,l,m){this.pa=a;this.Wc=b;this.fd=c;this.Pc=d;this.ic=e;this.B=f;this.o=l;this.D=m;this.J=2230716170;this.N=139264};
M_=function(a){var b=$APP.fo.l(a,H_,$APP.D([I_,J_,K_,L_]));b=$APP.Ge(a)?$APP.aj.h($APP.hh,b):b;return new G_(H_.g(a),I_.g(a),J_.g(a),K_.g(a),L_.g(a),null,$APP.jh(b),null)};O_=function(a,b,c){if($APP.k(a))return null;throw $APP.po.h(["Expected ",$APP.n.g(b),", got: ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,2,[$APP.lN,SLa,N_,c],null));};
ULa=function(a,b){var c=WZ(b),d=c?XZ(b):b,e=yZ(a,d),f=IZ(a,d,dZ);a=JZ(a,d);if(c){O_(e,"reverse attribute having :db.type/ref",b);var l=!0}else l=null;return RLa($APP.Ij([C_,x_,B_,$APP.Q,$APP.hs,F_,E_,D_,y_],[$APP.uf,a?1E3:null,l,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?P_:f?TLa:P_:null]))};VLa=function(a,b,c){O_("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);O_(JZ(a,$APP.Q.g(b)),"limit attribute having :db.cardinality/many",$APP.Q.g(b))};
WLa=function(a,b){var c=function(){var d=$APP.v(b);return Q_.h?Q_.h(a,d):Q_.call(null,a,d)}();if(null==c)return null;O_($APP.Gh($APP.fe($APP.y(b))),"even number of opts",b);return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);switch(f instanceof $APP.G?f.S:null){case "as":return $APP.K.j(d,$APP.hs,e);case "limit":return VLa(a,d,e),$APP.K.j(d,x_,e);case "default":return $APP.K.j(d,$APP.pp,e);case "xform":f=$APP.K.j;var l=$APP.te(e)?e:null;if($APP.k(l))e=l;else if(l=$APP.af.h(R_,
e),$APP.k(l))e=l;else throw $APP.po.h(["Can't resolve symbol ",$APP.pl.l($APP.D([e]))].join(""),new $APP.h(null,2,[$APP.lN,SLa,N_,e],null));return f.call($APP.K,d,C_,e);default:return O_(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.fs.h(2,$APP.y(b)))};
Q_=function(a,b){var c;!(c=b instanceof $APP.G)&&(c="string"===typeof b)&&(c=new $APP.dk(null,new $APP.h(null,2,["limit",null,"default",null],null),null),c=c.g?c.g(b):c.call(null,b),c=$APP.lb(c));if(c)return ULa(a,b);if($APP.De(b)){c=WLa(a,b);if($APP.k(c))return c;c=$APP.v(b);var d=new $APP.dk(null,new $APP.h(null,2,[$APP.vF,null,"limit",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(O_($APP.z.h($APP.fe(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.B.j(b,0,null),d=$APP.B.j(b,
1,null),c=$APP.B.j(b,2,null),d=Q_.h?Q_.h(a,d):Q_.call(null,a,d),VLa(a,d,c),c=$APP.K.j(d,x_,c)):c=null;if($APP.k(c))return c;c=$APP.v(b);d=new $APP.dk(null,new $APP.h(null,2,[$APP.Cw,null,"default",null],null),null);c=d.g?d.g(c):d.call(null,c);$APP.k(c)?(O_($APP.z.h($APP.fe(b),3),"['default attr-name any-value]",b),$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),c=$APP.B.j(b,2,null),a=Q_.h?Q_.h(a,d):Q_.call(null,a,d),a=$APP.K.j(a,$APP.pp,c)):a=null;return $APP.k(a)?a:O_(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};XLa=function(a,b){return $APP.Eh(function(c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.k(a.g?a.g(d):a.call(null,d))?c:null},$APP.Mk.j($APP.fv,b,$APP.Fp.F()))};YLa=function(a,b){var c=$APP.k(B_.g(b))?K_:H_,d=XLa(function(e){return $APP.z.h($APP.hs.g(e),$APP.hs.g(b))},$APP.af.h(a,c));return null==d?$APP.Dp.I(a,c,$APP.wg,b):$APP.Dp.R(a,c,$APP.K,d,b)};
T_=function(a,b){O_($APP.De(b),"pattern to be sequential?",b);for(var c=M_(new $APP.h(null,3,[H_,$APP.ii,K_,$APP.ii,L_,null],null));;){if($APP.ze(b)){var d=c.pa,e=function(){return function(m){m=m.name;var q=new $APP.dk(null,new $APP.h(null,2,[ZZ,null,":db/id",null],null),null);return q.g?q.g(m):q.call(null,m)}}(b,c,d);b=function(){return function(m){m=$APP.Q.g(m);return m instanceof $APP.G?m:$APP.z.h(":",$APP.Ek.j(m,0,1))?$APP.Nk.g($APP.Ek.h(m,1)):$APP.Nk.g(m)}}(b,c,d,e);d=$APP.k(function(){var m=
c.ic;return $APP.k(m)?$APP.lb($APP.Eh(e,c.pa)):m}())?$APP.wg.h(d,ZLa):d;d=$APP.hv.g($APP.TC.h(b,d));var f=$APP.Ut.h(e,d),l=$APP.v(f);f=$APP.pe(f);return M_(new $APP.h(null,5,[H_,d,I_,l,J_,f,K_,$APP.hv.g($APP.TC.h(b,c.Pc)),L_,c.ic],null))}l=$APP.v(b);if($APP.z.h($APP.fO,l)||$APP.z.h("*",l)||$APP.z.h($La,l))b=$APP.y(b),c=d=$APP.K.j(c,L_,!0);else if($APP.Fe(l))d=$APP.tf(function(){return function(m,q,A){var x=Q_(a,q);O_(null!=x,"attr-name | attr-expr",q);O_(yZ(a,$APP.Q.g(x)),"attribute having :db.type/ref",
q);$APP.z.h(S_,A)||$APP.z.h("...",A)?q=$APP.K.l(x,y_,null,$APP.D([A_,!0,z_,null])):"number"===typeof A?(O_(0<A,"(positive-num | ...)",$APP.gh([q,A])),q=$APP.K.l(x,y_,null,$APP.D([A_,!0,z_,A]))):q=$APP.K.j(x,y_,T_.h?T_.h(a,A):T_.call(null,a,A));return YLa(m,q)}}(b,c,l),c,l),b=$APP.y(b),c=d;else{d=Q_(a,l);if(null==d)return O_(!1,"attr-name | attr-expr | map-spec | *",l);b=$APP.y(b);c=d=YLa(c,d)}}};U_=function(a){return null==a?null:$APP.Ob(a)};V_=function(a){return null==a?null:$APP.Rb(a)};
W_=function(a,b){return null==a?new $APP.F(null,b,null,1,null):$APP.Lb(a,b)};X_=function(a,b,c,d,e){this.db=a;this.fe=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};Y_=function(a,b,c,d,e){a=a.fe;null==a||(a.I?a.I(b,c,d,e):a.call(null,b,c,d,e))};Z_=function(a,b){if(null!=a&&null!=a.Gg)a=a.Gg(a,b);else{var c=Z_[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Z_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("IFrame.-merge",a);}return a};
$_=function(a,b){if(null!=a&&null!=a.Nf)a=a.Nf(a,b);else{var c=$_[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=$_._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("IFrame.-run",a);}return a};a0=function(a,b,c,d,e){this.value=a;this.ua=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};b0=function(a,b,c,d,e,f){this.ka=a;this.ga=b;this.ua=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};
c0=function(a,b,c,d,e,f,l,m,q){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.ua=f;this.B=l;this.o=m;this.D=q;this.J=2230716170;this.N=139264};d0=function(a,b,c,d,e,f,l,m,q,A,x){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.pa=f;this.ua=l;this.id=m;this.B=q;this.o=A;this.D=x;this.J=2230716170;this.N=139264};e0=function(a,b,c,d,e,f,l,m,q,A){this.qa=a;this.va=b;this.ka=c;this.pattern=d;this.ga=e;this.pa=f;this.id=l;this.B=m;this.o=q;this.D=A;this.J=2230716170;this.N=139264};
f0=function(a,b,c,d,e,f,l){return new e0(a,b,c,d,e,f,l,null,null,null)};
h0=function(a,b,c,d,e,f){var l=e.ya;$APP.k(l)||(l=e.Vb,l=$APP.k(l)?e.pattern.ic:l);if($APP.lb(l))return d=e.pattern,g0.R?g0.R(a,b,c,d,f):g0.call(null,a,b,c,d,f);if($APP.k(b.g?b.g(f):b.call(null,f)))return new a0(new $APP.h(null,1,[ZZ,f],null),null,null,null,null);l=c.g?c.g(e):c.call(null,e);if($APP.k($APP.k(l)?0>=l:l))return new a0(null,null,null,null,null);b=$APP.wg.h(b,f);c=$APP.k(l)?$APP.Dp.j(c,e,$APP.vf):$APP.k(e.Zb)?$APP.K.j(c,e,e.Zb-1):c;d=$APP.k(e.ya)?d:e.pattern;return g0.R?g0.R(a,b,c,d,f):
g0.call(null,a,b,c,d,f)};
g0=function(a,b,c,d,e){var f=a.db,l=$APP.k(function(){var m=d.ic;return $APP.k(m)?f instanceof $APP.MY:m}())?YX(f.Lb,nY.I(e,null,null,536870912),nY.I(e,null,null,2147483647)):$APP.k(d.ic)?BY(f,new $APP.H(null,1,5,$APP.I,[e],null)):null==d.Wc?null:function(){var m=d.Wc.name,q=d.fd.name;return f instanceof $APP.MY?YX(f.Lb,nY.I(e,m,null,536870912),nY.I(e,q,null,2147483647)):EY(f,$APP.OY,new $APP.H(null,1,5,$APP.I,[e],null))}();$APP.k(d.ic)&&Y_(a,aMa,e,null,null);return new d0(b,c,$APP.Sc($APP.hh),d,
U_(d.pa),V_(d.pa),l,e,null,null,null)};i0=function(a,b){var c=$APP.ih(a);a=$APP.af.h(c,OZ);c=$APP.af.h(c,y_);b=MZ(a.db,b);if(null==b)return null;for(c=new $APP.F(null,g0(a,$APP.ek,$APP.hh,c,b),null,1,null);;){b=U_(c);var d=V_(c);if(b instanceof a0){if(null==d)return b.value;c=U_(d);d=V_(d);c=W_(d,Z_(c,b))}else c=$APP.nf.j(W_,d,$_(b,a))}};k0=function(a,b,c){c=$APP.ih(c);c=$APP.af.h(c,j0);return new $APP.h(null,2,[y_,nX($Ka(a).oc,b,function(){return T_(a,b)}),OZ,new X_(a,c,null,null,null)],null)};
l0=function(a,b){return $APP.ib(a)?a[b]:$APP.B.h(a,b)};m0=function(a,b){return $APP.Fe(a)?a.g?a.g(b):a.call(null,b):a[b]};n0=function(a,b){var c=Array($APP.fe(b));$APP.nf.j(function(d,e){c[d]=a.g?a.g(e):a.call(null,e);return d+1},0,b);return c};o0=function(a,b){var c=Array($APP.fe(b));$APP.nf.j(function(d,e){c[d]=a.h?a.h(d,e):a.call(null,d,e);return d+1},0,b);return c};bMa=function(a,b){return null==b.a?-1:0>=$APP.ff(a.a,b.a)?-1:1};
cMa=function(a){if($APP.ze(PY.g(a)))return $APP.ii;for(var b=$APP.Sc(new $APP.H(null,1,5,$APP.I,[jY.g($APP.v(PY.g(a)))],null));;){var c=$APP.B.h(b,$APP.fe(b)-1),d=nY.j(0,c,null),e=nY.j(2147483647,null,null);c=jY;var f=c.g,l=PY.g(a);d=VX(l,d,e,bMa);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.hi.h(b,c);else return $APP.Uc(b)}};dMa=function(a){return 0==a.lastIndexOf(":",0)?$APP.Nk.g($APP.Ek.h(a,1)):a};
gMa=function(a,b){b=$APP.ih(b);var c=$APP.af.j(b,eMa,$APP.pl),d=$APP.af.j(b,fMa,$APP.n),e=cMa(a),f=$APP.aj.h($APP.hh,$APP.Mk.j($APP.fv,e,$APP.Fp.F())),l=$APP.Qh($APP.Sc($APP.ii)),m=$APP.Qh($APP.Sc($APP.hh));b=o0(function(C,t){t.idx=C|0;C=t.e;var J=t.a;J=f.g?f.g(J):f.call(null,J);var O=t.v;if("string"!==typeof O)if("number"===typeof O)O=Infinity===O?[2]:-Infinity===O?[3]:$APP.k(isNaN(O))?[4]:O;else if(!$APP.Oe(O))if(O instanceof $APP.G){var U=$APP.af.h($APP.p(m),O);$APP.k(U)?O=U:(U=l.Tc(null,$APP.hi.h(l.Qa(null),
O)),U=$APP.fe(U)-1,m.Tc(null,$APP.dj.j(m.Qa(null),O,U)),O=U);O=[0,O]}else O=[1,c.g?c.g(O):c.call(null,O)];return[C,J,O,t.tx-536870912]},$APP.OY.g(a));var q=o0(function(C,t){return t.idx},PY.g(a)),A=o0(function(C,t){return t.idx},GY.g(a)),x=function(){var C=$APP.NY.g(a);return c.g?c.g(C):c.call(null,C)}();e=n0(d,e);d=n0(d,$APP.Uc($APP.p(l)));return{count:$APP.fe($APP.OY.g(a)),tx0:536870912,"max-eid":QY.g(a),"max-tx":RY.g(a),schema:x,attrs:e,keywords:d,eavt:b,aevt:q,avet:A}};p0=function(){};
q0=function(a,b,c){if(null!=a&&null!=a.lb)a=a.lb(a,b,c);else{var d=q0[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=q0._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("ITraversable.-collect",a);}return a};r0=function(a,b){if(null!=a&&null!=a.mb)a=a.mb(a,b);else{var c=r0[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=r0._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("ITraversable.-collect-vars",a);}return a};
s0=function(a,b){return $APP.De(a)&&$APP.z.h($APP.fe(a),b)};t0=function(a,b){return $APP.De(b)?$APP.nf.j(function(c,d){d=a.g?a.g(d):a.call(null,d);return $APP.k(d)?$APP.wg.h(c,d):$APP.Td(null)},$APP.ii,b):null};v0=function(a,b){return u0(a,b,$APP.ii)};u0=function(a,b,c){return $APP.k(a.g?a.g(b):a.call(null,b))?$APP.wg.h(c,b):(null!=b?$APP.vd===b.kb||(b.zd?0:$APP.tb(p0,b)):$APP.tb(p0,b))?q0(b,a,c):aY(b)?$APP.nf.j(function(d,e){return u0(a,e,d)},c,b):c};
w0=function(a){var b=$APP.ze(a);return b?b:$APP.Ih.h($APP.Oq,a)};x0=function(a,b){return $APP.ve(a,new $APP.h(null,1,[$APP.co,b],null))};y0=function(a){var b=$APP.co.g($APP.we(a));return $APP.k(b)?b:a};z0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};A0=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};B0=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};
C0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};D0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};E0=function(a,b,c,d){this.value=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};F0=function(a,b,c,d){this.Ia=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};G0=function(a){return a instanceof $APP.r&&$APP.z.h($APP.v($APP.kk(a)),"?")?new A0(a,null,null,null):null};
iMa=function(a){var b=G0(a);if($APP.k(b))return b;throw $APP.po.h(["Cannot parse var, expected symbol starting with ?, got: ",$APP.pl.l($APP.D([a]))].join(""),new $APP.h(null,2,[$APP.lN,hMa,$APP.RG,a],null));};H0=function(a){return a instanceof $APP.r&&$APP.z.h($APP.v($APP.kk(a)),"$")?new B0(a,null,null,null):null};I0=function(a){return a instanceof $APP.r&&$APP.z.h($APP.v($APP.kk(a)),"?")?null:new E0(a,null,null,null)};
J0=function(a){return a instanceof $APP.r&&$APP.lb(G0(a))&&$APP.lb(H0(a))&&$APP.lb($APP.z.h($APP.Iu,a)?new D0(null,null,null):null)&&$APP.lb($APP.z.h($APP.JF,a)?new z0(null,null,null):null)?new F0(a,null,null,null):null};jMa=function(a){return $APP.k(J0(a))?new A0(a,null,null,null):null};K0=function(a){var b=G0(a);if($APP.k(b))return b;b=H0(a);return $APP.k(b)?b:I0(a)};L0=function(a,b,c,d,e){this.required=a;this.Ed=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
kMa=function(a){if($APP.De(a)){var b=$APP.De($APP.v(a))?new $APP.H(null,2,5,$APP.I,[$APP.v(a),$APP.y(a)],null):new $APP.H(null,2,5,$APP.I,[null,a],null),c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=t0(iMa,c);b=t0(iMa,b);if($APP.ze(c)&&$APP.ze(b))throw $APP.po.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.lN,M0,$APP.RG,a],null));if(!$APP.k(w0($APP.N.h(c,b))))throw $APP.po.h("Rule variables should be distinct",new $APP.h(null,2,[$APP.lN,M0,$APP.RG,
a],null));return new L0(c,b,null,null,null)}throw $APP.po.h("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.h(null,2,[$APP.lN,M0,$APP.RG,a],null));};O0=function(a){return $APP.N.h($APP.k($APP.yM.g(a))?new $APP.H(null,1,5,$APP.I,[$APP.et.h($APP.ep,$APP.yM.g(a))],null):null,$APP.et.h($APP.ep,N0.g(a)))};P0=function(a){return new $APP.H(null,2,5,$APP.I,[$APP.fe($APP.yM.g(a)),$APP.fe(N0.g(a))],null)};
Q0=function(a,b,c){this.B=a;this.o=b;this.D=c;this.J=2230716170;this.N=139264};R0=function(a,b,c,d){this.Hb=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};S0=function(a,b,c,d){this.kc=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};T0=function(a,b,c,d){this.binding=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};lMa=function(a){return $APP.z.h($APP.JF,a)?x0(new Q0(null,null,null),a):null};
mMa=function(a){var b=lMa(a);return $APP.k(b)?b:U0.g?U0.g(a):U0.call(null,a)};nMa=function(a){var b=t0(mMa,a);if($APP.k(b)){if($APP.ze(b))throw $APP.po.h("Tuple binding cannot be empty",new $APP.h(null,2,[$APP.lN,V0,$APP.RG,a],null));return x0(new S0(b,null,null,null),a)}return null};
U0=function(a){a:{if(s0(a,2)&&$APP.z.h($APP.ke(a),S_)){var b=$APP.v(a);b=U0.g?U0.g(b):U0.call(null,b);if($APP.k(b)){b=x0(new T0(b,null,null,null),a);break a}throw $APP.po.h("Cannot parse collection binding",new $APP.h(null,2,[$APP.lN,V0,$APP.RG,a],null));}b=null}if($APP.k(b))return b;b=s0(a,1)&&$APP.De($APP.v(a))?x0(new T0(nMa($APP.v(a)),null,null,null),a):null;if($APP.k(b))return b;b=nMa(a);if($APP.k(b))return b;b=lMa(a);if($APP.k(b))return b;b=G0(a);b=$APP.k(b)?x0(new R0(b,null,null,null),a):null;
if($APP.k(b))return b;throw $APP.po.h("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.lN,V0,$APP.RG,a],null));};W0=function(a){if(null!=a&&null!=a.Fg)a=a.Fg(a);else{var b=W0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=W0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("IFindVars.-find-vars",a);}return a};X0=function(a,b,c,d,e){this.ia=a;this.wa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
Y0=function(a,b,c,d,e,f){this.source=a;this.Hb=b;this.pattern=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};Z0=function(a){if(null!=a&&null!=a.Mf)a=a.Mf(a);else{var b=Z0[$APP.fa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Z0._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.vb("IFindElements.find-elements",a);}return a};$0=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};
a1=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};b1=function(a,b,c,d){this.element=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};c1=function(a,b,c,d){this.elements=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};d1=function(a){return a instanceof X0};e1=function(a){return a instanceof Y0};
i1=function(a){var b=G0(a);if($APP.k(b))return b;a:{if($APP.De(a)&&$APP.z.h($APP.v(a),f1)){if(3<=$APP.fe(a)&&4>=$APP.fe(a)){var c=(b=$APP.z.h($APP.fe(a),4))?$APP.B.h(a,1):g1;b=b?$APP.oe(a):$APP.y(a);var d=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=H0(c);d=G0(d);var e=G0(b);$APP.k(e)?b=e:(e=jMa(b),b=$APP.k(e)?e:I0(b));if($APP.k($APP.k(c)?$APP.k(d)?b:d:c)){b=new Y0(c,d,b,null,null,null);break a}}throw $APP.po.h("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.h(null,2,[$APP.lN,h1,N_,a],null));}b=null}if($APP.k(b))return b;a:{if($APP.De(a)&&$APP.z.h($APP.v(a),oMa)){if(3<=$APP.fe(a)&&(b=$APP.u(a),$APP.v(b),c=$APP.y(b),b=$APP.v(c),c=$APP.y(c),b=G0(b),c=t0(K0,c),$APP.k($APP.k(b)?c:b))){b=new X0(b,c,null,null,null);break a}throw $APP.po.h("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.h(null,2,[$APP.lN,h1,N_,a],null));}b=null}$APP.k(b)?a=b:$APP.De(a)&&2<=$APP.fe(a)?(b=$APP.u(a),a=$APP.v(b),b=$APP.y(b),a=J0(a),
b=t0(K0,b),a=$APP.k($APP.k(a)?b:a)?new X0(a,b,null,null,null):null):a=null;return a};
pMa=function(a){var b=t0(i1,a);b=null==b?null:new $0(b,null,null,null);if($APP.k(b))return b;a:{if($APP.De(a)&&$APP.z.h($APP.fe(a),1)&&(b=$APP.v(a),$APP.De(b)&&$APP.z.h($APP.fe(b),2)&&$APP.z.h($APP.ke(b),S_))){b=i1($APP.v(b));b=null==b?null:new a1(b,null,null,null);break a}b=null}if($APP.k(b))return b;$APP.De(a)&&$APP.z.h($APP.fe(a),2)&&$APP.z.h($APP.ke(a),$APP.Cm)?(b=i1($APP.v(a)),b=null==b?null:new b1(b,null,null,null)):b=null;if($APP.k(b))return b;$APP.De(a)&&$APP.z.h($APP.fe(a),1)?(b=$APP.v(a),
b=t0(i1,b),b=null==b?null:new c1(b,null,null,null)):b=null;if($APP.k(b))return b;throw $APP.po.h("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.h(null,2,[$APP.lN,h1,N_,a],null));};j1=function(a,b,c,d,e){this.type=a;this.Jd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
k1=function(a,b){if(!$APP.ze(b)&&$APP.Ch($APP.xd,b))switch(a instanceof $APP.G?a.S:null){case "keys":return new j1(a,$APP.et.h($APP.Nk,b),null,null,null);case "syms":return new j1(a,$APP.pf(b),null,null,null);case "strs":return new j1(a,$APP.et.h($APP.n,b),null,null,null);default:return null}else return null};qMa=function(a){var b=H0(a);$APP.k(b)||(b=$APP.z.h($APP.Iu,a)?new D0(null,null,null):null,b=$APP.k(b)?b:jMa(a));return $APP.k(b)?x0(new R0(b,null,null,null),a):U0(a)};
sMa=function(a){var b=t0(qMa,a);if($APP.k(b))return b;throw $APP.po.h("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.h(null,2,[$APP.lN,rMa,$APP.RG,a],null));};l1=function(a,b,c,d,e){this.source=a;this.pattern=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};m1=function(a,b,c,d,e){this.ia=a;this.wa=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
n1=function(a,b,c,d,e,f){this.ia=a;this.wa=b;this.binding=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};o1=function(a,b,c,d,e,f){this.source=a;this.name=b;this.wa=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};p1=function(a,b,c,d,e,f){this.source=a;this.Ib=b;this.Ca=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};q1=function(a,b,c,d,e,f){this.source=a;this.hd=b;this.Ca=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};
r1=function(a,b,c,d){this.Ca=a;this.B=b;this.o=c;this.D=d;this.J=2230716170;this.N=139264};tMa=function(a){var b=$APP.z.h($APP.JF,a)?new z0(null,null,null):null;if($APP.k(b))return b;b=G0(a);return $APP.k(b)?b:I0(a)};s1=function(a){if($APP.De(a)){var b=H0($APP.v(a));return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[b,$APP.y(a)],null):new $APP.H(null,2,5,$APP.I,[new C0(null,null,null),a],null)}return null};
uMa=function(a){if($APP.De(a)){var b=$APP.u(a);a=$APP.v(b);b=$APP.y(b);b=null==b?$APP.ii:b;var c=J0(a);a=$APP.k(c)?c:G0(a);b=t0(K0,b);return $APP.k($APP.k(a)?b:a)?new $APP.H(null,2,5,$APP.I,[a,b],null):null}return null};vMa=function(a,b,c){if($APP.ze(a)&&$APP.ze(b))throw $APP.po.h("Join variables should not be empty",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,c],null));};wMa=function(a,b){vMa(null,$APP.xL.g(a),b);return a};
xMa=function(a,b){var c=$APP.ih(a);c=$APP.af.h(c,u1);var d=$APP.ih(c);c=$APP.af.h(d,$APP.yM);d=$APP.af.h(d,N0);vMa(c,d,b);return a};yMa=function(a){if($APP.De(a)&&$APP.z.h($APP.xv,$APP.v(a))){var b=$APP.y(a);b=v1.g?v1.g(b):v1.call(null,b);if($APP.k($APP.jh(b)))return new r1(b,null,null,null);throw $APP.po.h("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));}return null};
y1=function(a){a:{var b=s1(a);if($APP.k(b)){var c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);var d=$APP.u(b);b=$APP.v(d);d=$APP.y(d);if($APP.z.h($APP.lK,b)){b=v1.g?v1.g(d):v1.call(null,d);if($APP.k(b)){c=wMa(x0(new p1(c,$APP.pf($APP.QD.g(w1($APP.ii,b))),b,null,null,null),a),a);break a}throw $APP.po.h("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));}}c=null}if($APP.k(c))return c;a:{b=s1(a);if($APP.k(b)){c=$APP.B.j(b,0,null);b=$APP.B.j(b,
1,null);d=$APP.u(b);b=$APP.v(d);var e=$APP.y(d);d=$APP.v(e);e=$APP.y(e);if($APP.z.h(x1,b)){b=t0(G0,d);d=v1.g?v1.g(e):v1.call(null,e);if($APP.k($APP.k(b)?d:b)){c=wMa(x0(new p1(c,b,d,null,null,null),a),a);break a}throw $APP.po.h("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));}}c=null}if($APP.k(c))return c;a:{b=s1(a);if($APP.k(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),d=$APP.u(b),b=$APP.v(d),d=$APP.y(d),$APP.z.h($APP.Gv,
b))){b=t0($APP.yD.h(yMa,y1),d);if($APP.k(b)){c=xMa(x0(new q1(c,new L0(null,$APP.pf($APP.QD.g(w1($APP.ii,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.po.h("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));}c=null}if($APP.k(c))return c;a:{b=s1(a);if($APP.k(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),d=$APP.u(b),b=$APP.v(d),e=$APP.y(d),d=$APP.v(e),e=$APP.y(e),$APP.z.h(z1,b))){b=kMa(d);d=t0($APP.yD.h(yMa,y1),e);if($APP.k($APP.k(b)?
d:b)){c=xMa(x0(new q1(c,b,d,null,null,null),a),a);break a}throw $APP.po.h("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));}c=null}if($APP.k(c))return c;a:{if(s0(a,1)&&(b=uMa($APP.v(a)),$APP.k(b))){c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=x0(new m1(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;a:{if(s0(a,2)&&(b=$APP.B.j(a,0,null),c=$APP.B.j(a,1,null),d=uMa(b),$APP.k(d))){b=$APP.B.j(d,0,null);d=$APP.B.j(d,
1,null);c=U0(c);c=$APP.k(c)?x0(new n1(b,d,c,null,null,null),a):null;break a}c=null}if($APP.k(c))return c;a:{b=s1(a);if($APP.k(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),b=$APP.u(b),d=$APP.v(b),b=$APP.y(b),d=J0(d),e=t0(tMa,b),$APP.k(d))){if($APP.ze(b))throw $APP.po.h("rule-expr requires at least one argument",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));if(null==e)throw $APP.po.h("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,
a],null));c=new o1(c,d,e,null,null,null);break a}c=null}if($APP.k(c))return c;a:{b=s1(a);if($APP.k(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),b=t0(tMa,b),$APP.k(b))){if($APP.ze(b))throw $APP.po.h("Pattern could not be empty",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));c=x0(new l1(c,b,null,null,null),a);break a}c=null}if($APP.k(c))return c;throw $APP.po.h("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));};v1=function(a){return t0(y1,a)};zMa=function(a){var b=v1(a);if($APP.k(b))return b;throw $APP.po.h("Cannot parse :where clause, expected [clause+]",new $APP.h(null,2,[$APP.lN,t1,$APP.RG,a],null));};A1=function(a,b,c,d,e){this.Ib=a;this.Ca=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};B1=function(a,b,c,d,e){this.name=a;this.yd=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
AMa=function(a){if($APP.De(a)){var b=$APP.u(a),c=$APP.v(b),d=$APP.y(b);if($APP.De(c)){b=$APP.u(c);var e=$APP.v(b);c=$APP.y(b);b=function(){var l=J0(e);if($APP.k(l))return l;throw $APP.po.h("Cannot parse rule name, expected plain-symbol",new $APP.h(null,2,[$APP.lN,C1,$APP.RG,a],null));}();c=kMa(c);var f=function(){var l=$APP.jh(v1(d));if($APP.k(l))return l;throw $APP.po.h("Rule branch should have clauses",new $APP.h(null,2,[$APP.lN,C1,$APP.RG,a],null));}();return new $APP.h(null,3,[$APP.Q,b,$APP.xL,
c,$APP.PB,f],null)}throw $APP.po.h(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,2,[$APP.lN,C1,$APP.RG,a],null));}throw $APP.po.h("Cannot parse rule, expected [rule-head clause+]",new $APP.h(null,2,[$APP.lN,C1,$APP.RG,a],null));};
CMa=function(a,b){var c=$APP.xL.g($APP.v(b)),d=P0(c);b=$APP.u($APP.y(b));for(var e=null,f=0,l=0;;)if(l<f){var m=e.fa(null,l);m=$APP.xL.g(m);if($APP.ak.h(d,P0(m)))throw $APP.po.h(["Arity mismatch for rule '",$APP.pl.l($APP.D([$APP.ep.g(a)])),"': ",$APP.pl.l($APP.D([O0(c)]))," vs. ",$APP.pl.l($APP.D([O0(m)]))].join(""),new $APP.h(null,2,[$APP.lN,C1,BMa,a],null));l+=1}else if(b=$APP.u(b)){if($APP.Ie(b))f=$APP.bd(b),b=$APP.cd(b),e=f,f=$APP.fe(f);else{m=$APP.v(b);e=$APP.xL.g(m);if($APP.ak.h(d,P0(e)))throw $APP.po.h(["Arity mismatch for rule '",
$APP.pl.l($APP.D([$APP.ep.g(a)])),"': ",$APP.pl.l($APP.D([O0(c)]))," vs. ",$APP.pl.l($APP.D([O0(e)]))].join(""),new $APP.h(null,2,[$APP.lN,C1,BMa,a],null));b=$APP.y(b);e=null;f=0}l=0}else break};
DMa=function(a){$APP.pf(function(){return function d(c){return new $APP.Kg(null,function(){for(;;){var e=$APP.u(c);if(e){var f=e;if($APP.Ie(f)){var l=$APP.bd(f),m=$APP.fe(l),q=$APP.Ng(m);return function(){for(var t=0;;)if(t<m){var J=$APP.re(l,t),O=$APP.B.j(J,0,null),U=$APP.B.j(J,1,null);J=$APP.et.h(function(){return function(Z){return new A1($APP.xL.g(Z),$APP.PB.g(Z),null,null,null)}}(t,J,O,U,l,m,q,f,e),U);U=q;CMa(O,J);U.add(new B1(O,J,null,null,null));t+=1}else return!0}()?$APP.Qg($APP.Sg(q),d($APP.cd(f))):
$APP.Qg($APP.Sg(q),null)}var A=$APP.v(f),x=$APP.B.j(A,0,null),C=$APP.B.j(A,1,null);A=$APP.et.h(function(){return function(t){return new A1($APP.xL.g(t),$APP.PB.g(t),null,null,null)}}(A,x,C,f,e),C);CMa(x,A);return $APP.zg(new B1(x,A,null,null,null),d($APP.Gd(f)))}return null}},null,null)}($APP.yl($APP.Q,t0(AMa,a)))}())};D1=function(a,b,c,d,e,f,l,m){this.Xc=a;this.ad=b;this.Zc=c;this.Yc=d;this.$c=e;this.B=f;this.o=l;this.D=m;this.J=2230716170;this.N=139264};
EMa=function(a){var b=$APP.fo.l(a,E1,$APP.D([F1,G1,H1,I1]));b=$APP.Ge(a)?$APP.aj.h($APP.hh,b):b;return new D1(E1.g(a),F1.g(a),G1.g(a),H1.g(a),I1.g(a),null,$APP.jh(b),null)};FMa=function(a){for(var b=$APP.hh,c=null;;){var d=$APP.v(a);if($APP.k(d))d instanceof $APP.G?(c=d,a=$APP.y(a)):(b=$APP.bo.I(b,new $APP.H(null,1,5,$APP.I,[c],null),$APP.Yt.h($APP.wg,$APP.ii),d),a=$APP.y(a));else return b}};GMa=function(a){var b=$APP.co.g(a);return a instanceof l1?b:null!=b?b instanceof C0?null:b:null};
JMa=function(a,b,c){var d=$APP.ik(w1($APP.ii,E1.g(a))),e=$APP.ik(F1.g(a)),f=$APP.ik(w1($APP.ii,H1.g(a))),l=$APP.ik(w1($APP.ii,I1.g(a)));f=$APP.az.h($APP.YO.h(d,e),$APP.YO.h(l,f));d=$APP.bz.h(d,e);if(!$APP.ze(f))throw $APP.po.h(["Query for unknown vars: ",$APP.pl.l($APP.D([$APP.et.h($APP.ep,f)]))].join(""),new $APP.h(null,3,[$APP.lN,J1,$APP.xL,f,$APP.RG,b],null));if(!$APP.ze(d))throw $APP.po.h([":find and :with should not use same variables: ",$APP.pl.l($APP.D([$APP.et.h($APP.ep,d)]))].join(""),new $APP.h(null,
3,[$APP.lN,J1,$APP.xL,d,$APP.RG,b],null));d=G1.g(a);if(null!=d){if(E1.g(a)instanceof b1)throw $APP.po.h([$APP.pl.l($APP.D([$APP.ko.g(d)]))," does not work with single-scalar :find"].join(""),new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));if(E1.g(a)instanceof a1)throw $APP.po.h([$APP.pl.l($APP.D([$APP.ko.g(d)]))," does not work with collection :find"].join(""),new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));}d=K1.g(G1.g(a));if(null!=d&&(e=Z0(E1.g(a)),!$APP.z.h($APP.fe(d),$APP.fe(e))))throw $APP.po.h(["Count of ",
$APP.pl.l($APP.D([$APP.ko.g(G1.g(a))]))," must match count of :find"].join(""),new $APP.h(null,4,[$APP.lN,J1,HMa,$APP.zg($APP.ko.g(G1.g(a)),d),IMa,e,$APP.RG,b],null));if(1<$APP.fe($APP.fi.h($APP.nb,new $APP.H(null,3,5,$APP.I,[$APP.aG.g(c),$APP.ku.g(c),L1.g(c)],null))))throw $APP.po.h("Only one of :keys/:syms/:strs must be present",new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));var m=w1($APP.ii,H1.g(a)),q=v0(function(x){return x instanceof B0},H1.g(a)),A=v0(function(x){return x instanceof D0},H1.g(a));
if(!$APP.k(function(){var x=w0(m);return $APP.k(x)?(x=w0(q),$APP.k(x)?w0(A):x):x}()))throw $APP.po.h("Vars used in :in should be distinct",new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));c=w1($APP.ii,F1.g(a));if(!$APP.k(w0(c)))throw $APP.po.h("Vars used in :with should be distinct",new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));c=u0(function(x){return x instanceof B0},H1.g(a),$APP.ek);d=u0(function(x){return x instanceof B0},I1.g(a),$APP.ek);c=$APP.az.h(d,c);if(!$APP.ze(c))throw $APP.po.h(["Where uses unknown source vars: ",
$APP.pl.l($APP.D([$APP.et.h($APP.ep,c)]))].join(""),new $APP.h(null,3,[$APP.lN,J1,$APP.xL,c,$APP.RG,b],null));c=v0(function(x){return x instanceof o1},I1.g(a));a=v0(function(x){return x instanceof D0},H1.g(a));if(!$APP.ze(c)&&$APP.ze(a))throw $APP.po.h("Missing rules var '%' in :in",new $APP.h(null,2,[$APP.lN,J1,$APP.RG,b],null));};
MMa=function(a){if($APP.Fe(a))var b=a;else if($APP.De(a))b=FMa(a);else throw $APP.po.h("Query should be a vector or a map",new $APP.h(null,2,[$APP.lN,J1,$APP.RG,a],null));var c=b,d=zMa($APP.fL.h(c,$APP.ii));b=EMa(new $APP.h(null,5,[E1,pMa(IMa.g(c)),F1,function(){var e=KMa.g(c);if($APP.k(e)){var f=t0(G0,e);if($APP.k(f))e=f;else throw $APP.po.h("Cannot parse :with clause, expected [ variable+ ]",new $APP.h(null,2,[$APP.lN,LMa,$APP.RG,e],null));}else e=null;return e}(),G1,function(){var e=k1($APP.aG,
$APP.aG.g(c));if($APP.k(e))return e;e=k1($APP.ku,$APP.ku.g(c));return $APP.k(e)?e:k1(L1,L1.g(c))}(),H1,sMa(function(){var e=$APP.Xva.g(c);return $APP.k(e)?e:$APP.ze(v0(GMa,d))?$APP.ii:new $APP.H(null,1,5,$APP.I,[g1],null)}()),I1,d],null));JMa(b,a,c);return b};M1=function(a,b,c,d,e,f){this.be=a;this.sources=b;this.rules=c;this.B=d;this.o=e;this.D=f;this.J=2230716170;this.N=139264};N1=function(a,b,c,d,e){this.pa=a;this.ue=b;this.B=c;this.o=d;this.D=e;this.J=2230716170;this.N=139264};
O1=function(a,b){return $APP.bz.h($APP.ik($APP.Wj(a)),$APP.ik($APP.Wj(b)))};NMa=function(a,b){return $APP.z.h($APP.fe(a),$APP.fe(b))&&$APP.Ch(function(c){return $APP.cf(b,c)},$APP.Wj(a))&&$APP.Ch(function(c){return $APP.cf(b,c)},$APP.Wj(a))};P1=function(a){return a instanceof $APP.r&&$APP.z.h("$",$APP.v($APP.kk(a)))};Q1=function(a){return a instanceof $APP.r&&$APP.z.h("?",$APP.v($APP.kk(a)))};R1=function(a){return a instanceof $APP.G||"string"===typeof a};
T1=function(a){return S1(new $APP.H(null,2,5,$APP.I,[R1,$APP.JF],null),a)};OMa=function(a,b,c,d){for(var e=b.length,f=d.length,l=Array(e+f),m=0;;)if(m<e)l[m]=a[b[m]],m+=1;else break;for(a=0;;)if(a<f)l[e+a]=c[d[a]],a+=1;else break;return l};U1=function(a){a=$APP.Mk.h($APP.ep,$APP.pf($APP.QD.g(w1($APP.ii,a))));return new N1($APP.lk(a,$APP.Fp.F()),$APP.ii,null,null,null)};
V1=function(a,b){if(null!=a&&null!=a.Of)a=a.Of(a,b);else{var c=V1[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=V1._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("IBinding.in-\x3erel",a);}return a};
PMa=function(a,b){var c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c instanceof R0&&W1.g(c)instanceof B0?a=$APP.Dp.R(a,X1,$APP.K,$APP.hr.h(c,new $APP.H(null,2,5,$APP.I,[W1,$APP.ep],null)),b):c instanceof R0&&W1.g(c)instanceof D0?(c=$APP.K.j,b="string"===typeof b?$APP.MO.g(b):b,DMa(b),b=$APP.yl($APP.le,b),a=c.call($APP.K,a,$APP.$J,b)):a=$APP.Dp.I(a,Y1,$APP.wg,V1(c,b));return a};
SMa=function(a,b,c){var d=$APP.fe(b),e=$APP.fe(c);if(d<e)throw $APP.po.h(["Extra inputs passed, expected: ",$APP.pl.l($APP.D([$APP.et.h(function(f){return $APP.co.g($APP.we(f))},b)])),", got: ",$APP.pl.l($APP.D([e]))].join(""),new $APP.h(null,3,[$APP.lN,QMa,$APP.NM,b,RMa,c],null));if(d>e)throw $APP.po.h(["Too few inputs passed, expected: ",$APP.pl.l($APP.D([$APP.et.h(function(f){return $APP.co.g($APP.we(f))},b)])),", got: ",$APP.pl.l($APP.D([e]))].join(""),new $APP.h(null,3,[$APP.lN,QMa,$APP.NM,b,
RMa,c],null));return $APP.nf.j(PMa,a,$APP.lk(b,c))};a2=function(a,b){var c=a.g?a.g(b):a.call(null,b);return $APP.cf(Z1,b)?function(d){d=d[c];return"number"===typeof d?d:$APP.De(d)?MZ($1,d):qX(d)?MZ($1,d):d}:function(d){return d[c]}};b2=function(a){if(1===$APP.fe(a))return $APP.v(a);var b=$APP.of(a);return function(c){return $APP.hv.g(b.map(function(d){return d.g?d.g(c):d.call(null,c)}))}};
TMa=function(a,b){for(var c=$APP.Sc($APP.hh);;){var d=$APP.v(b);if(null==d)return $APP.Uc(c);var e=a.g?a.g(d):a.call(null,d);b=$APP.y(b);c=$APP.dj.j(c,e,$APP.wg.h($APP.af.j(c,e,$APP.Ed),d))}};
d2=function(a,b){var c=c2.g(a),d=c2.g(b),e=H_.g(a),f=H_.g(b);a=$APP.pf(O1(H_.g(a),H_.g(b)));var l=$APP.Mk.h(function(t){return a2(e,t)},a),m=$APP.Mk.h(function(t){return a2(f,t)},a);a=$APP.Wj(e);b=$APP.pf($APP.az.h($APP.ik($APP.Wj(f)),$APP.ik($APP.Wj(e))));var q=$APP.of($APP.Mk.h(e,a)),A=$APP.of($APP.Mk.h(f,b));l=b2(l);var x=TMa(l,c),C=b2(m);c=$APP.Uc($APP.nf.j(function(t,J){var O=C.g?C.g(J):C.call(null,J);O=$APP.af.h(x,O);return null==O?t:$APP.nf.j(function(U,Z){return $APP.hi.h(U,OMa(Z,q,J,A))},
t,O)},$APP.Sc($APP.ii),d));return new N1($APP.lk($APP.N.h(a,b),$APP.Fp.F()),c,null,null,null)};UMa=function(a,b){var c=$APP.ih(a),d=$APP.af.h(c,H_);c=$APP.af.h(c,c2);b=$APP.ih(b);var e=$APP.af.h(b,H_);b=$APP.af.h(b,c2);var f=O1(d,e),l=$APP.Mk.h(function(A){return a2(e,A)},f);l=b2(l);var m=TMa(l,b);b=$APP.Mk.h(function(A){return a2(d,A)},f);var q=b2(b);return $APP.K.j(a,c2,$APP.ji(function(A){A=q.g?q.g(A):q.call(null,A);return null==(m.g?m.g(A):m.call(null,A))},c))};
VMa=function(a,b){var c=$APP.et.h(function(d){return $APP.z.h(d,$APP.JF)||Q1(d)?null:d},b);a=BY(a,c);b=$APP.aj.h($APP.hh,$APP.fi.h(function(d){var e=$APP.B.j(d,0,null);$APP.B.j(d,1,null);return Q1(e)},$APP.Mk.j($APP.fv,b,new $APP.H(null,4,5,$APP.I,["e","a","v","tx"],null))));return new N1(b,a,null,null,null)};
WMa=function(a,b){a=$APP.fi.h(function(d){a:for(var e=b;;){var f=d;if($APP.k($APP.k(f)?e:f)){f=$APP.v(d);var l=$APP.v(e);if($APP.z.h(l,$APP.JF)||Q1(l)||$APP.z.h(f,l))d=$APP.y(d),e=$APP.y(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.aj.h($APP.hh,$APP.fi.h(function(d){var e=$APP.B.j(d,0,null);$APP.B.j(d,1,null);return Q1(e)},$APP.Mk.j($APP.fv,b,$APP.Fp.F())));return new N1(c,$APP.et.h($APP.of,a),null,null,null)};
XMa=function(a,b){return(null!=a?$APP.vd===a.ni||(a.zd?0:$APP.tb(WKa,a)):$APP.tb(WKa,a))?VMa(a,b):WMa(a,b)};e2=function(a,b){for(var c=$APP.ii;;){var d=$APP.v(a);if(null==d)return $APP.wg.h(c,b);$APP.k($APP.jh(O1(H_.g(b),H_.g(d))))?(a=$APP.y(a),b=d2(d,b)):(a=$APP.y(a),c=$APP.wg.h(c,d))}};f2=function(a,b){return $APP.Eh(function(c){return $APP.cf(H_.g(c),b)?c:null},Y1.g(a))};
g2=function(a,b){var c=f2(a,b);if(null==c)return null;a=$APP.v(c2.g(c));null==a?b=null:(c=H_.g(c),b=c.g?c.g(b):c.call(null,b),b=a[b]);return b};YMa=function(a,b){return $APP.Eh(function(c){return $APP.cf(H_.g(a),c)},b)};ZMa=function(a,b){var c=$APP.fi.h(function(e){return YMa(e,b)},Y1.g(a)),d=$APP.nf.h(h2,c);return new $APP.H(null,2,5,$APP.I,[$APP.Dp.j(a,Y1,function(e){return $APP.Ut.h($APP.ik(c),e)}),d],null)};
$Ma=function(a,b,c,d){a=X1.g(a);b=H_.g(b);for(var e=$APP.fe(d),f=Array(e),l=Array(e),m=0;;)if(m<e){var q=$APP.B.h(d,m);if(q instanceof $APP.r){var A=$APP.af.h(a,q);null==A?l[m]=$APP.af.h(b,q):f[m]=A}else f[m]=q;m+=1}else break;return c===$APP.fv?function(x){for(var C=f.slice(0),t=0;;)if(t<e){var J=l[t];null!=J&&(C[t]=x[J]);t+=1}else break;return $APP.Ih.h(c,C)}:function(x){for(var C=0;;)if(C<e){var t=l[C];null!=t&&(f[C]=x[t]);C+=1}else break;return $APP.Ih.h(c,f)}};
aNa=function(a,b){var c=$APP.B.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c),f=function(){var q=$APP.af.h(R_,d);if($APP.k(q))return q;q=g2(a,d);if($APP.k(q))return q;if($APP.k(null))return null;if(null==f2(a,d))throw $APP.po.h(["Unknown predicate '",$APP.pl.l($APP.D([d]))," in ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,b,$APP.Iq,d],null));return null}();c=ZMa(a,$APP.fi.h($APP.xd,e));var l=$APP.B.j(c,0,null),m=$APP.B.j(c,1,null);c=$APP.k(f)?function(){var q=$Ma(l,
m,f,e);return $APP.Dp.j(m,c2,function(A){return $APP.fi.h(q,A)})}():$APP.K.j(m,c2,$APP.ii);return $APP.Dp.I(l,Y1,$APP.wg,c)};
bNa=function(a,b){var c=$APP.B.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c);c=$APP.B.j(b,1,null);var f=U0(c),l=function(){var A=$APP.af.h(R_,d);if($APP.k(A))return A;A=g2(a,d);if($APP.k(A))return A;if($APP.k(null))return null;if(null==f2(a,d))throw $APP.po.h(["Unknown function '",$APP.pl.l($APP.D([d]))," in ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,b,$APP.Iq,d],null));return null}();c=ZMa(a,$APP.fi.h($APP.xd,e));var m=$APP.B.j(c,0,null),q=$APP.B.j(c,1,null);c=
$APP.k(l)?function(){var A=$Ma(m,q,l,e),x=function(){return function J(t){return new $APP.Kg(null,function(){for(var O=t;;)if(O=$APP.u(O)){if($APP.Ie(O)){var U=$APP.bd(O),Z=$APP.fe(U),oa=$APP.Ng(Z);a:for(var qa=0;;)if(qa<Z){var sa=$APP.re(U,qa),Aa=A(sa);null!=Aa&&$APP.Rg(oa,h2.h(new N1(H_.g(q),new $APP.H(null,1,5,$APP.I,[sa],null),null,null,null),V1(f,Aa)));qa+=1}else{U=!0;break a}return U?$APP.Qg($APP.Sg(oa),J($APP.cd(O))):$APP.Qg($APP.Sg(oa),null)}oa=$APP.v(O);U=A(oa);if(null!=U)return $APP.zg(h2.h(new N1(H_.g(q),
new $APP.H(null,1,5,$APP.I,[oa],null),null,null,null),V1(f,U)),J($APP.Gd(O)));O=$APP.Gd(O)}else return null},null,null)}(c2.g(q))}();return $APP.ze(x)?h2.h(q,U1(f)):$APP.nf.h(j2,x)}():h2.h($APP.K.j(q,c2,$APP.ii),U1(f));return $APP.Dp.I(m,Y1,e2,c)};
cNa=function(a,b){if($APP.De(b)){var c=P1($APP.v(b))?$APP.ke(b):$APP.v(b);if(c instanceof $APP.r){if(Q1(c)||$APP.cf(new $APP.dk(null,new $APP.h(null,6,[$APP.xv,null,$APP.lK,null,x1,null,z1,null,$APP.Gv,null,$APP.JF,null],null),null),c))return!1;if($APP.cf($APP.$J.g(a),c))return!0;throw $APP.po.h(["Unknown rule '",$APP.pl.l($APP.D([c]))," in ",$APP.pl.l($APP.D([b]))].join(""),new $APP.h(null,2,[$APP.lN,i2,$APP.RG,b],null));}}return!1};
eNa=function(a,b){var c=$APP.u(a),d=$APP.v(c),e=$APP.y(c),f=$APP.ul.h(dNa,$APP.Rd),l=$APP.af.h($APP.$J.g(b),d);return function A(q){return new $APP.Kg(null,function(){for(;;){var x=$APP.u(q);if(x){var C=x;if($APP.Ie(C)){var t=$APP.bd(C),J=$APP.fe(t),O=$APP.Ng(J);return function(){for(var ra=0;;)if(ra<J){var ta=$APP.re(t,ra),xa=ta,Ha=$APP.u(xa),Ja=$APP.v(Ha),Na=$APP.y(Ha),Sa=Ja,gb=$APP.u(Sa),mb=$APP.v(gb),qb=$APP.y(gb),jb=mb,yb=qb,Gb=Na,Kb=$APP.lk(yb,e);$APP.Rg(O,$APP.aw(function(cc,ic,vc,Pc,Vd,zc,
nh,rj,Hi,ml,nl,sm,oh,tm,um,Fd,sj,di,Ii,qk,ol,vm,wm,yn,Jq,rk){return function(Kd){if(Q1(Kd)){var Kq=oh.g?oh.g(Kd):oh.call(null,Kd);return null==Kq?$APP.Vk.g([$APP.kk(Kd),"__auto__",$APP.n.g(rk)].join("")):Kq}return Kd}}(ra,xa,Ha,Ja,Na,Sa,gb,mb,qb,jb,yb,Gb,Kb,ta,t,J,O,C,x,a,c,d,e,d,e,f,l),Gb));ra+=1}else return!0}()?$APP.Qg($APP.Sg(O),A($APP.cd(C))):$APP.Qg($APP.Sg(O),null)}var U=$APP.v(C),Z=U,oa=$APP.u(Z),qa=$APP.v(oa),sa=$APP.y(oa),Aa=qa,Ea=$APP.u(Aa),va=$APP.v(Ea),w=$APP.y(Ea),E=va,V=w,X=sa,Y=$APP.lk(V,
e);return $APP.zg($APP.aw(function(ra,ta,xa,Ha,Ja,Na,Sa,gb,mb,qb,jb,yb,Gb,Kb,cc,ic,vc,Pc,Vd,zc,nh,rj){return function(Hi){if(Q1(Hi)){var ml=yb.g?yb.g(Hi):yb.call(null,Hi);return null==ml?$APP.Vk.g([$APP.kk(Hi),"__auto__",$APP.n.g(rj)].join("")):ml}return Hi}}(Z,oa,qa,sa,Aa,Ea,va,w,E,V,X,Y,U,C,x,a,c,d,e,d,e,f,l),X),A($APP.Gd(C)))}return null}},null,null)}(l)};
fNa=function(a,b){a=$APP.Ut.h(function(c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.z.h(d,c)},$APP.Mk.j($APP.fv,a,b));return new $APP.H(null,2,5,$APP.I,[$APP.Mk.h($APP.v,a),$APP.Mk.h($APP.ke,a)],null)};
gNa=function(a,b){a=$APP.u(a);var c=$APP.v(a),d=$APP.y(a);return function l(f){return new $APP.Kg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Ie(m)){var q=$APP.bd(m),A=$APP.fe(q),x=$APP.Ng(A);a:for(var C=0;;)if(C<A){var t=$APP.re(q,C),J=fNa(d,t);t=$APP.B.j(J,0,null);J=$APP.B.j(J,1,null);$APP.Rg(x,new $APP.H(null,1,5,$APP.I,[$APP.N.l(new $APP.H(null,1,5,$APP.I,[k2],null),t,$APP.D([J]))],null));C+=1}else{q=!0;break a}return q?$APP.Qg($APP.Sg(x),l($APP.cd(m))):$APP.Qg($APP.Sg(x),null)}x=$APP.v(m);
q=fNa(d,x);x=$APP.B.j(q,0,null);q=$APP.B.j(q,1,null);return $APP.zg(new $APP.H(null,1,5,$APP.I,[$APP.N.l(new $APP.H(null,1,5,$APP.I,[k2],null),x,$APP.D([q]))],null),l($APP.Gd(m)))}return null}},null,null)}($APP.af.h(b,c))};l2=function(a){var b=$APP.tl.g($APP.ii);$APP.aw(function(c){$APP.k(Q1.g?Q1.g(c):Q1.call(null,c))&&$APP.ul.j(b,$APP.wg,c);return c},a);return $APP.p(b)};
hNa=function(a,b){function c(e){e=$APP.B.j(e,0,null);e=$APP.u(e);$APP.v(e);e=$APP.y(e);return $APP.Ch(d,e)}var d=$APP.ik(l2(a));return new $APP.H(null,2,5,$APP.I,[$APP.fi.h(c,b),$APP.Ut.h(c,b)],null)};
jNa=function(a,b){function c(Na){return $APP.Eh(function(Sa){return $APP.ze(c2.g(Sa))},Y1.g(Na))}function d(Na,Sa){return $APP.nf.j(m2,Na,Sa)}for(var e=$APP.fi.h(Q1,b),f=$APP.lk(e,$APP.Fp.F()),l=new $APP.F(null,new $APP.h(null,5,[n2,$APP.ii,o2,a,$APP.PB,new $APP.H(null,1,5,$APP.I,[b],null),p2,$APP.hh,q2,$APP.hh],null),null,1,null),m=new N1(f,$APP.ii,null,null,null);;){var q=$APP.v(l);if(null==q)return m;var A=q,x=$APP.yk(function(){return function(Na){return!cNa(a,Na)}}(l,m,A,q,e,f,d,c),$APP.PB.g(A)),
C=$APP.B.j(x,0,null),t=$APP.B.j(x,1,null),J=$APP.u(t),O=$APP.v(J),U=$APP.y(J),Z=O,oa=U;if(null==Z){b=d(o2.g(A),C);b=r2?r2(b,e):iNa.call(null,b,e);var qa=new N1(f,b,null,null,null);b=$APP.y(l);qa=j2(m,qa);l=b;m=qa}else{var sa=Z,Aa=$APP.u(sa),Ea=$APP.v(Aa),va=$APP.y(Aa),w=Ea,E=va,V=gNa(Z,p2.g(A)),X=hNa($APP.N.h(n2.g(A),C),$APP.N.h(V,q2.g(A))),Y=$APP.B.j(X,0,null),ra=$APP.B.j(X,1,null);if($APP.k($APP.Eh(function(){return function(Na){return $APP.z.h(Na,new $APP.H(null,1,5,$APP.I,[$APP.M(k2)],null))}}(l,
m,sa,Aa,Ea,va,w,E,V,X,Y,ra,x,C,t,J,O,U,Z,oa,A,q,e,f,d,c),Y)))b=$APP.y(l),qa=m,l=b,m=qa;else{var ta=$APP.N.h(C,Y),xa=d(o2.g(A),ta);if($APP.k(c(xa)))b=$APP.y(l),qa=m,l=b,m=qa;else{var Ha=$APP.K.j(p2.g(A),w,$APP.wg.h($APP.af.j(p2.g(A),w,$APP.ii),E)),Ja=eNa(Z,a);b=$APP.N.h(function(){return function(Na,Sa,gb,mb,qb,jb,yb,Gb,Kb,cc,ic,vc,Pc,Vd,zc,nh,rj,Hi,ml,nl,sm,oh,tm,um,Fd,sj,di,Ii,qk,ol){return function yn(wm){return new $APP.Kg(null,function(Jq,rk,Kd,Kq,ft,gt,oy,py,qy,ry,Vo,sy,ty,uy,gf,ht,vy,wy,sk,
sg,Jh,fd,Qe,Kc){return function(){for(;;){var Vf=$APP.u(wm);if(Vf){if($APP.Ie(Vf)){var xy=$APP.bd(Vf),bI=$APP.fe(xy),wf=$APP.Ng(bI);a:for(var GB=0;;)if(GB<bI){var IM=$APP.re(xy,GB);$APP.Rg(wf,new $APP.h(null,5,[n2,ft,o2,gt,$APP.PB,$APP.aj.j($APP.ii,$APP.gl,$APP.D([IM,Kc])),p2,Kd,q2,ht],null));GB+=1}else{xy=!0;break a}return xy?$APP.Qg($APP.Sg(wf),yn($APP.cd(Vf))):$APP.Qg($APP.Sg(wf),null)}wf=$APP.v(Vf);return $APP.zg(new $APP.h(null,5,[n2,ft,o2,gt,$APP.PB,$APP.aj.j($APP.ii,$APP.gl,$APP.D([wf,Kc])),
p2,Kd,q2,ht],null),yn($APP.Gd(Vf)))}return null}}}(Na,Sa,gb,mb,qb,jb,yb,Gb,Kb,cc,ic,vc,Pc,Vd,zc,nh,rj,Hi,ml,nl,sm,oh,tm,um,Fd,sj,di,Ii,qk,ol),null,null)}}(l,m,Ha,Ja,ta,xa,sa,Aa,Ea,va,w,E,V,X,Y,ra,x,C,t,J,O,U,Z,oa,A,q,e,f,d,c)(Ja)}(),$APP.y(l));qa=m;l=b;m=qa}}}}};
kNa=function(a,b){if(null!=a?$APP.vd===a.rh||(a.zd?0:$APP.tb(JY,a)):$APP.tb(JY,a)){var c=$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),e=$APP.B.j(b,2,null),f=$APP.B.j(b,3,null);return $APP.nn.j(new $APP.H(null,4,5,$APP.I,[$APP.k(function(){var l=T1(c);return $APP.k(l)?l:R1(c)}())?zZ(a,c):c,d,$APP.k(function(){if($APP.k(e)){var l=R1(d);return l?(l=yZ(a,d))?(l=T1(e),$APP.k(l)?l:R1(e)):l:l}return e}())?zZ(a,e):e,$APP.k(T1(f))?zZ(a,f):f],null),0,$APP.fe(b))}return b};
lNa=function(a,b){var c=$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),e=$APP.B.j(b,2,null);b=$APP.B.j(b,3,null);c=Q1(c)?$APP.wg.h($APP.ek,c):$APP.ek;c=Q1(b)?$APP.wg.h(c,b):c;return Q1(e)&&!Q1(d)&&yZ(a,d)?$APP.wg.h(c,e):c};s2=function(a,b){return $APP.K.j(a,Y1,$APP.Ru.h(function(c){var d=$APP.jh($APP.bk(H_.g(c),b));return null==d?null:$APP.K.j(c,H_,d)},Y1.g(a)))};t2=function(a){return $APP.aj.h($APP.ek,$APP.bi.l(function(b){return $APP.Wj(H_.g(b))},$APP.D([Y1.g(a)])))};
u2=function(a,b,c){if($APP.Yv(b,a))return null;a=$APP.az.h($APP.ik(b),a);throw $APP.po.h(["Insufficient bindings: ",$APP.pl.l($APP.D([a]))," not bound in ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,c,$APP.xL,a],null));};
mNa=function(a,b,c){b=$APP.et.h(function(d){return $APP.az.h($APP.ik(l2(d)),a)},b);if($APP.k($APP.Ih.h($APP.z,b)))return null;throw $APP.po.h(["All clauses in 'or' must use same set of free vars, had ",$APP.pl.l($APP.D([b]))," in ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,c,$APP.xL,b],null));};
nNa=function(a,b,c){for(var d=$APP.ik($APP.Ut.h(a,b)),e=$APP.u(c),f=null,l=0,m=0;;)if(m<l){c=f.fa(null,m);var q=$APP.jh($APP.az.h(d,$APP.ik(l2(c))));if(null!=q)throw e=q,$APP.cE.l($APP.D([c,a,b,d])),$APP.po.h(["All clauses in 'or' must use same set of free vars, had ",$APP.pl.l($APP.D([e]))," not bound in ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,c,$APP.xL,e],null));m+=1}else if(c=$APP.u(e)){e=c;if($APP.Ie(e))f=$APP.bd(e),e=$APP.cd(e),c=f,l=$APP.fe(f),f=c;else{c=$APP.v(e);
f=$APP.jh($APP.az.h(d,$APP.ik(l2(c))));if(null!=f)throw e=f,$APP.cE.l($APP.D([c,a,b,d])),$APP.po.h(["All clauses in 'or' must use same set of free vars, had ",$APP.pl.l($APP.D([e]))," not bound in ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,3,[$APP.lN,i2,$APP.RG,c,$APP.xL,e],null));e=$APP.y(e);f=null;l=0}m=0}else return null};oNa=function(a,b){var c=$1;$1=$APP.af.h(X1.g(a),g1);try{return $APP.nf.j(v2,a,b)}finally{$1=c}};
iNa=function(a){switch(arguments.length){case 2:return r2(arguments[0],arguments[1]);case 3:return pNa(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};r2=function(a,b){a=Y1.g(a);return pNa(new $APP.H(null,1,5,$APP.I,[Array($APP.fe(b))],null),a,b)};
pNa=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.ze(c2.g(d)))return $APP.ii;var e=$APP.bk(H_.g(d),c);if($APP.ze(e)){var f=a,l=$APP.y(b),m=c;a=f;b=l;c=m}else{var q=$APP.of($APP.Mk.h(function(x,C,t,J){return function(O){return $APP.af.h(J,O)}}(a,b,c,e,d),c)),A=$APP.fe(c);f=function(){return function(x,C,t,J,O,U,Z){return function sa(qa){return new $APP.Kg(null,function(Aa,Ea,va,w,E,V,X){return function(){for(var Y=qa;;){var ra=$APP.u(Y);if(ra){var ta=ra,xa=$APP.v(ta);if(ra=$APP.u(function(Ha,
Ja,Na,Sa,gb,mb,qb,jb,yb,Gb,Kb){return function vc(ic){return new $APP.Kg(null,function(Pc,Vd,zc,nh,rj,Hi,ml,nl,sm){return function(){for(;;){var oh=$APP.u(ic);if(oh){if($APP.Ie(oh)){var tm=$APP.bd(oh),um=$APP.fe(tm),Fd=$APP.Ng(um);return function(){for(var di=0;;)if(di<um){for(var Ii=$APP.re(tm,di),qk=Fd,ol=$APP.zb(rj),vm=0;;)if(vm<sm){var wm=nl[vm];null!=wm&&(ol[vm]=Ii[wm]);vm+=1}else break;qk.add(ol);di+=1}else return!0}()?$APP.Qg($APP.Sg(Fd),vc($APP.cd(oh))):$APP.Qg($APP.Sg(Fd),null)}var sj=$APP.v(oh);
return $APP.zg(function(){for(var di=$APP.zb(rj),Ii=0;;)if(Ii<sm){var qk=nl[Ii];null!=qk&&(di[Ii]=sj[qk]);Ii+=1}else break;return di}(),vc($APP.Gd(oh)))}return null}}}(Ha,Ja,Na,Sa,gb,mb,qb,jb,yb,Gb,Kb),null,null)}}(Y,Aa,Ea,va,xa,ta,ra,w,E,V,X)(c2.g(X))))return $APP.N.h(ra,sa($APP.Gd(Y)));Y=$APP.Gd(Y)}else return null}}}(x,C,t,J,O,U,Z),null,null)}}(a,b,c,q,A,e,d)(a)}();l=$APP.y(b);m=c;a=f;b=l;c=m}}};qNa=function(a,b){return $APP.ik($APP.Mk.h($APP.pf,r2(a,b)))};
w2=function(a,b){if(null!=a&&null!=a.Pf)a=a.Pf(a,b);else{var c=w2[$APP.fa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=w2._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $APP.vb("IContextResolve.-context-resolve",a);}return a};
rNa=function(a,b,c){return $APP.et.I(function(d,e,f){if(d1(d)){e=w2($APP.Lq.g(d),b);d=$APP.Mk.h(function(m){return w2(m,b)},$APP.jk($APP.sO.g(d)));var l=$APP.Mk.h(function(m){return $APP.B.h(m,f)},c);return $APP.Ih.h(e,$APP.N.h(d,new $APP.H(null,1,5,$APP.I,[l],null)))}return e},a,$APP.v(c),$APP.Fp.F())};sNa=function(a){var b=$APP.Kh(d1);return $APP.Ut.h($APP.hb,$APP.Mk.j(function(c,d){return $APP.k(b.g?b.g(c):b.call(null,c))?d:null},a,$APP.Fp.F()))};
tNa=function(a,b,c){var d=sNa(a);return function l(f){return new $APP.Kg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Ie(m)){var q=$APP.bd(m),A=$APP.fe(q),x=$APP.Ng(A);a:for(var C=0;;)if(C<A){var t=$APP.re(q,C);$APP.B.j(t,0,null);t=$APP.B.j(t,1,null);$APP.Rg(x,rNa(a,b,t));C+=1}else{q=!0;break a}return q?$APP.Qg($APP.Sg(x),l($APP.cd(m))):$APP.Qg($APP.Sg(x),null)}x=$APP.v(m);$APP.B.j(x,0,null);x=$APP.B.j(x,1,null);return $APP.zg(rNa(a,b,x),l($APP.Gd(m)))}return null}},null,null)}($APP.yl(function(f){return $APP.Mk.h(function(l){return $APP.B.h(f,
l)},d)},c))};uNa=function(a,b){return $APP.nf.j(function(c,d){return $APP.wg.h(c,a.g?a.g(d):a.call(null,d))},$APP.qe(b),b)};vNa=function(a,b){var c=K1.g(a),d=$APP.Fp.h(0,$APP.fe(c));return uNa(function(e){return $APP.nf.j(function(f,l){return $APP.K.j(f,$APP.B.h(c,l),$APP.B.h(e,l))},$APP.hh,d)},b)};
x2=function(a,b,c){if(null!=a&&null!=a.Qf)a=a.Qf(a,b,c);else{var d=x2[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=x2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.vb("IPostProcess.-post-process",a);}return a};
wNa=function(a,b,c){var d=function(){return function l(f){return new $APP.Kg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Ie(m)){var q=$APP.bd(m),A=$APP.fe(q),x=$APP.Ng(A);return function(){for(var t=0;;)if(t<A){var J=$APP.re(q,t),O=x;if(e1(J)){var U=w2($APP.co.g(J),b);J=w2(y_.g(J),b);U=k0(U,J,null)}else U=null;O.add(U);t+=1}else return!0}()?$APP.Qg($APP.Sg(x),l($APP.cd(m))):$APP.Qg($APP.Sg(x),null)}var C=$APP.v(m);return $APP.zg(e1(C)?function(){var t=w2($APP.co.g(C),b),J=w2(y_.g(C),b);
return k0(t,J,null)}():null,l($APP.Gd(m)))}return null}},null,null)}(a)}();return function l(f){return new $APP.Kg(null,function(){for(;;){var m=$APP.u(f);if(m){var q=m;if($APP.Ie(q)){var A=$APP.bd(q),x=$APP.fe(A),C=$APP.Ng(x);return function(){for(var J=0;;)if(J<x){var O=$APP.re(A,J);$APP.Rg(C,$APP.et.j(function(){return function(U,Z){return $APP.k(U)?i0(U,Z):Z}}(J,O,A,x,C,q,m,d),d,O));J+=1}else return!0}()?$APP.Qg($APP.Sg(C),l($APP.cd(q))):$APP.Qg($APP.Sg(C),null)}var t=$APP.v(q);return $APP.zg($APP.et.j(function(){return function(J,
O){return $APP.k(J)?i0(J,O):O}}(t,q,m,d),d,t),l($APP.Gd(q)))}return null}},null,null)}(c)};y2=function(a,b){if(a instanceof XY){var c=a.Yb,d=a.rc;return new XY(d,function(e){var f=c.g?c.g(e):c.call(null,e);return $APP.k(f)?b.h?b.h(d,e):b.call(null,d,e):f},$APP.tl.g(0),null,null,null)}return new XY(a,function(e){return b.h?b.h(a,e):b.call(null,a,e)},$APP.tl.g(0),null,null,null)};
z2=function(a){switch(arguments.length){case 2:return z2.h(arguments[0],arguments[1]);case 3:return z2.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};A2=function(a,b){return EZ.g(z2.h(a,b))};B2=function(a,b,c,d){return FY(a,b,c,d)};D2=function(a){return $APP.tl.l(a,$APP.D([$APP.Wa,new $APP.h(null,1,[C2,$APP.tl.g($APP.hh)],null)]))};
xNa=function(a,b,c){var d=$APP.tl.g(null);$APP.ul.h(a,function(e){e=z2.j(e,b,c);$APP.Nh(d,e);return EZ.g(e)});return $APP.p(d)};E2=function(a){return $APP.p(a)};F2=function(a,b){a=a.toString(16);var c=$APP.fe(a);return c>b?$APP.Ek.j(a,0,b):c<b?[$APP.n.g($APP.Ih.h($APP.n,$APP.Tt.h(b-c,"0"))),$APP.n.g(a)].join(""):a};G2=function G2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G2.l(0<c.length?new $APP.Bd(c.slice(0),0,null):null)};
G2.l=function(a){return $APP.Sk(a,$APP.K.j($APP.ab(),$APP.Ua,!1))};G2.C=0;G2.G=function(a){return this.l($APP.u(a))};lLa=new $APP.G("db","current-tx","db/current-tx",1600722132);yNa=new $APP.r(null,"with","with",104234651,null);zNa=new $APP.r("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);x_=new $APP.G(null,"limit","limit",-1355822363);ANa=new $APP.r("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);
GLa=new $APP.G("transact","cas","transact/cas",816687170);H2=new $APP.r(null,"tx-data","tx-data",-1720276008,null);HMa=new $APP.G(null,"return-map","return-map",1620104901);BNa=new $APP.r(null,"stddev","stddev",775056588,null);D_=new $APP.G(null,"multival?","multival?",1072388383);CNa=new $APP.G(null,"incomparable","incomparable",1634329662);g1=new $APP.r(null,"$","$",-1580747756,null);d_=new $APP.G("db.fn","retractEntity","db.fn/retractEntity",-1423535441);
DNa=new $APP.r(null,"variance","variance",-1522424942,null);ENa=new $APP.r(null,"q","q",-1965434072,null);FNa=new $APP.r(null,"-index-range","-index-range",898114142,null);GNa=new $APP.r(null,"println-str","println-str",-2049216703,null);jLa=new $APP.G("entity-id","syntax","entity-id/syntax",1921317045);I2=new $APP.G(null,"seen","seen",-518999789);k_=new $APP.G(null,"operation","operation",-1267664310);J2=new $APP.r(null,"tx","tx",2107161945,null);$La=new $APP.G(null,"*","*",-1294732318);
HNa=new $APP.r(null,"empty-db","empty-db",1486862004,null);KLa=new $APP.G("db","retractEntity","db/retractEntity",-1452737935);K2=new $APP.G(null,"branches","branches",-1240337268);INa=new $APP.r(null,"reset-conn!","reset-conn!",1315177148,null);LMa=new $APP.G("parser","with","parser/with",-386255821);JNa=new $APP.r("datascript.core","db-with","datascript.core/db-with",-1263574350,null);c2=new $APP.G(null,"tuples","tuples",-676032639);mZ=new $APP.G("db","cardinality","db/cardinality",-104975659);
L2=new $APP.r(null,"c4","c4",-1626390159,null);i_=new $APP.G("db.fn","call","db.fn/call",-151594418);KNa=new $APP.r("datascript.core","with","datascript.core/with",-1124098173,null);vZ=new $APP.r(null,"db","db",-1661185010,null);M2=new $APP.G(null,"unfiltered-db","unfiltered-db",-1363720391);LNa=new $APP.r(null,"get-some","get-some",409442058,null);C_=new $APP.G(null,"xform","xform",-1725711008);aMa=new $APP.G("db.pull","wildcard","db.pull/wildcard",116316031);N2=new $APP.G(null,"acc","acc",838566312);
TY=new $APP.G(null,"pull-patterns","pull-patterns",-343695048);K1=new $APP.G(null,"symbols","symbols",1211743);MNa=new $APP.r(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);O2=new $APP.r(null,"datoms","datoms",1349657093,null);dLa=new $APP.G("db.cardinality","one","db.cardinality/one",1428352190);J1=new $APP.G("parser","query","parser/query",1877320671);H1=new $APP.G(null,"qin","qin",1372651151);SLa=new $APP.G("parser","pull","parser/pull",-2147427204);
q2=new $APP.G(null,"pending-guards","pending-guards",-1255527308);NNa=new $APP.r("datascript.core","entity","datascript.core/entity",-1406213973,null);ONa=new $APP.r(null,"ground","ground",-1460862835,null);ZY=new $APP.G("db.unique","identity","db.unique/identity",1675950722);oLa=new $APP.G("transact","unique","transact/unique",-940992320);PNa=new $APP.r("datascript.core","db","datascript.core/db",667170070,null);QNa=new $APP.r(null,"sample","sample",1719555128,null);
RY=new $APP.G(null,"max-tx","max-tx",1119558339);P2=new $APP.r(null,"schema","schema",58529736,null);o2=new $APP.G(null,"prefix-context","prefix-context",-1269613591);F1=new $APP.G(null,"qwith","qwith",-45809392);RNa=new $APP.G("db.pull","attr","db.pull/attr",-533298746);SNa=new $APP.r("datascript.db","Datom","datascript.db/Datom",1951800754,null);TNa=new $APP.r("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);lZ=new $APP.G("db","valueType","db/valueType",1827971944);
UNa=new $APP.r("datascript.db","IDatom","datascript.db/IDatom",293960966,null);VNa=new $APP.r("datascript.core","init-db","datascript.core/init-db",1493526573,null);WNa=new $APP.r(null,"!\x3d","!\x3d",-201205829,null);XNa=new $APP.r(null,"median","median",-2084869638,null);YNa=new $APP.r(null,"validate-schema","validate-schema",758884380,null);L1=new $APP.G(null,"strs","strs",1175537277);fLa=new $APP.r(null,"resolve-datom","resolve-datom",-294110827,null);
ZNa=new $APP.r(null,"DB","DB",1622874957,null);Q2=new $APP.r(null,"msec","msec",-1372914914,null);$Na=new $APP.G(null,"serialize","serialize",-69216574);aOa=new $APP.r(null,"transact!","transact!",817805717,null);QMa=new $APP.G("query","inputs","query/inputs",1042810394);jZ=new $APP.G(null,"attribute","attribute",-2074029119);V0=new $APP.G("parser","binding","parser/binding",-346395752);bOa=new $APP.r("datascript.core","pull","datascript.core/pull",-1213970902,null);
kLa=new $APP.G("entity-id","missing","entity-id/missing",1234588374);$APP.sZ=new $APP.G(null,"datoms","datoms",-290874434);E_=new $APP.G(null,"ref?","ref?",1932693720);$APP.NY=new $APP.G(null,"schema","schema",-1582001791);aZ=new $APP.G("db.unique","value","db.unique/value",276903088);R2=new $APP.r(null,"added","added",-596784081,null);g_=new $APP.G("datascript.db","internal","datascript.db/internal",-249301114);cOa=new $APP.r("datascript.core","touch","datascript.core/touch",632058772,null);
SY=new $APP.G(null,"rschema","rschema",-1196134054);H_=new $APP.G(null,"attrs","attrs",-2090668713);C2=new $APP.G(null,"listeners","listeners",394544445);EZ=new $APP.G(null,"db-after","db-after",-571884666);CLa=new $APP.G(null,"entity","entity",-450970276);dOa=new $APP.r(null,"tuple","tuple",1167864243,null);eOa=new $APP.r(null,"datom-added","datom-added",-363961980,null);S_=new $APP.r(null,"...","...",-1926939749,null);$APP.OY=new $APP.G(null,"eavt","eavt",-666437073);
fOa=new $APP.r("datascript","DB","datascript/DB",-487332776,null);pLa=new $APP.G(null,"datom","datom",-371556090);jY=new $APP.G(null,"a","a",-2123407586);f1=new $APP.r(null,"pull","pull",779986722,null);iY=new $APP.G(null,"v","v",21465059);S2=new $APP.r(null,"datom","datom",1268975437,null);gOa=new $APP.r(null,"create-conn","create-conn",2071410861,null);XKa=new $APP.G(null,"index-access","index-access",-1548960265);PY=new $APP.G(null,"aevt","aevt",-585148059);
hOa=new $APP.r(null,"untuple","untuple",-606149900,null);$Y=new $APP.G("db","index","db/index",-1531680669);T2=new $APP.r(null,"conn","conn",1918841190,null);YKa=new $APP.G(null,"index","index",-1531685915);iOa=new $APP.r(null,"datom-tx","datom-tx",1349109608,null);jOa=new $APP.r("datascript.db","rschema","datascript.db/rschema",1982085018,null);u1=new $APP.G(null,"rule-vars","rule-vars",1665972520);OZ=new $APP.G(null,"context","context",-830191113);
kOa=new $APP.r(null,"serializable","serializable",1941609404,null);lOa=new $APP.r(null,"this","this",1028897902,null);rMa=new $APP.G("parser","in","parser/in",1617442048);mOa=new $APP.r("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);VY=new $APP.G(null,"hash","hash",-13781596);nOa=new $APP.r("datascript.core","filter","datascript.core/filter",-1276765471,null);oOa=new $APP.r("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);
rLa=new $APP.G(null,"assertion","assertion",-1645134882);J_=new $APP.G(null,"last-attr","last-attr",-526000708);$Z=new $APP.G("db","add","db/add",235286841);pOa=new $APP.r(null,"conn-from-db","conn-from-db",-184109372,null);ZKa=new $APP.G(null,"components","components",-1073188942);YY=new $APP.G("db","unique","db/unique",329396388);dZ=new $APP.G("db","isComponent","db/isComponent",423352398);BLa=new $APP.G("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);
h_=new $APP.G("datascript.db","value-tempids","datascript.db/value-tempids",244806162);GY=new $APP.G(null,"avet","avet",1383857032);qOa=new $APP.r("datascript.core","datoms","datascript.core/datoms",961250077,null);ELa=new $APP.G("db.fn","cas","db.fn/cas",-379352172);j0=new $APP.G(null,"visitor","visitor",-1026865865);eZ=new $APP.G("db","tupleAttrs","db/tupleAttrs",250080092);HZ=new $APP.G(null,"tx-meta","tx-meta",1159283194);iZ=new $APP.G("schema","validation","schema/validation",1178447161);
rOa=new $APP.r("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);sOa=new $APP.r("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);U2=new $APP.G("query","binding","query/binding",698240489);tOa=new $APP.r("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);uOa=new $APP.r("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);F_=new $APP.G(null,"component?","component?",407783990);
vOa=new $APP.r("datascript.core","datom","datascript.core/datom",-1596234155,null);DLa=new $APP.G("db","fn","db/fn",-1175261470);i2=new $APP.G("query","where","query/where",-1935159429);wOa=new $APP.r(null,"missing?","missing?",-1710383910,null);ZZ=new $APP.G("db","id","db/id",-1388397098);I_=new $APP.G(null,"first-attr","first-attr",-1993039831);xOa=new $APP.r("datascript.core","pull-many","datascript.core/pull-many",394351057,null);YZ=new $APP.G("transact","upsert","transact/upsert",412688078);
V2=new $APP.G(null,"elements","elements",657646735);N_=new $APP.G(null,"fragment","fragment",826775688);KZ=new $APP.G(null,"entity-id","entity-id",1485898093);yOa=new $APP.r(null,"datom-from-reader","datom-from-reader",1334075127,null);zOa=new $APP.r("datascript.core","listen!","datascript.core/listen!",1659161258,null);AOa=new $APP.G(null,"thaw-kw","thaw-kw",1076733097);BOa=new $APP.G("transaction","filtered","transaction/filtered",1699706605);
COa=new $APP.r(null,"init-db","init-db",-1059254491,null);FLa=new $APP.G("db","cas","db/cas",-451542322);DOa=new $APP.r(null,"pull-many","pull-many",1857679657,null);oMa=new $APP.r(null,"aggregate","aggregate",-1142967327,null);EOa=new $APP.r(null,"tx0","tx0",-4656209,null);Y1=new $APP.G(null,"rels","rels",1770187185);W2=new $APP.G(null,"binding","binding",539932593);FOa=new $APP.r("datascript.db","datom","datascript.db/datom",399198004,null);GOa=new $APP.r(null,"squuid","squuid",-1898207797,null);
K_=new $APP.G(null,"reverse-attrs","reverse-attrs",630097702);X1=new $APP.G(null,"sources","sources",-321166424);HOa=new $APP.r(null,"touch","touch",-1158163300,null);k2=new $APP.r(null,"-differ?","-differ?",1465687357,null);IOa=new $APP.r("datascript.core","tx0","datascript.core/tx0",1432817831,null);QY=new $APP.G(null,"max-eid","max-eid",2134868075);p2=new $APP.G(null,"used-args","used-args",23596256);X2=new $APP.G(null,"attr","attr",-604132353);I1=new $APP.G(null,"qwhere","qwhere",-1645067378);
hLa=new $APP.G("lookup-ref","syntax","lookup-ref/syntax",-317304012);cZ=new $APP.G("db.type","ref","db.type/ref",-1728373079);JOa=new $APP.G(null,"init-db","init-db",1595181278);KOa=new $APP.r("datascript.core","index-range","datascript.core/index-range",-1484576383,null);LOa=new $APP.r(null,"db-from-reader","db-from-reader",1527469533,null);LZ=new $APP.G("db","ident","db/ident",-737096);MOa=new $APP.G(null,"thaw-fn","thaw-fn",-240544261);z_=new $APP.G(null,"recursion-limit","recursion-limit",52345639);
bZ=new $APP.G("db.cardinality","many","db.cardinality/many",772806234);NOa=new $APP.r(null,"listen!","listen!",-115577950,null);fZ=new $APP.G("db.type","tuple","db.type/tuple",938234914);iLa=new $APP.G("lookup-ref","unique","lookup-ref/unique",-960647710);OOa=new $APP.G("datascript","db","datascript/db",-1190971692);NZ=new $APP.G("transact","syntax","transact/syntax",-299207078);DZ=new $APP.G(null,"db-before","db-before",-553691536);POa=new $APP.r(null,"index-range","index-range",1044940937,null);
n2=new $APP.G(null,"prefix-clauses","prefix-clauses",1294180028);Y2=new $APP.r(null,"tx-meta","tx-meta",-1495152575,null);BMa=new $APP.G(null,"rule","rule",729973257);QOa=new $APP.r(null,"attr","attr",1036399174,null);L_=new $APP.G(null,"wildcard?","wildcard?",-686044101);SKa=new $APP.G(null,"tx","tx",466630418);z1=new $APP.r(null,"or-join","or-join",591375469,null);ROa=new $APP.r(null,"sum","sum",1777518341,null);hMa=new $APP.G("parser","rule-var","parser/rule-var",-1584354459);
SOa=new $APP.r(null,"db-with","db-with",233242042,null);E1=new $APP.G(null,"qfind","qfind",1529332972);M0=new $APP.G("parser","rule-vars","parser/rule-vars",-1493174969);x1=new $APP.r(null,"not-join","not-join",-645515756,null);IMa=new $APP.G(null,"find","find",496279456);ILa=new $APP.G(null,"new","new",-2085437848);f_=new $APP.G("db","retract","db/retract",-1549825231);N0=new $APP.G(null,"free","free",801364328);FZ=new $APP.G(null,"tx-data","tx-data",934159761);
TOa=new $APP.G("db.pull","reverse","db.pull/reverse",1999788297);gZ=new $APP.G("db","attrTuples","db/attrTuples",860541631);UY=new $APP.G(null,"pull-attrs","pull-attrs",-974863177);JLa=new $APP.G("db.fn","retractAttribute","db.fn/retractAttribute",937402164);UOa=new $APP.r("datascript","Datom","datascript/Datom",-901340080,null);a_=new $APP.G("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);Z2=new $APP.G("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);
W1=new $APP.G(null,"variable","variable",-281346492);VOa=new $APP.r(null,"entity","entity",1189561251,null);WOa=new $APP.r(null,"count-distinct","count-distinct",-1566572514,null);$2=new $APP.G(null,"recursion-limits","recursion-limits",1762857814);XOa=new $APP.r("datascript.db","DB","datascript.db/DB",348347258,null);sLa=new $APP.G(null,"conflict","conflict",1978796605);YOa=new $APP.r("datascript.core","q","datascript.core/q",2106686416,null);
ZOa=new $APP.r("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);G1=new $APP.G(null,"qreturn-map","qreturn-map",1841215994);RMa=new $APP.G(null,"got","got",-1674745710);C1=new $APP.G("parser","rule","parser/rule",-464044566);$Oa=new $APP.r(null,"get-else","get-else",1312024065,null);aPa=new $APP.r(null,"avg","avg",1837937727,null);bPa=new $APP.r("datascript.core","transact!","datascript.core/transact!",1506351773,null);
cPa=new $APP.r("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);dPa=new $APP.r(null,"from-serializable","from-serializable",945516427,null);t1=new $APP.G("parser","where","parser/where",-966053850);a3=new $APP.G(null,"element","element",1974019749);A_=new $APP.G(null,"recursive?","recursive?",1340075244);UZ=new $APP.G("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);B_=new $APP.G(null,"reverse?","reverse?",-1672868474);
ePa=new $APP.r("datascript.core","squuid","datascript.core/squuid",-408746813,null);h1=new $APP.G("parser","find","parser/find",-801023103);fMa=new $APP.G(null,"freeze-kw","freeze-kw",391758233);HLa=new $APP.G(null,"old","old",-1825222690);y_=new $APP.G(null,"pattern","pattern",242135423);fPa=new $APP.r(null,"rschema","rschema",444397473,null);b3=new $APP.G(null,"db","db",993250759);KMa=new $APP.G(null,"with","with",-1536296876);eMa=new $APP.G(null,"freeze-fn","freeze-fn",-575885995);
gPa=new $APP.r("datascript.core","serializable","datascript.core/serializable",-630048076,null);c3=new $APP.r(null,"Datom","Datom",1208901035,null);GZ=new $APP.G(null,"tempids","tempids",1767509089);var GKa,oX;datascript={};GKa={};$APP.g=kX.prototype;$APP.g.U=function(a,b,c){return mX.j?mX.j(this,b,c):mX.call(null,this,b,c)};$APP.g.ja=function(a,b){return $APP.Ub(this.$e,b)};$APP.g.da=function(a,b){return $APP.KC(this.$e,b,null)};$APP.g.M=function(a,b,c){return $APP.KC(this.$e,b,c)};$APP.g.V=function(a,b,c){return $APP.Lc(this.$e,b,c)};var IX=$APP.v($APP.fi.h(function(a){return 0!=(32&1<<a)},$APP.Fp.j(31,-1,-1)))+1,HX=(1<<IX)-1;$APP.g=EX.prototype;$APP.g.Eh=function(){var a=this.keys;return a[a.length-1]};$APP.g.ui=function(){return this.keys.length};$APP.g.Gh=function(a,b){return new EX(this.keys.concat(b.keys),this.Sb.concat(b.Sb))};$APP.g.Hh=function(a,b){a=uX(this.keys,b.keys);b=uX(this.Sb,b.Sb);return vX(new EX(a[0],b[0]),new EX(a[1],b[1]))};$APP.g.Fh=function(a,b,c){a=KKa(b,this.keys,c);return-1===a?null:BX(this.Sb[a],b,c)};
$APP.g.Ch=function(a,b,c){a=rX(b,this.keys,this.keys.length-2,c);c=CX(this.Sb[a],b,c);if($APP.k(c)){var d=this.keys,e=a+1,f=c.map(xX);b=LKa(b,d,a,e,f,f.length)?d:tX(d,a,e,f);a=tX(this.Sb,a,a+1,c);if(32>=a.length)return[new EX(b,a)];c=a.length>>>1;return[new EX(b.slice(0,c),a.slice(0,c)),new EX(b.slice(c),a.slice(c))]}return null};
$APP.g.Dh=function(a,b,c,d,e,f){var l=KKa(b,this.keys,c);if(-1===l)return null;a=0<=l-1?this.Sb[l-1]:null;var m=l+1<this.Sb.length?this.Sb[l+1]:null;c=DX(this.Sb[l],b,c,!1,a,m);if($APP.k(c)){a=$APP.k(a)?l-1:l;l=$APP.k(m)?2+l:1+l;m=this.keys;var q=c.map(xX);b=LKa(b,m,a,l,q,q.length)?m:tX(m,a,l,q);c=tX(this.Sb,a,l,c);return MKa(new EX(b,c),d,e,f)}return null};$APP.g=FX.prototype;$APP.g.Eh=function(){var a=this.keys;return a[a.length-1]};$APP.g.ui=function(){return this.keys.length};
$APP.g.Gh=function(a,b){return new FX(this.keys.concat(b.keys))};$APP.g.Hh=function(a,b){a=uX(this.keys,b.keys);return vX(new FX(a[0]),new FX(a[1]))};$APP.g.Fh=function(a,b,c){a=JKa(b,this.keys,c);return-1===a?null:this.keys[a]};
$APP.g.Ch=function(a,b,c){a=rX(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.h?b.h(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new FX(this.keys.slice(0,b)),new FX(sX(this.keys,b,d,a,a,[c]))]:[new FX(sX(this.keys,0,b,a,a,[c])),new FX(this.keys.slice(b,d))]):[new FX(tX(this.keys,a,a,[c]))]};$APP.g.Dh=function(a,b,c,d,e,f){a=JKa(b,this.keys,c);if(-1===a)return null;a=tX(this.keys,a,a+1,[]);return MKa(new FX(a),d,e,f)};$APP.g=$APP.GX.prototype;
$APP.g.toString=function(){return $APP.nd(this)};$APP.g.da=function(a,b){return BX(this.root,this.Lc,b)};$APP.g.M=function(a,b,c){a=BX(this.root,this.Lc,b);return $APP.k(a)?a:c};$APP.g.V=function(a,b,c){return $APP.Ik(b,$APP.Lk,"#{"," ","}",c,$APP.u(this))};$APP.g.W=function(){return this.K};$APP.g.Z=function(){return new $APP.GX(this.root,this.shift,this.O,this.Lc,this.K,this.Sc)};$APP.g.ba=function(){return this.O};$APP.g.Jc=function(){return $APP.Bc(RX.g?RX.g(this):RX.call(null,this))};
$APP.g.Y=function(){var a=this.Sc;return null!=a?a:this.Sc=a=$APP.Md(this)};$APP.g.P=function(a,b){var c=this;return $APP.Be(b)&&this.O===$APP.fe(b)&&$APP.Ch(function(d){return $APP.cf(c,d)},b)};$APP.g.ie=function(){return this};$APP.g.Ga=function(){return new $APP.GX(new FX([]),0,0,this.Lc,this.K,null)};$APP.g.Hf=function(a,b){return XX.j?XX.j(this,b,this.Lc):XX.call(null,this,b,this.Lc)};$APP.g.Sa=function(a,b){a=RX.g?RX.g(this):RX.call(null,this);return $APP.k(a)?$APP.MC(a,b):b.F?b.F():b.call(null)};
$APP.g.Oa=function(a,b,c){a=RX.g?RX.g(this):RX.call(null,this);return $APP.k(a)?$APP.MC(a,b,c):c};$APP.g.Qd=function(a,b){return WX.j?WX.j(this,b,this.Lc):WX.call(null,this,b,this.Lc)};$APP.g.ye=function(){return this};$APP.g.aa=function(){return RX.g?RX.g(this):RX.call(null,this)};$APP.g.jh=function(a,b){return XX.j?XX.j(this,b,this.Lc):XX.call(null,this,b,this.Lc)};$APP.g.X=function(a,b){return new $APP.GX(this.root,this.shift,this.O,this.Lc,b,this.Sc)};
$APP.g.ca=function(a,b){return WX.j?WX.j(this,b,this.Lc):WX.call(null,this,b,this.Lc)};$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.zb(b)))};$APP.g.g=function(a){return this.da(null,a)};$APP.g.h=function(a,b){return this.M(null,a,b)};
var LX=function LX(a,b,c){var e=HX&b>>>c;if(0<c){var f=a.Sb[e],l=c-IX;b=LX.j?LX.j(f,b,l):LX.call(null,f,b,l);return-1===b?e+1<a.Sb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1},OX=function OX(a,b,c){var e=HX&b>>>c;if(0<c){var f=c-IX,l=a.Sb[e];b=OX.j?OX.j(l,b,f):OX.call(null,l,b,f);return-1===b?0<=e-1?(--e,NX(a.Sb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};$APP.g=NKa.prototype;$APP.g.ba=function(){return this.end-this.ob};$APP.g.fa=function(a,b){return this.H[this.ob+b]};
$APP.g.Ua=function(a,b,c){return 0<=b&&b<this.end-this.ob?this.H[this.ob+b]:c};$APP.g.Af=function(){if(this.ob===this.end)throw Error("-drop-first of empty chunk");return new $APP.Og(this.H,this.ob+1,this.end)};$APP.g.Sa=function(a,b){return this.ob===this.end?b.F?b.F():b.call(null):$APP.MC(this.Af(null),b,this.H[this.ob])};$APP.g.Oa=function(a,b,c){for(a=this.ob;;)if(a<this.end){var d=this.H[a];c=b.h?b.h(c,d):b.call(null,c,d);if($APP.Ud(c))return $APP.p(c);a+=1}else return c};$APP.g=SX.prototype;
$APP.g.toString=function(){return $APP.nd(this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,$APP.Lk,"("," ",")",c,$APP.u(this))};$APP.g.Na=function(){if($APP.k(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new SX(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=MX(this.set,this.left);return $APP.ak.h(-1,a)&&a<this.right?this.Ig(a,this.right):null}return null};
$APP.g.Jc=function(){if($APP.k(this.keys)){var a=this.set,b=PX(this.set,this.left),c=PX(this.set,this.right);return UX.j?UX.j(a,b,c):UX.call(null,a,b,c)}return null};$APP.g.P=function(a,b){return $APP.qg(this,b)};$APP.g.Sa=function(a,b){if(null==this.keys)return b.F?b.F():b.call(null);a=this.Ta(null);var c=this.Na(null);return null==c?a:$APP.MC(c,b,a)};
$APP.g.Oa=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.h?b.h(c,f):b.call(null,c,f);if($APP.Ud(c))return $APP.p(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=MX(this.set,a),-1!==a&&a<this.right)d=JX(this.set,a),e=HX&a>>>0;else return c}};$APP.g.Ta=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.hb=function(){var a=this.Na(null);return $APP.k(a)?a:$APP.Ed};
$APP.g.aa=function(){return $APP.k(this.keys)?this:null};$APP.g.kf=function(){var a=$APP.z.h(this.left|HX,this.right|HX)?this.right&HX:this.keys.length;return new NKa(this.keys,this.idx,a)};$APP.g.we=function(){var a=this.Se();return $APP.k(a)?a:$APP.Ed};$APP.g.Ig=function(a,b){return new SX(this.set,a,b,JX(this.set,a),HX&a>>>0)};$APP.g.Se=function(){var a=MX(this.set,this.left+(this.keys.length-this.idx-1));return $APP.ak.h(-1,a)&&a<this.right?this.Ig(a,this.right):null};$APP.g=TX.prototype;
$APP.g.toString=function(){return $APP.nd(this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,$APP.Lk,"("," ",")",c,$APP.u(this))};$APP.g.Na=function(){if($APP.k(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new TX(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=PX(this.set,this.right);return $APP.ak.h(-1,a)&&a>this.left?this.Ig(this.left,a):null}return null};
$APP.g.Jc=function(){if($APP.k(this.keys)){var a=-1===this.left?0:MX(this.set,this.left),b=MX(this.set,this.right);return QX(this.set,a,-1===b?this.right+1:b)}return null};$APP.g.P=function(a,b){return $APP.qg(this,b)};$APP.g.Ta=function(){return $APP.k(this.keys)?this.keys[this.idx]:null};$APP.g.hb=function(){var a=this.Na(null);return $APP.k(a)?a:$APP.Ed};$APP.g.aa=function(){return $APP.k(this.keys)?this:null};$APP.g.Ig=function(a,b){return new TX(this.set,a,b,JX(this.set,b),HX&b>>>0)};var UKa=Error,wLa=$APP.Yt.h($APP.wg,$APP.ii),cLa=$APP.Yt.h($APP.wg,$APP.ek);$APP.g=$APP.eY.prototype;$APP.g.gb=function(){return 0<this.tx?this.tx:-this.tx};$APP.g.cd=function(){return 0<this.tx};$APP.g.Y=function(){return 0===this.Sc?this.Sc=fY.g?fY.g(this):fY.call(null,this):this.Sc};$APP.g.P=function(a,b){return(a=b instanceof $APP.eY)?gY.h?gY.h(this,b):gY.call(null,this,b):a};$APP.g.aa=function(){return hY.g?hY.g(this):hY.call(null,this)};
$APP.g.da=function(a,b){return kY.j?kY.j(this,b,null):kY.call(null,this,b,null)};$APP.g.M=function(a,b,c){return kY.j?kY.j(this,b,c):kY.call(null,this,b,c)};$APP.g.fa=function(a,b){return lY?lY(this,b):TKa.call(null,this,b)};$APP.g.Ua=function(a,b,c){return mY?mY(this,b,c):TKa.call(null,this,b,c)};$APP.g.U=function(a,b,c){return oY.j?oY.j(this,b,c):oY.call(null,this,b,c)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,$APP.Lk,"#datascript/Datom ["," ","]",c,new $APP.H(null,5,5,$APP.I,[this.e,this.a,this.v,this.gb(null),this.cd(null)],null))};FKa("datascript.db.Datom",$APP.eY);
var nY=function nY(a){switch(arguments.length){case 3:return nY.j(arguments[0],arguments[1],arguments[2]);case 4:return nY.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return nY.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};nY.j=function(a,b,c){return new $APP.eY(a,b,c,536870912,0,0)};nY.I=function(a,b,c,d){return new $APP.eY(a,b,c,d,0,0)};
nY.R=function(a,b,c,d,e){return new $APP.eY(a,b,c,$APP.k(e)?d:-d,0,0)};nY.C=5;$APP.g=$APP.MY.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "schema":return this.ec;case "eavt":return this.Lb;case "aevt":return this.jc;case "avet":return this.ac;case "max-eid":return this.xc;case "max-tx":return this.yc;case "rschema":return this.pc;case "pull-patterns":return this.oc;case "pull-attrs":return this.nc;case "hash":return this.hash;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.N.h(new $APP.H(null,10,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.NY,this.ec],null),new $APP.H(null,2,5,$APP.I,[$APP.OY,this.Lb],null),new $APP.H(null,2,5,$APP.I,[PY,this.jc],null),new $APP.H(null,2,5,$APP.I,[GY,this.ac],null),new $APP.H(null,2,5,$APP.I,[QY,this.xc],null),new $APP.H(null,2,5,$APP.I,[RY,this.yc],null),new $APP.H(null,2,5,$APP.I,[SY,this.pc],null),new $APP.H(null,
2,5,$APP.I,[TY,this.oc],null),new $APP.H(null,2,5,$APP.I,[UY,this.nc],null),new $APP.H(null,2,5,$APP.I,[VY,this.hash],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,10,new $APP.H(null,10,5,$APP.I,[$APP.NY,$APP.OY,PY,GY,QY,RY,SY,TY,UY,VY],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,this.o,this.D)};
$APP.g.ba=function(){return 10+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1515640948^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ec,b.ec)&&$APP.z.h(this.Lb,b.Lb)&&$APP.z.h(this.jc,b.jc)&&$APP.z.h(this.ac,b.ac)&&$APP.z.h(this.xc,b.xc)&&$APP.z.h(this.yc,b.yc)&&$APP.z.h(this.pc,b.pc)&&$APP.z.h(this.oc,b.oc)&&$APP.z.h(this.nc,b.nc)&&$APP.z.h(this.hash,b.hash)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,10,[$APP.NY,null,RY,null,VY,null,PY,null,GY,null,QY,null,$APP.OY,null,UY,null,TY,null,SY,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.NY,b):$APP.Bg.call(null,$APP.NY,b))?new $APP.MY(c,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.OY,b):$APP.Bg.call(null,$APP.OY,b))?new $APP.MY(this.ec,c,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(PY,b):$APP.Bg.call(null,PY,b))?new $APP.MY(this.ec,this.Lb,c,this.ac,this.xc,this.yc,this.pc,
this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(GY,b):$APP.Bg.call(null,GY,b))?new $APP.MY(this.ec,this.Lb,this.jc,c,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(QY,b):$APP.Bg.call(null,QY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,c,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(RY,b):$APP.Bg.call(null,RY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,c,this.pc,this.oc,
this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(SY,b):$APP.Bg.call(null,SY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,c,this.oc,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(TY,b):$APP.Bg.call(null,TY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,c,this.nc,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(UY,b):$APP.Bg.call(null,UY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,
c,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(VY,b):$APP.Bg.call(null,VY,b))?new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,c,this.B,this.o,null):new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,10,5,$APP.I,[new $APP.df($APP.NY,this.ec,null),new $APP.df($APP.OY,this.Lb,null),new $APP.df(PY,this.jc,null),new $APP.df(GY,this.ac,null),new $APP.df(QY,this.xc,null),new $APP.df(RY,this.yc,null),new $APP.df(SY,this.pc,null),new $APP.df(TY,this.oc,null),new $APP.df(UY,this.nc,null),new $APP.df(VY,this.hash,null)],null),this.o))};
$APP.g.X=function(a,b){return new $APP.MY(this.ec,this.Lb,this.jc,this.ac,this.xc,this.yc,this.pc,this.oc,this.nc,this.hash,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};
$APP.g.li=function(a,b){a:for(var c=$APP.OY.g(b),d=b=a=$APP.ii,e=this.Lb;;){if($APP.ze(e)){var f=new $APP.H(null,3,5,$APP.I,[$APP.jh(a),$APP.jh($APP.aj.h(b,c)),$APP.jh(d)],null);break a}if($APP.ze(c)){f=new $APP.H(null,3,5,$APP.I,[$APP.jh($APP.aj.h(a,e)),$APP.jh(b),$APP.jh(d)],null);break a}var l=$APP.v(e),m=$APP.v(c);try{f=xY.h?xY.h(l,m):xY.call(null,l,m)}catch(q){if(q instanceof Error)f=CNa;else throw q;}if($APP.z.h(f,CNa))a=$APP.wg.h(a,l),b=$APP.wg.h(b,m),e=$APP.y(e),c=$APP.y(c);else if(0===f)d=
$APP.wg.h(d,l),e=$APP.y(e),c=$APP.y(c);else if(0>f)a=$APP.wg.h(a,l),e=$APP.y(e);else if(0<f)b=$APP.wg.h(b,m),c=$APP.y(c);else{f=null;break a}}return f};$APP.g.Ha=$APP.vd;$APP.g.V=function(a,b,c){return rZ.j?rZ.j(this,b,c):rZ.call(null,this,b,c)};$APP.g.Yg=$APP.vd;$APP.g.ba=function(){return $APP.fe(this.Lb)};$APP.g.lj=$APP.vd;$APP.g.Jc=function(){return $APP.Bc(this.Lb)};$APP.g.Cf=$APP.vd;$APP.g.Y=function(){return oZ.g?oZ.g(this):oZ.call(null,this)};
$APP.g.P=function(a,b){return qZ.h?qZ.h(this,b):qZ.call(null,this,b)};$APP.g.Zg=$APP.vd;$APP.g.ie=function(){return $APP.Dp.j($APP.Dp.j($APP.Dp.j(this,$APP.OY,$APP.Yg),PY,$APP.Yg),GY,$APP.Yg)};$APP.g.$g=$APP.vd;$APP.g.Ga=function(){var a=this.ec;a=d3.g?d3.g(a):d3.call(null,a);return $APP.ve(a,$APP.we(this))};$APP.g.Qd=function(){throw $APP.po.h("datascript.DB/conj! is not supported",$APP.hh);};$APP.g.ye=function(){return $APP.Dp.j($APP.Dp.j($APP.Dp.j(this,$APP.OY,$APP.Zg),PY,$APP.Zg),GY,$APP.Zg)};
$APP.g.mi=function(){return OOa};$APP.g.uh=function(a,b,c){IY(this,b,c);return YX($APP.af.h(this,b),BZ.R?BZ.R(this,b,c,0,536870912):BZ.call(null,this,b,c,0,536870912),BZ.R?BZ.R(this,b,c,2147483647,2147483647):BZ.call(null,this,b,c,2147483647,2147483647))};$APP.g.wh=function(a,b,c){IY(this,b,c);return YX($APP.af.h(this,b),BZ.R?BZ.R(this,b,c,0,536870912):BZ.call(null,this,b,c,0,536870912),nY.I(2147483647,null,null,2147483647))};
$APP.g.vh=function(a,b,c,d){IY(this,GY,new $APP.H(null,1,5,$APP.I,[b],null));a=new $APP.F(null,FNa,new $APP.F(null,vZ,new $APP.F(null,b,new $APP.F(null,c,new $APP.F(null,d,null,1,null),2,null),3,null),4,null),5,null);wZ.h?wZ.h(b,a):wZ.call(null,b,a);return YX(this.ac,AZ.Ja?AZ.Ja(this,null,b,c,null,0,536870912):AZ.call(null,this,null,b,c,null,0,536870912),AZ.Ja?AZ.Ja(this,null,b,d,null,2147483647,2147483647):AZ.call(null,this,null,b,d,null,2147483647,2147483647))};$APP.g.rh=$APP.vd;$APP.g.th=function(){return this.ec};
$APP.g.sh=function(a,b){a=this.pc;return a.g?a.g(b):a.call(null,b)};$APP.g.ni=$APP.vd;
$APP.g.xh=function(a,b){a=$APP.B.j(b,0,null);var c=$APP.B.j(b,1,null),d=$APP.B.j(b,2,null),e=$APP.B.j(b,3,null);b=this.Lb;var f=this.jc,l=this.ac;$APP.cf(LY(this,bZ),c);return $APP.k(a)?$APP.k(c)?null!=d?$APP.k(e)?YX(b,nY.I(a,c,d,e),nY.I(a,c,d,e)):YX(b,nY.I(a,c,d,536870912),nY.I(a,c,d,2147483647)):$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(e,m.gb(null))},YX(b,nY.I(a,c,null,536870912),nY.I(a,c,null,2147483647))):YX(b,nY.I(a,c,null,536870912),nY.I(a,c,null,2147483647)):null!=d?$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(d,
m.v)&&$APP.z.h(e,m.gb(null))},YX(b,nY.I(a,null,null,536870912),nY.I(a,null,null,2147483647))):$APP.fi.h(function(m){return $APP.z.h(d,m.v)},YX(b,nY.I(a,null,null,536870912),nY.I(a,null,null,2147483647))):$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(e,m.gb(null))},YX(b,nY.I(a,null,null,536870912),nY.I(a,null,null,2147483647))):YX(b,nY.I(a,null,null,536870912),nY.I(a,null,null,2147483647)):$APP.k(c)?null!=d?$APP.k(e)?$APP.k(HY.h?HY.h(this,c):HY.call(null,this,c))?$APP.fi.h(function(m){return $APP.z.h(e,
m.gb(null))},YX(l,nY.I(0,c,d,536870912),nY.I(2147483647,c,d,2147483647))):$APP.fi.h(function(m){return $APP.z.h(d,m.v)&&$APP.z.h(e,m.gb(null))},YX(f,nY.I(0,c,null,536870912),nY.I(2147483647,c,null,2147483647))):$APP.k(HY.h?HY.h(this,c):HY.call(null,this,c))?YX(l,nY.I(0,c,d,536870912),nY.I(2147483647,c,d,2147483647)):$APP.fi.h(function(m){return $APP.z.h(d,m.v)},YX(f,nY.I(0,c,null,536870912),nY.I(2147483647,c,null,2147483647))):$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(e,m.gb(null))},YX(f,nY.I(0,
c,null,536870912),nY.I(2147483647,c,null,2147483647))):YX(f,nY.I(0,c,null,536870912),nY.I(2147483647,c,null,2147483647)):null!=d?$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(d,m.v)&&$APP.z.h(e,m.gb(null))},b):$APP.fi.h(function(m){return $APP.z.h(d,m.v)},b):$APP.k(e)?$APP.fi.h(function(m){return $APP.z.h(e,m.gb(null))},b):b};$APP.g=XY.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":return this.rc;case "pred":return this.Yb;case "hash":return this.hash;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[M2,this.rc],null),new $APP.H(null,2,5,$APP.I,[$APP.wK,this.Yb],null),new $APP.H(null,2,5,$APP.I,[VY,this.hash],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[M2,$APP.wK,VY],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new XY(this.rc,this.Yb,this.hash,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-351969977^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.rc,b.rc)&&$APP.z.h(this.Yb,b.Yb)&&$APP.z.h(this.hash,b.hash)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[VY,null,$APP.wK,null,M2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new XY(this.rc,this.Yb,this.hash,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(M2,b):$APP.Bg.call(null,M2,b))?new XY(c,this.Yb,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.wK,b):$APP.Bg.call(null,$APP.wK,b))?new XY(this.rc,c,this.hash,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(VY,b):$APP.Bg.call(null,VY,b))?new XY(this.rc,this.Yb,c,this.B,this.o,null):new XY(this.rc,this.Yb,this.hash,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df(M2,this.rc,null),new $APP.df($APP.wK,this.Yb,null),new $APP.df(VY,this.hash,null)],null),this.o))};$APP.g.X=function(a,b){return new XY(this.rc,this.Yb,this.hash,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.ai=$APP.vd;$APP.g.da=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.g.M=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.g.Ha=$APP.vd;$APP.g.V=function(a,b,c){return rZ.j?rZ.j(this,b,c):rZ.call(null,this,b,c)};$APP.g.Yg=$APP.vd;$APP.g.ba=function(){return $APP.fe(DY(this,$APP.OY,$APP.ii))};$APP.g.Cf=$APP.vd;$APP.g.Y=function(){return pZ.g?pZ.g(this):pZ.call(null,this)};$APP.g.P=function(a,b){return qZ.h?qZ.h(this,b):qZ.call(null,this,b)};$APP.g.$g=$APP.vd;$APP.g.Ga=function(){throw Error("-empty is not supported on FilteredDB");};
$APP.g.Xg=$APP.vd;$APP.g.ja=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.g.U=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.g.uh=function(a,b,c){return $APP.fi.h(this.Yb,DY(this.rc,b,c))};$APP.g.wh=function(a,b,c){return $APP.fi.h(this.Yb,EY(this.rc,b,c))};$APP.g.vh=function(a,b,c,d){return $APP.fi.h(this.Yb,FY(this.rc,b,c,d))};$APP.g.rh=$APP.vd;$APP.g.th=function(){return KY(this.rc)};$APP.g.sh=function(a,b){return LY(this.rc,b)};
$APP.g.ni=$APP.vd;$APP.g.xh=function(a,b){return $APP.fi.h(this.Yb,BY(this.rc,b))};var d3=function d3(a){switch(arguments.length){case 0:return d3.F();case 1:return d3.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};d3.F=function(){return d3.g(null)};
d3.g=function(a){nZ(a);return WY($APP.Ij([$APP.NY,RY,VY,PY,GY,QY,$APP.OY,UY,TY,SY],[a,536870912,$APP.tl.g(0),$X(uY),$X(vY),0,$X(tY),pX(),pX(),hZ($APP.eo.l($APP.D([new $APP.h(null,1,[LZ,new $APP.h(null,1,[YY,ZY],null)],null),a])))]))};d3.C=1;var tZ=function tZ(a){switch(arguments.length){case 1:return tZ.g(arguments[0]);case 2:return tZ.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};tZ.g=function(a){return tZ.h(a,null)};
tZ.h=function(a,b){var c=$APP.v($APP.xk.h(RKa,a));if(null!=c)throw $APP.po.h(["init-db expects list of Datoms, got ",$APP.pl.l($APP.D([$APP.ub(c)]))].join(""),new $APP.h(null,1,[$APP.lN,JOa],null));nZ(b);c=hZ($APP.eo.l($APP.D([new $APP.h(null,1,[LZ,new $APP.h(null,1,[YY,ZY],null)],null),b])));var d=$Y.g(c),e=qX(a)?a:HKa(a);e.sort(yY);var f=ZX(tY,e);e.sort(zY);e=ZX(uY,e);a=$APP.fi.h(function(q){return $APP.cf(d,q.a)},a);a=$APP.of(a);a.sort(AY);a=ZX(vY,a);var l=eLa(f),m=$APP.VC.I($APP.Mk.g(function(q){return q.gb(null)}),
$APP.Ep,536870912,f);return WY($APP.Ij([$APP.NY,RY,VY,PY,GY,QY,$APP.OY,UY,TY,SY],[b,m,$APP.tl.g(0),e,a,l,f,pX(),pX(),c]))};tZ.C=2;$APP.g=CZ.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db-before":return this.rd;case "db-after":return this.qd;case "tx-data":return this.ud;case "tempids":return this.sd;case "tx-meta":return this.vd;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[DZ,this.rd],null),new $APP.H(null,2,5,$APP.I,[EZ,this.qd],null),new $APP.H(null,2,5,$APP.I,[FZ,this.ud],null),new $APP.H(null,2,5,$APP.I,[GZ,this.sd],null),new $APP.H(null,2,5,$APP.I,[HZ,this.vd],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,5,new $APP.H(null,5,5,$APP.I,[DZ,EZ,FZ,GZ,HZ],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new CZ(this.rd,this.qd,this.ud,this.sd,this.vd,this.B,this.o,this.D)};$APP.g.ba=function(){return 5+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2022644885^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.rd,b.rd)&&$APP.z.h(this.qd,b.qd)&&$APP.z.h(this.ud,b.ud)&&$APP.z.h(this.sd,b.sd)&&$APP.z.h(this.vd,b.vd)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,5,[GZ,null,EZ,null,DZ,null,FZ,null,HZ,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new CZ(this.rd,this.qd,this.ud,this.sd,this.vd,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(DZ,b):$APP.Bg.call(null,DZ,b))?new CZ(c,this.qd,this.ud,this.sd,this.vd,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(EZ,b):$APP.Bg.call(null,EZ,b))?new CZ(this.rd,c,this.ud,this.sd,this.vd,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(FZ,b):$APP.Bg.call(null,FZ,b))?new CZ(this.rd,this.qd,c,this.sd,this.vd,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(GZ,b):$APP.Bg.call(null,GZ,b))?new CZ(this.rd,this.qd,this.ud,c,this.vd,this.B,this.o,
null):$APP.k($APP.Bg.h?$APP.Bg.h(HZ,b):$APP.Bg.call(null,HZ,b))?new CZ(this.rd,this.qd,this.ud,this.sd,c,this.B,this.o,null):new CZ(this.rd,this.qd,this.ud,this.sd,this.vd,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.df(DZ,this.rd,null),new $APP.df(EZ,this.qd,null),new $APP.df(FZ,this.ud,null),new $APP.df(GZ,this.sd,null),new $APP.df(HZ,this.vd,null)],null),this.o))};
$APP.g.X=function(a,b){return new CZ(this.rd,this.qd,this.ud,this.sd,this.vd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};var j_=new $APP.dk(null,new $APP.h(null,8,[i_,null,FLa,null,d_,null,KLa,null,f_,null,JLa,null,ELa,null,$Z,null],null),null);$APP.g=q_.prototype;$APP.g.entry_set=function(){return $APP.of($APP.Mk.h($APP.of,p_(this)))};
$APP.g.forEach=function(){function a(d,e){for(var f=$APP.u(p_(this)),l=null,m=0,q=0;;)if(q<m){var A=l.fa(null,q),x=$APP.B.j(A,0,null);A=$APP.B.j(A,1,null);d.call(e,A,x,this);q+=1}else if(f=$APP.u(f))$APP.Ie(f)?(l=$APP.bd(f),f=$APP.cd(f),x=l,m=$APP.fe(l),l=x):(l=$APP.v(f),x=$APP.B.j(l,0,null),A=$APP.B.j(l,1,null),d.call(e,A,x,this),f=$APP.y(f),l=null,m=0),q=0;else return null}function b(d){for(var e=$APP.u(p_(this)),f=null,l=0,m=0;;)if(m<l){var q=f.fa(null,m),A=$APP.B.j(q,0,null);q=$APP.B.j(q,1,null);
d.j?d.j(q,A,this):d.call(null,q,A,this);m+=1}else if(e=$APP.u(e))$APP.Ie(e)?(f=$APP.bd(e),e=$APP.cd(e),A=f,l=$APP.fe(f),f=A):(f=$APP.v(e),A=$APP.B.j(f,0,null),q=$APP.B.j(f,1,null),d.j?d.j(q,A,this):d.call(null,q,A,this),e=$APP.y(e),f=null,l=0),m=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.g=b;c.h=a;return c}();
$APP.g.get=function(a){if($APP.z.h(a,":db/id"))return this.eid;if(WZ(a))return n_(MLa(this.db,this.eid,XZ(a),null));var b=s_?s_(this,a):u_.call(null,this,a);return JZ(this.db,a)?n_(b):b};$APP.g.key_set=function(){return $APP.of($APP.Wj(this))};$APP.g.entries=function(){return $APP.Ui(p_(this))};$APP.g.value_set=function(){return $APP.of($APP.Mk.h($APP.ke,p_(this)))};$APP.g.toString=function(){return $APP.nd(this)};$APP.g.keys=function(){return $APP.Id($APP.Wj(this))};
$APP.g.values=function(){return $APP.Id($APP.Mk.h($APP.ke,p_(this)))};$APP.g.equiv=function(a){return r_.h?r_.h(this,a):r_.call(null,this,a)};$APP.g.has=function(a){return null!=this.get(a)};$APP.g.da=function(a,b){return t_?t_(this,b,null):u_.call(null,this,b,null)};$APP.g.M=function(a,b,c){return t_?t_(this,b,c):u_.call(null,this,b,c)};$APP.g.V=function(a,b,c){return $APP.Lc($APP.K.j($APP.p(this.cache),ZZ,this.eid),b,c)};$APP.g.ba=function(){o_.g?o_.g(this):o_.call(null,this);return $APP.fe($APP.p(this.cache))};
$APP.g.Y=function(){return $APP.wd(this.eid)};$APP.g.P=function(a,b){return r_.h?r_.h(this,b):r_.call(null,this,b)};$APP.g.ja=function(a,b){return $APP.ak.h(Z2,t_?t_(this,b,Z2):u_.call(null,this,b,Z2))};$APP.g.aa=function(){o_.g?o_.g(this):o_.call(null,this);return $APP.u($APP.p(this.cache))};
$APP.g.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length-1)].join(""));}};$APP.g.apply=function(a,b){return this.call.apply(this,[this].concat($APP.zb(b)))};$APP.g.g=function(a){return s_?s_(this,a):u_.call(null,this,a)};$APP.g.h=function(a,b){return t_?t_(this,a,b):u_.call(null,this,a,b)};FKa("datascript.impl.entity.Entity",q_);var e3=function e3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return e3.l(0<c.length?new $APP.Bd(c.slice(0),0,null):null)};e3.l=function(a){var b=$APP.fe(a);return $APP.ak.h($APP.Xh.h(b/2,a),$APP.Sh.h(b/2,a))};e3.C=0;e3.G=function(a){return this.l($APP.u(a))};var f3=function f3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return f3.l(arguments[0],arguments[1],2<c.length?new $APP.Bd(c.slice(2),0,null):null)};
f3.l=function(a,b,c){return $APP.nf.j(function(d,e){d=$APP.v(BY(a,new $APP.H(null,2,5,$APP.I,[b,e],null)));return null==d?null:$APP.Td(new $APP.H(null,2,5,$APP.I,[jY.g(d),iY.g(d)],null))},null,c)};f3.C=2;f3.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};var g3=function g3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return g3.l(0<c.length?new $APP.Bd(c.slice(0),0,null):null)};
g3.l=function(a){return $APP.nf.j(function(b,c){return $APP.k(c)?c:$APP.Td(c)},!0,a)};g3.C=0;g3.G=function(a){return this.l($APP.u(a))};var h3=function h3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return h3.l(0<c.length?new $APP.Bd(c.slice(0),0,null):null)};h3.l=function(a){return $APP.nf.j(function(b,c){return $APP.k(c)?$APP.Td(c):c},null,a)};h3.C=0;h3.G=function(a){return this.l($APP.u(a))};
var i3=function i3(a){switch(arguments.length){case 1:return i3.g(arguments[0]);case 2:return i3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return i3.l(arguments[0],arguments[1],new $APP.Bd(c.slice(2),0,null))}};i3.g=function(){return!0};i3.h=function(a,b){return 0>rY(a,b)};i3.l=function(a,b,c){for(;;)if(i3.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return i3.h(b,$APP.v(c));else return!1};
i3.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};i3.C=2;var j3=function j3(a){switch(arguments.length){case 1:return j3.g(arguments[0]);case 2:return j3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return j3.l(arguments[0],arguments[1],new $APP.Bd(c.slice(2),0,null))}};j3.g=function(){return!0};j3.h=function(a,b){return 0<rY(a,b)};
j3.l=function(a,b,c){for(;;)if(j3.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return j3.h(b,$APP.v(c));else return!1};j3.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};j3.C=2;
var k3=function k3(a){switch(arguments.length){case 1:return k3.g(arguments[0]);case 2:return k3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return k3.l(arguments[0],arguments[1],new $APP.Bd(c.slice(2),0,null))}};k3.g=function(){return!0};k3.h=function(a,b){return!(0<rY(a,b))};k3.l=function(a,b,c){for(;;)if(k3.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return k3.h(b,$APP.v(c));else return!1};
k3.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};k3.C=2;var l3=function l3(a){switch(arguments.length){case 1:return l3.g(arguments[0]);case 2:return l3.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return l3.l(arguments[0],arguments[1],new $APP.Bd(c.slice(2),0,null))}};l3.g=function(){return!0};l3.h=function(a,b){return!(0>rY(a,b))};
l3.l=function(a,b,c){for(;;)if(l3.h(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return l3.h(b,$APP.v(c));else return!1};l3.G=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};l3.C=2;
var R_=$APP.Ij([$APP.EM,$APP.xv,$APP.DN,$Oa,$APP.yJ,$APP.ZJ,$APP.VL,$APP.sN,LNa,$APP.BJ,hOa,$APP.oO,$APP.fp,$APP.uL,$APP.IO,$APP.lK,$APP.UK,k2,dOa,$APP.uJ,$APP.xN,$APP.Spa,$APP.WN,$APP.gL,$APP.xO,$APP.zN,wOa,ONa,$APP.FK,$APP.XM,$APP.aN,$APP.bM,$APP.aF,$APP.HL,$APP.TK,$APP.pM,$APP.fO,$APP.jN,GNa,$APP.UH,$APP.AL,WNa,$APP.SN,$APP.BL,$APP.RI,$APP.KM,$APP.WG,$APP.EI,$APP.dN,$APP.CI,$APP.vO,$APP.FN,$APP.IG,$APP.kN,$APP.gN,$APP.IJ,$APP.GI,$APP.VE,$APP.SI,$APP.bia,$APP.sJ,$APP.oK,$APP.qna,$APP.TH,$APP.CO,
$APP.qO,$APP.rK,$APP.lO,$APP.ZG,$APP.VJ,$APP.Gv,$APP.NE,$APP.IN,$APP.OL],[$APP.Ne,g3,$APP.Hh,function(a,b,c,d){if(null==d)throw $APP.po.h("get-else: nil default value is not supported",new $APP.h(null,1,[$APP.lN,i2],null));a=$APP.v(BY(a,new $APP.H(null,2,5,$APP.I,[b,c],null)));return null==a?d:iY.g(a)},l3,$APP.lB,j3,$APP.fe,f3,$APP.hb,$APP.uf,$APP.Rd,$APP.XC,$APP.cg,$APP.Me,$APP.lb,$APP.uf,e3,$APP.fv,$APP.Dk,k3,$APP.xn,$APP.z,$APP.bD,$APP.XB,$APP.kk,function(a,b,c){return null==$APP.af.h(m_(a,b),
c)},$APP.uf,$APP.wl,$APP.Kh,$APP.mn,$APP.Qq,$APP.ff,$APP.Fp,$APP.Ep,$APP.ze,$APP.WC,$APP.pl,G2,$APP.we,$APP.ng,$APP.ak,$APP.ZD,$APP.vf,$APP.Fk,$APP.fv,$APP.ak,$APP.af,$APP.n,i3,$APP.Cg,$APP.Nk,$APP.Dq,$APP.nb,$APP.mg,$APP.iE,$APP.Ak,$APP.M,$APP.cf,$APP.An,$APP.Ek,$APP.Nf,$APP.Bn,$APP.Pq,$APP.dg,$APP.Gh,$APP.ub,$APP.og,$APP.vn,$APP.jh,h3,$APP.fb,$APP.ik,$APP.Bk]),m3=function m3(a){switch(arguments.length){case 1:return m3.g(arguments[0]);case 2:return m3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.n.g(arguments.length)].join(""));}};m3.g=function(a){return $APP.nf.j(function(b,c){return 0>$APP.ff(c,b)?c:b},$APP.v(a),$APP.y(a))};m3.h=function(a,b){return $APP.pf($APP.nf.j(function(c,d){return $APP.fe(c)<a?$APP.SC.h($APP.ff,$APP.wg.h(c,d)):0>$APP.ff(d,$APP.pe(c))?$APP.SC.h($APP.ff,$APP.wg.h($APP.jk(c),d)):c},$APP.ii,b))};m3.C=2;
var n3=function n3(a){switch(arguments.length){case 1:return n3.g(arguments[0]);case 2:return n3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};n3.g=function(a){return $APP.nf.j(function(b,c){return 0<$APP.ff(c,b)?c:b},$APP.v(a),$APP.y(a))};n3.h=function(a,b){return $APP.pf($APP.nf.j(function(c,d){return $APP.fe(c)<a?$APP.SC.h($APP.ff,$APP.wg.h(c,d)):0<$APP.ff(d,$APP.v(c))?$APP.SC.h($APP.ff,$APP.wg.h($APP.y(c),d)):c},$APP.ii,b))};
n3.C=2;var o3=function o3(a){switch(arguments.length){case 1:return o3.g(arguments[0]);case 2:return o3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};o3.g=function(a){return $APP.xl(a)};o3.h=function(a,b){return $APP.pf($APP.Ku.h(a,function(){return $APP.xl(b)}))};o3.C=2;
var hPa=$APP.Ij([DNa,$APP.sN,XNa,ROa,$APP.gL,$APP.TK,WOa,$APP.dO,aPa,BNa,$APP.IJ,QNa],[QLa,$APP.fe,function(a){var b=$APP.SC.g(a);a=$APP.fe(a);var c=a>>1,d=$APP.B.h(b,c);return $APP.Gh(a)?(d+$APP.B.h(b,c-1))/2:d},v_,m3,n3,function(a){return $APP.fe($APP.QD.g(a))},$APP.ik,PLa,function(a){return Math.sqrt(QLa(a))},o3,function(a,b){return $APP.pf($APP.Xh.h(a,$APP.qf(b)))}]);$APP.g=w_.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "as":return this.as;case "default":return this.tc;case "limit":return this.nb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Zb;case "recursive?":return this.ya;case "reverse?":return this.dc;case "xform":return this.pb;case "multival?":return this.Xb;case "ref?":return this.$b;case "component?":return this.Vb;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.N.h(new $APP.H(null,12,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.hs,this.as],null),new $APP.H(null,2,5,$APP.I,[$APP.pp,this.tc],null),new $APP.H(null,2,5,$APP.I,[x_,this.nb],null),new $APP.H(null,2,5,$APP.I,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null),new $APP.H(null,2,5,$APP.I,[z_,this.Zb],null),new $APP.H(null,2,5,$APP.I,
[A_,this.ya],null),new $APP.H(null,2,5,$APP.I,[B_,this.dc],null),new $APP.H(null,2,5,$APP.I,[C_,this.pb],null),new $APP.H(null,2,5,$APP.I,[D_,this.Xb],null),new $APP.H(null,2,5,$APP.I,[E_,this.$b],null),new $APP.H(null,2,5,$APP.I,[F_,this.Vb],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,12,new $APP.H(null,12,5,$APP.I,[$APP.hs,$APP.pp,x_,$APP.Q,y_,z_,A_,B_,C_,D_,E_,F_],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,this.D)};$APP.g.ba=function(){return 12+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1743810262^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.as,b.as)&&$APP.z.h(this.default,b.default)&&$APP.z.h(this.nb,b.nb)&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.Zb,b.Zb)&&$APP.z.h(this.ya,b.ya)&&$APP.z.h(this.dc,b.dc)&&$APP.z.h(this.pb,b.pb)&&$APP.z.h(this.Xb,b.Xb)&&$APP.z.h(this.$b,b.$b)&&$APP.z.h(this.Vb,b.Vb)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,12,[C_,null,x_,null,B_,null,z_,null,$APP.pp,null,$APP.Q,null,$APP.hs,null,A_,null,F_,null,E_,null,D_,null,y_,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.hs,b):$APP.Bg.call(null,$APP.hs,b))?new w_(c,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.pp,b):$APP.Bg.call(null,$APP.pp,b))?new w_(this.as,c,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(x_,b):$APP.Bg.call(null,x_,b))?new w_(this.as,this.tc,c,this.name,
this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.Q,b):$APP.Bg.call(null,$APP.Q,b))?new w_(this.as,this.tc,this.nb,c,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,b):$APP.Bg.call(null,y_,b))?new w_(this.as,this.tc,this.nb,this.name,c,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(z_,b):$APP.Bg.call(null,
z_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,c,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(A_,b):$APP.Bg.call(null,A_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,c,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(B_,b):$APP.Bg.call(null,B_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,c,this.pb,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?
$APP.Bg.h(C_,b):$APP.Bg.call(null,C_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,c,this.Xb,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(D_,b):$APP.Bg.call(null,D_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,c,this.$b,this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(E_,b):$APP.Bg.call(null,E_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,c,
this.Vb,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(F_,b):$APP.Bg.call(null,F_,b))?new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,c,this.B,this.o,null):new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,12,5,$APP.I,[new $APP.df($APP.hs,this.as,null),new $APP.df($APP.pp,this.tc,null),new $APP.df(x_,this.nb,null),new $APP.df($APP.Q,this.name,null),new $APP.df(y_,this.pattern,null),new $APP.df(z_,this.Zb,null),new $APP.df(A_,this.ya,null),new $APP.df(B_,this.dc,null),new $APP.df(C_,this.pb,null),new $APP.df(D_,this.Xb,null),new $APP.df(E_,this.$b,null),new $APP.df(F_,this.Vb,null)],null),this.o))};
$APP.g.X=function(a,b){return new w_(this.as,this.tc,this.nb,this.name,this.pattern,this.Zb,this.ya,this.dc,this.pb,this.Xb,this.$b,this.Vb,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g=G_.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.pa;case "first-attr":return this.Wc;case "last-attr":return this.fd;case "reverse-attrs":return this.Pc;case "wildcard?":return this.ic;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[H_,this.pa],null),new $APP.H(null,2,5,$APP.I,[I_,this.Wc],null),new $APP.H(null,2,5,$APP.I,[J_,this.fd],null),new $APP.H(null,2,5,$APP.I,[K_,this.Pc],null),new $APP.H(null,2,5,$APP.I,[L_,this.ic],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,5,new $APP.H(null,5,5,$APP.I,[H_,I_,J_,K_,L_],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new G_(this.pa,this.Wc,this.fd,this.Pc,this.ic,this.B,this.o,this.D)};$APP.g.ba=function(){return 5+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-795554044^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.pa,b.pa)&&$APP.z.h(this.Wc,b.Wc)&&$APP.z.h(this.fd,b.fd)&&$APP.z.h(this.Pc,b.Pc)&&$APP.z.h(this.ic,b.ic)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,5,[K_,null,I_,null,H_,null,L_,null,J_,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new G_(this.pa,this.Wc,this.fd,this.Pc,this.ic,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(H_,b):$APP.Bg.call(null,H_,b))?new G_(c,this.Wc,this.fd,this.Pc,this.ic,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(I_,b):$APP.Bg.call(null,I_,b))?new G_(this.pa,c,this.fd,this.Pc,this.ic,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(J_,b):$APP.Bg.call(null,J_,b))?new G_(this.pa,this.Wc,c,this.Pc,this.ic,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(K_,b):$APP.Bg.call(null,K_,b))?new G_(this.pa,this.Wc,this.fd,c,this.ic,this.B,this.o,
null):$APP.k($APP.Bg.h?$APP.Bg.h(L_,b):$APP.Bg.call(null,L_,b))?new G_(this.pa,this.Wc,this.fd,this.Pc,c,this.B,this.o,null):new G_(this.pa,this.Wc,this.fd,this.Pc,this.ic,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.df(H_,this.pa,null),new $APP.df(I_,this.Wc,null),new $APP.df(J_,this.fd,null),new $APP.df(K_,this.Pc,null),new $APP.df(L_,this.ic,null)],null),this.o))};
$APP.g.X=function(a,b){return new G_(this.pa,this.Wc,this.fd,this.Pc,this.ic,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};var ZLa=RLa(new $APP.h(null,3,[$APP.Q,ZZ,$APP.hs,ZZ,C_,$APP.uf],null)),P_=M_(new $APP.h(null,1,[H_,new $APP.F(null,ZLa,null,1,null)],null)),TLa=$APP.K.j(P_,L_,!0);$APP.g=X_.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db":return this.db;case "visitor":return this.fe;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[b3,this.db],null),new $APP.H(null,2,5,$APP.I,[j0,this.fe],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[b3,j0],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new X_(this.db,this.fe,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1727735959^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.db,b.db)&&$APP.z.h(this.fe,b.fe)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[b3,null,j0,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new X_(this.db,this.fe,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db":case "visitor":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(b3,b):$APP.Bg.call(null,b3,b))?new X_(c,this.fe,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(j0,b):$APP.Bg.call(null,j0,b))?new X_(this.db,c,this.B,this.o,null):new X_(this.db,this.fe,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df(b3,this.db,null),new $APP.df(j0,this.fe,null)],null),this.o))};$APP.g.X=function(a,b){return new X_(this.db,this.fe,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g=a0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;case "datoms":return this.ua;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.jI,this.value],null),new $APP.H(null,2,5,$APP.I,[$APP.sZ,this.ua],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.jI,$APP.sZ],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new a0(this.value,this.ua,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=836381841^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.value,b.value)&&$APP.z.h(this.ua,b.ua)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.jI,null,$APP.sZ,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new a0(this.value,this.ua,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.jI,b):$APP.Bg.call(null,$APP.jI,b))?new a0(c,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sZ,b):$APP.Bg.call(null,$APP.sZ,b))?new a0(this.value,c,this.B,this.o,null):new a0(this.value,this.ua,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.jI,this.value,null),new $APP.df($APP.sZ,this.ua,null)],null),this.o))};
$APP.g.X=function(a,b){return new a0(this.value,this.ua,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g=b0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "acc":return this.ka;case "attr":return this.ga;case "datoms":return this.ua;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[N2,this.ka],null),new $APP.H(null,2,5,$APP.I,[X2,this.ga],null),new $APP.H(null,2,5,$APP.I,[$APP.sZ,this.ua],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[N2,X2,$APP.sZ],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new b0(this.ka,this.ga,this.ua,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1829867699^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ka,b.ka)&&$APP.z.h(this.ga,b.ga)&&$APP.z.h(this.ua,b.ua)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[N2,null,$APP.sZ,null,X2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new b0(this.ka,this.ga,this.ua,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(N2,b):$APP.Bg.call(null,N2,b))?new b0(c,this.ga,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(X2,b):$APP.Bg.call(null,X2,b))?new b0(this.ka,c,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sZ,b):$APP.Bg.call(null,$APP.sZ,b))?new b0(this.ka,this.ga,c,this.B,this.o,null):new b0(this.ka,this.ga,this.ua,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df(N2,this.ka,null),new $APP.df(X2,this.ga,null),new $APP.df($APP.sZ,this.ua,null)],null),this.o))};$APP.g.X=function(a,b){return new b0(this.ka,this.ga,this.ua,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};
$APP.g.Nf=function(){for(var a=this,b=a.ka,c=a.ua;;){var d=U_(c);if(null==d||$APP.ak.h(d.a,a.ga.name))return new $APP.H(null,1,5,$APP.I,[new a0(function(){var l=$APP.jh($APP.Uc(b)),m=a.ga.pb;return m.g?m.g(l):m.call(null,l)}(),function(){var l=c;return $APP.k(l)?l:$APP.Ed}(),null,null,null)],null);if($APP.k(function(){var l=a.ga.nb;return $APP.k(l)?$APP.fe(b)>=a.ga.nb:l}()))for(var e=c;;){d=U_(e);if(null==d||$APP.ak.h(d.a,a.ga.name))return new $APP.H(null,1,5,$APP.I,[new a0($APP.Uc(b),function(){var l=
e;return $APP.k(l)?l:$APP.Ed}(),null,null,null)],null);e=V_(e)}else{d=$APP.hi.h(b,d.v);var f=V_(c);b=d;c=f}}};$APP.g=c0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "datoms":return this.ua;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.N.h(new $APP.H(null,6,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I2,this.qa],null),new $APP.H(null,2,5,$APP.I,[$2,this.va],null),new $APP.H(null,2,5,$APP.I,[N2,this.ka],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X2,this.ga],null),new $APP.H(null,2,5,$APP.I,[$APP.sZ,this.ua],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,6,new $APP.H(null,6,5,$APP.I,[I2,$2,N2,y_,X2,$APP.sZ],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new c0(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,this.D)};$APP.g.ba=function(){return 6+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1769511936^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.ka,b.ka)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ga,b.ga)&&$APP.z.h(this.ua,b.ua)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,6,[N2,null,I2,null,$2,null,$APP.sZ,null,y_,null,X2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new c0(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(I2,b):$APP.Bg.call(null,I2,b))?new c0(c,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($2,b):$APP.Bg.call(null,$2,b))?new c0(this.qa,c,this.ka,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(N2,b):$APP.Bg.call(null,N2,b))?new c0(this.qa,this.va,c,this.pattern,this.ga,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,b):$APP.Bg.call(null,y_,b))?new c0(this.qa,
this.va,this.ka,c,this.ga,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(X2,b):$APP.Bg.call(null,X2,b))?new c0(this.qa,this.va,this.ka,this.pattern,c,this.ua,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sZ,b):$APP.Bg.call(null,$APP.sZ,b))?new c0(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.B,this.o,null):new c0(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,6,5,$APP.I,[new $APP.df(I2,this.qa,null),new $APP.df($2,this.va,null),new $APP.df(N2,this.ka,null),new $APP.df(y_,this.pattern,null),new $APP.df(X2,this.ga,null),new $APP.df($APP.sZ,this.ua,null)],null),this.o))};$APP.g.X=function(a,b){return new c0(this.qa,this.va,this.ka,this.pattern,this.ga,this.ua,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};
$APP.g.Gg=function(a,b){a=this.qa;var c=this.va,d=this.ka;b=b.value;b=null==b?d:$APP.hi.h(d,b);return new c0(a,c,b,this.pattern,this.ga,V_(this.ua),null,null,null)};
$APP.g.Nf=function(a,b){var c=this;a=U_(c.ua);if(null==a||$APP.ak.h(a.a,c.ga.name))return new $APP.H(null,1,5,$APP.I,[new a0(function(){var e=$APP.jh($APP.Uc(c.ka)),f=c.ga.pb;return f.g?f.g(e):f.call(null,e)}(),function(){var e=c.ua;return $APP.k(e)?e:$APP.Ed}(),null,null,null)],null);if($APP.k(function(){var e=c.ga.nb;return $APP.k(e)?$APP.fe(c.ka)>=c.ga.nb:e}()))for(var d=c.ua;;){b=U_(d);if(null==b||$APP.ak.h(b.a,c.ga.name))return new $APP.H(null,1,5,$APP.I,[new a0($APP.Uc(c.ka),function(){var e=
d;return $APP.k(e)?e:$APP.Ed}(),null,null,null)],null);d=V_(d)}else return a=$APP.k(c.ga.dc)?a.e:a.v,new $APP.H(null,2,5,$APP.I,[this,h0.xa?h0.xa(b,c.qa,c.va,c.pattern,c.ga,a):h0.call(null,b,c.qa,c.va,c.pattern,c.ga,a)],null)};$APP.g=d0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.pa;case "datoms":return this.ua;case "id":return this.id;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.N.h(new $APP.H(null,8,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I2,this.qa],null),new $APP.H(null,2,5,$APP.I,[$2,this.va],null),new $APP.H(null,2,5,$APP.I,[N2,this.ka],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X2,this.ga],null),new $APP.H(null,2,5,$APP.I,[H_,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.sZ,this.ua],
null),new $APP.H(null,2,5,$APP.I,[$APP.Cs,this.id],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,8,new $APP.H(null,8,5,$APP.I,[I2,$2,N2,y_,X2,H_,$APP.sZ,$APP.Cs],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new d0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,this.o,this.D)};$APP.g.ba=function(){return 8+$APP.fe(this.o)};
$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1127179791^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.ka,b.ka)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ga,b.ga)&&$APP.z.h(this.pa,b.pa)&&$APP.z.h(this.ua,b.ua)&&$APP.z.h(this.id,b.id)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,8,[N2,null,I2,null,$APP.Cs,null,$2,null,H_,null,$APP.sZ,null,y_,null,X2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new d0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(I2,b):$APP.Bg.call(null,I2,b))?new d0(c,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($2,b):$APP.Bg.call(null,$2,b))?new d0(this.qa,c,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(N2,b):$APP.Bg.call(null,N2,b))?new d0(this.qa,this.va,c,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,
b):$APP.Bg.call(null,y_,b))?new d0(this.qa,this.va,this.ka,c,this.ga,this.pa,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(X2,b):$APP.Bg.call(null,X2,b))?new d0(this.qa,this.va,this.ka,this.pattern,c,this.pa,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(H_,b):$APP.Bg.call(null,H_,b))?new d0(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.ua,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sZ,b):$APP.Bg.call(null,$APP.sZ,b))?new d0(this.qa,this.va,this.ka,
this.pattern,this.ga,this.pa,c,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.Cs,b):$APP.Bg.call(null,$APP.Cs,b))?new d0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,c,this.B,this.o,null):new d0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,8,5,$APP.I,[new $APP.df(I2,this.qa,null),new $APP.df($2,this.va,null),new $APP.df(N2,this.ka,null),new $APP.df(y_,this.pattern,null),new $APP.df(X2,this.ga,null),new $APP.df(H_,this.pa,null),new $APP.df($APP.sZ,this.ua,null),new $APP.df($APP.Cs,this.id,null)],null),this.o))};$APP.g.X=function(a,b){return new d0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.ua,this.id,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.Gg=function(a,b){a=this.qa;var c=this.va;var d=this.ka;var e=b.value;d=null==e?d:$APP.dj.j(d,this.ga.as,e);e=this.pattern;var f=U_(this.pa),l=V_(this.pa);b=b.ua;b=$APP.k(b)?b:V_(this.ua);return new d0(a,c,d,e,f,l,$APP.jh(b),this.id,null,null,null)};
$APP.g.Nf=function(a,b){var c=this,d=c.ka,e=c.ga;a=c.pa;for(var f=c.ua;;){if(null==f&&null==e)return new $APP.H(null,1,5,$APP.I,[function(){var t=c.qa,J=c.va,O=d,U=c.pattern,Z=U_(c.pattern.Pc),oa=V_(c.pattern.Pc),qa=c.id;return f0.Ja?f0.Ja(t,J,O,U,Z,oa,qa):f0.call(null,t,J,O,U,Z,oa,qa)}()],null);if(null!=e&&$APP.z.h(ZZ,e.name)){var l=$APP.dj.j(d,e.as,function(){var t=e.pb;return t.g?t.g(c.id):t.call(null,c.id)}()),m=U_(a);a=V_(a);d=l;e=m}else{var q=U_(f),A=$APP.k(function(){var t=q;return $APP.k(t)?
e:t}())?$APP.ff(e.name,q.a):null,x=function(){var t=null==e;if(t)return t;t=A;return $APP.k(t)?0<A:t}(),C=function(){var t=null==q;if(t)return t;t=A;return $APP.k(t)?0>A:t}();if($APP.k(function(){var t=c.pattern.ic;return $APP.k(t)?(t=null!=q)?x:t:t}()))m=nX($Ka(b.db).nc,q.a,function(t,J,O,U,Z){return function(){return ULa(b.db,Z.a)}}(d,e,a,f,q,A,x,C,this)),l=d,a=$APP.k(e)?W_(a,e):null,d=l,e=m;else if($APP.k(x))l=d,m=e,f=V_(f),d=l,e=m;else if(Y_(b,RNa,c.id,e.name,null),$APP.k(function(){var t=C;return $APP.k(t)?
null==e:t}()))l=d,m=U_(a),a=V_(a),d=l,e=m;else if($APP.k(function(){var t=C;return $APP.k(t)?null!=$APP.pp.g(e):t}()))l=$APP.dj.j(d,e.as,$APP.pp.g(e)),m=U_(a),a=V_(a),d=l,e=m;else if($APP.k(C))l=function(){var t=e.pb;return t.g?t.g(null):t.call(null,null)}(),null==l?(l=d,m=U_(a),a=V_(a),d=l,e=m):(l=$APP.dj.j(d,e.as,l),m=U_(a),a=V_(a),d=l,e=m);else{if($APP.k(function(){var t=e.Xb;return $APP.k(t)?e.$b:t}()))return new $APP.H(null,2,5,$APP.I,[new d0(c.qa,c.va,d,c.pattern,e,a,f,c.id,null,null,null),
new c0(c.qa,c.va,$APP.Sc($APP.ii),c.pattern,e,f,null,null,null)],null);if($APP.k(e.Xb))return new $APP.H(null,2,5,$APP.I,[new d0(c.qa,c.va,d,c.pattern,e,a,f,c.id,null,null,null),new b0($APP.Sc($APP.ii),e,f,null,null,null)],null);if($APP.k(e.$b))return new $APP.H(null,2,5,$APP.I,[new d0(c.qa,c.va,d,c.pattern,e,a,f,c.id,null,null,null),function(){var t=c.qa,J=c.va,O=c.pattern,U=e,Z=q.v;return h0.xa?h0.xa(b,t,J,O,U,Z):h0.call(null,b,t,J,O,U,Z)}()],null);l=$APP.dj.j(d,e.as,function(){var t=q.v,J=e.pb;
return J.g?J.g(t):J.call(null,t)}());m=U_(a);a=V_(a);f=V_(f);d=l;e=m}}}};$APP.g=e0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.va;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.pa;case "id":return this.id;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.N.h(new $APP.H(null,7,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[I2,this.qa],null),new $APP.H(null,2,5,$APP.I,[$2,this.va],null),new $APP.H(null,2,5,$APP.I,[N2,this.ka],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null),new $APP.H(null,2,5,$APP.I,[X2,this.ga],null),new $APP.H(null,2,5,$APP.I,[H_,this.pa],null),new $APP.H(null,2,5,$APP.I,[$APP.Cs,
this.id],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,7,new $APP.H(null,7,5,$APP.I,[I2,$2,N2,y_,X2,H_,$APP.Cs],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new e0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.id,this.B,this.o,this.D)};$APP.g.ba=function(){return 7+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=470210558^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.qa,b.qa)&&$APP.z.h(this.va,b.va)&&$APP.z.h(this.ka,b.ka)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.ga,b.ga)&&$APP.z.h(this.pa,b.pa)&&$APP.z.h(this.id,b.id)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,7,[N2,null,I2,null,$APP.Cs,null,$2,null,H_,null,y_,null,X2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new e0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.id,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(I2,b):$APP.Bg.call(null,I2,b))?new e0(c,this.va,this.ka,this.pattern,this.ga,this.pa,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($2,b):$APP.Bg.call(null,$2,b))?new e0(this.qa,c,this.ka,this.pattern,this.ga,this.pa,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(N2,b):$APP.Bg.call(null,N2,b))?new e0(this.qa,this.va,c,this.pattern,this.ga,this.pa,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,b):$APP.Bg.call(null,
y_,b))?new e0(this.qa,this.va,this.ka,c,this.ga,this.pa,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(X2,b):$APP.Bg.call(null,X2,b))?new e0(this.qa,this.va,this.ka,this.pattern,c,this.pa,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(H_,b):$APP.Bg.call(null,H_,b))?new e0(this.qa,this.va,this.ka,this.pattern,this.ga,c,this.id,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.Cs,b):$APP.Bg.call(null,$APP.Cs,b))?new e0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,c,this.B,
this.o,null):new e0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.id,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,7,5,$APP.I,[new $APP.df(I2,this.qa,null),new $APP.df($2,this.va,null),new $APP.df(N2,this.ka,null),new $APP.df(y_,this.pattern,null),new $APP.df(X2,this.ga,null),new $APP.df(H_,this.pa,null),new $APP.df($APP.Cs,this.id,null)],null),this.o))};
$APP.g.X=function(a,b){return new e0(this.qa,this.va,this.ka,this.pattern,this.ga,this.pa,this.id,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.Gg=function(a,b){a=this.qa;var c=this.va,d=this.ka;b=b.value;b=null==b?d:$APP.dj.j(d,this.ga.as,b);return new e0(a,c,b,this.pattern,U_(this.pa),V_(this.pa),this.id,null,null,null)};
$APP.g.Nf=function(a,b){var c=this.ka;a=this.ga;for(var d=this.pa;;){if(null==a)return new $APP.H(null,1,5,$APP.I,[new a0($APP.jh($APP.Uc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.MY?YX(f.ac,nY.I(0,e,this.id,536870912),nY.I(2147483647,e,this.id,2147483647)):BY(f,new $APP.H(null,3,5,$APP.I,[null,e,this.id],null));Y_(b,TOa,null,e,this.id);if($APP.ze(f)&&null!=$APP.pp.g(a))c=$APP.dj.j(c,a.as,$APP.pp.g(a)),a=U_(d),d=e=V_(d);else if($APP.ze(f))a=U_(d),d=e=V_(d);else{if($APP.k(a.Vb)){e=
$APP.I;c=new e0(this.qa,this.va,c,this.pattern,a,d,this.id,null,null,null);d=this.qa;var l=this.va,m=this.pattern;f=U_(f).e;b=h0.xa?h0.xa(b,d,l,m,a,f):h0.call(null,b,d,l,m,a,f);b=new $APP.H(null,2,5,e,[c,b],null)}else b=new $APP.H(null,2,5,$APP.I,[new e0(this.qa,this.va,c,this.pattern,a,d,this.id,null,null,null),new c0(this.qa,this.va,$APP.Sc($APP.ii),this.pattern,a,f,null,null,null)],null);return b}}};
var p3=function p3(a){switch(arguments.length){case 3:return p3.j(arguments[0],arguments[1],arguments[2]);case 4:return p3.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};p3.j=function(a,b,c){return p3.I(a,b,c,$APP.hh)};p3.I=function(a,b,c,d){a=k0(a,b,d);return i0(a,c)};p3.C=4;
var q3=function q3(a){switch(arguments.length){case 3:return q3.j(arguments[0],arguments[1],arguments[2]);case 4:return q3.I(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};q3.j=function(a,b,c){return q3.I(a,b,c,$APP.hh)};q3.I=function(a,b,c,d){var e=k0(a,b,d);return $APP.et.h(function(f){return i0(e,f)},c)};q3.C=4;var r3=function r3(a){switch(arguments.length){case 1:return r3.g(arguments[0]);case 2:return r3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};r3.g=function(a){return gMa(a,$APP.hh)};r3.h=function(a,b){return gMa(a,b)};r3.C=2;var s3=function s3(a){switch(arguments.length){case 1:return s3.g(arguments[0]);case 2:return s3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
s3.g=function(a){return s3.h(a,$APP.hh)};
s3.h=function(a,b){b=$APP.ih(b);var c=$APP.af.j(b,MOa,$APP.NO);b=$APP.af.j(b,AOa,dMa);var d=m0(a,"tx0"),e=function(){var A=m0(a,"schema");return c.g?c.g(A):c.call(null,A)}();(function(){var A=new $APP.zd(function(){return nZ},mOa,$APP.Ij([$APP.nx,$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[!0,$APP.DE,YNa,"datascript/db.cljc",23,1,726,726,$APP.M(new $APP.H(null,1,5,$APP.I,[P2],null)),null,$APP.k(nZ)?nZ.A:null]));return A.g?A.g(e):A.call(null,e)})();var f=$APP.et.h(b,
m0(a,"attrs")),l=$APP.et.h(b,m0(a,"keywords")),m=n0(function(A){var x=l0(A,0),C=$APP.B.h(f,l0(A,1)),t=l0(A,2);if("number"===typeof t)var J=t;else if("string"===typeof t)J=t;else if($APP.Oe(t))J=t;else if($APP.ib(t)||$APP.He(t))J=function(){var O=l0(t,0);if($APP.k($APP.mn.h?$APP.mn.h(0,O):$APP.mn.call(null,0,O)))return $APP.B.h(l,l0(t,1));if($APP.k($APP.mn.h?$APP.mn.h(1,O):$APP.mn.call(null,1,O)))return O=l0(t,1),c.g?c.g(O):c.call(null,O);if($APP.k($APP.mn.h?$APP.mn.h(2,O):$APP.mn.call(null,2,O)))return Infinity;
if($APP.k($APP.mn.h?$APP.mn.h(3,O):$APP.mn.call(null,3,O)))return-Infinity;if($APP.k($APP.mn.h?$APP.mn.h(4,O):$APP.mn.call(null,4,O)))return NaN;throw $APP.po.h(["Unexpected value marker ",$APP.pl.l($APP.D([O]))," in ",$APP.pl.l($APP.D([$APP.pl.l($APP.D([t]))]))].join(""),new $APP.h(null,2,[$APP.lN,$Na,$APP.jI,t],null));}();else throw $APP.po.h(["Unexpected value type ",$APP.pl.l($APP.D([$APP.ub(t)]))," (",$APP.pl.l($APP.D([$APP.pl.l($APP.D([t]))])),")"].join(""),new $APP.h(null,2,[$APP.lN,$Na,$APP.jI,
t],null));A=d+l0(A,3);return nY.I(x,C,J,A)},m0(a,"eavt"));b=function(){var A=m0(a,"aevt");return null==A?null:n0(function(x){return m[x]},A)}();var q=function(){var A=m0(a,"avet");return null==A?null:n0(function(x){return m[x]},A)}();return WY($APP.Ij([$APP.NY,RY,VY,PY,GY,QY,$APP.OY,UY,TY,SY],[e,m0(a,"max-tx"),$APP.tl.g(0),ZX(uY,b),ZX(vY,q),m0(a,"max-eid"),ZX(tY,m),pX(),pX(),function(){var A=$APP.eo.l($APP.D([new $APP.h(null,1,[LZ,new $APP.h(null,1,[YY,ZY],null)],null),e])),x=new $APP.zd(function(){return hZ},
jOa,$APP.Ij([$APP.nx,$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[!0,$APP.DE,fPa,"datascript/db.cljc",15,1,694,694,$APP.M(new $APP.H(null,1,5,$APP.I,[P2],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
$APP.k(hZ)?hZ.A:null]));return x.g?x.g(A):x.call(null,A)}()]))};s3.C=2;$APP.g=z0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){return $APP.af.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.N.h($APP.ii,this.o))};
$APP.g.ha=function(){return new $APP.Si(this,0,$APP.ii,$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new z0(this.B,this.o,this.D)};$APP.g.ba=function(){return 0+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-528488587^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf($APP.ek,b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new z0(this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){return $APP.cf(this.o,b)};$APP.g.U=function(a,b,c){return new z0(this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h($APP.ii,this.o))};$APP.g.X=function(a,b){return new z0(b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};
$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return c};$APP.g.mb=function(a,b){return b};$APP.g=A0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ia;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ep,this.Ia],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.ep],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new A0(this.Ia,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=736891289^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ia,b.Ia)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.ep,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new A0(this.Ia,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.ep,b):$APP.Bg.call(null,$APP.ep,b))?new A0(c,this.B,this.o,null):new A0(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.ep,this.Ia,null)],null),this.o))};$APP.g.X=function(a,b){return new A0(this.Ia,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ia,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.Ia):w1.call(null,b,this.Ia)};$APP.g=B0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ia;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ep,this.Ia],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.ep],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new B0(this.Ia,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1648766309^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ia,b.Ia)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.ep,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new B0(this.Ia,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.ep,b):$APP.Bg.call(null,$APP.ep,b))?new B0(c,this.B,this.o,null):new B0(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.ep,this.Ia,null)],null),this.o))};$APP.g.X=function(a,b){return new B0(this.Ia,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;
$APP.g.lb=function(a,b,c){return u0(b,this.Ia,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.Ia):w1.call(null,b,this.Ia)};$APP.g=C0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){return $APP.af.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.N.h($APP.ii,this.o))};$APP.g.ha=function(){return new $APP.Si(this,0,$APP.ii,$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new C0(this.B,this.o,this.D)};$APP.g.ba=function(){return 0+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-350962559^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf($APP.ek,b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new C0(this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){return $APP.cf(this.o,b)};$APP.g.U=function(a,b,c){return new C0(this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h($APP.ii,this.o))};$APP.g.X=function(a,b){return new C0(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return c};$APP.g.mb=function(a,b){return b};$APP.g=D0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){return $APP.af.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.N.h($APP.ii,this.o))};$APP.g.ha=function(){return new $APP.Si(this,0,$APP.ii,$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new D0(this.B,this.o,this.D)};$APP.g.ba=function(){return 0+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1504050517^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf($APP.ek,b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new D0(this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){return $APP.cf(this.o,b)};$APP.g.U=function(a,b,c){return new D0(this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h($APP.ii,this.o))};$APP.g.X=function(a,b){return new D0(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return c};$APP.g.mb=function(a,b){return b};$APP.g=E0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.jI,this.value],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.jI],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new E0(this.value,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-812884714^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.value,b.value)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.jI,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new E0(this.value,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.jI,b):$APP.Bg.call(null,$APP.jI,b))?new E0(c,this.B,this.o,null):new E0(this.value,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.jI,this.value,null)],null),this.o))};$APP.g.X=function(a,b){return new E0(this.value,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;
$APP.g.lb=function(a,b,c){return u0(b,this.value,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.value):w1.call(null,b,this.value)};$APP.g=F0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ia;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ep,this.Ia],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.ep],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new F0(this.Ia,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1509921913^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ia,b.Ia)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.ep,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new F0(this.Ia,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.ep,b):$APP.Bg.call(null,$APP.ep,b))?new F0(c,this.B,this.o,null):new F0(this.Ia,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.ep,this.Ia,null)],null),this.o))};$APP.g.X=function(a,b){return new F0(this.Ia,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ia,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.Ia):w1.call(null,b,this.Ia)};$APP.g=L0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "required":return this.required;case "free":return this.Ed;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.yM,this.required],null),new $APP.H(null,2,5,$APP.I,[N0,this.Ed],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.yM,N0],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new L0(this.required,this.Ed,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=892963297^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.required,b.required)&&$APP.z.h(this.Ed,b.Ed)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[N0,null,$APP.yM,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new L0(this.required,this.Ed,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "required":case "free":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.yM,b):$APP.Bg.call(null,$APP.yM,b))?new L0(c,this.Ed,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(N0,b):$APP.Bg.call(null,N0,b))?new L0(this.required,c,this.B,this.o,null):new L0(this.required,this.Ed,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.yM,this.required,null),new $APP.df(N0,this.Ed,null)],null),this.o))};$APP.g.X=function(a,b){return new L0(this.required,this.Ed,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ed,u0(b,this.required,c))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.required):w1.call(null,b,this.required);b=this.Ed;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=Q0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){return $APP.af.j(this.o,b,c)};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.N.h($APP.ii,this.o))};$APP.g.ha=function(){return new $APP.Si(this,0,$APP.ii,$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new Q0(this.B,this.o,this.D)};$APP.g.ba=function(){return 0+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-890522983^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf($APP.ek,b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new Q0(this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){return $APP.cf(this.o,b)};$APP.g.U=function(a,b,c){return new Q0(this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h($APP.ii,this.o))};$APP.g.X=function(a,b){return new Q0(b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return c};$APP.g.mb=function(a,b){return b};$APP.g=R0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "variable":return this.Hb;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W1,this.Hb],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[W1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new R0(this.Hb,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1522792445^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Hb,b.Hb)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[W1,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new R0(this.Hb,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "variable":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(W1,b):$APP.Bg.call(null,W1,b))?new R0(c,this.B,this.o,null):new R0(this.Hb,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(W1,this.Hb,null)],null),this.o))};$APP.g.X=function(a,b){return new R0(this.Hb,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Hb,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.Hb):w1.call(null,b,this.Hb)};$APP.g=S0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "bindings":return this.kc;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.As,this.kc],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.As],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new S0(this.kc,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1637239347^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.kc,b.kc)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.As,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new S0(this.kc,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "bindings":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.As,b):$APP.Bg.call(null,$APP.As,b))?new S0(c,this.B,this.o,null):new S0(this.kc,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.As,this.kc,null)],null),this.o))};$APP.g.X=function(a,b){return new S0(this.kc,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.kc,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.kc):w1.call(null,b,this.kc)};$APP.g=T0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "binding":return this.binding;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[W2,this.binding],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[W2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new T0(this.binding,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1930368089^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.binding,b.binding)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[W2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new T0(this.binding,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "binding":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(W2,b):$APP.Bg.call(null,W2,b))?new T0(c,this.B,this.o,null):new T0(this.binding,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(W2,this.binding,null)],null),this.o))};$APP.g.X=function(a,b){return new T0(this.binding,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;
$APP.g.lb=function(a,b,c){return u0(b,this.binding,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.binding):w1.call(null,b,this.binding)};A0.prototype.Fg=function(){return new $APP.H(null,1,5,$APP.I,[this.Ia],null)};$APP.g=X0.prototype;$APP.g.Fg=function(){return W0($APP.pe(this.wa))};$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.wa;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Lq,this.ia],null),new $APP.H(null,2,5,$APP.I,[$APP.sO,this.wa],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Lq,$APP.sO],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new X0(this.ia,this.wa,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-91097383^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.sO,null,$APP.Lq,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new X0(this.ia,this.wa,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.Lq,b):$APP.Bg.call(null,$APP.Lq,b))?new X0(c,this.wa,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sO,b):$APP.Bg.call(null,$APP.sO,b))?new X0(this.ia,c,this.B,this.o,null):new X0(this.ia,this.wa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.Lq,this.ia,null),new $APP.df($APP.sO,this.wa,null)],null),this.o))};$APP.g.X=function(a,b){return new X0(this.ia,this.wa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.wa,u0(b,this.ia,c))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.ia):w1.call(null,b,this.ia);b=this.wa;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=Y0.prototype;$APP.g.Fg=function(){return W0(this.Hb)};$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "variable":return this.Hb;case "pattern":return this.pattern;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.co,this.source],null),new $APP.H(null,2,5,$APP.I,[W1,this.Hb],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[$APP.co,W1,y_],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new Y0(this.source,this.Hb,this.pattern,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2108867663^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.Hb,b.Hb)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[W1,null,$APP.co,null,y_,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new Y0(this.source,this.Hb,this.pattern,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "variable":case "pattern":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.co,b):$APP.Bg.call(null,$APP.co,b))?new Y0(c,this.Hb,this.pattern,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(W1,b):$APP.Bg.call(null,W1,b))?new Y0(this.source,c,this.pattern,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,b):$APP.Bg.call(null,y_,b))?new Y0(this.source,this.Hb,c,this.B,this.o,null):new Y0(this.source,this.Hb,this.pattern,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df($APP.co,this.source,null),new $APP.df(W1,this.Hb,null),new $APP.df(y_,this.pattern,null)],null),this.o))};$APP.g.X=function(a,b){return new Y0(this.source,this.Hb,this.pattern,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.pattern,u0(b,this.Hb,u0(b,this.source,c)))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.source):w1.call(null,b,this.source);b=this.Hb;a=w1.h?w1.h(a,b):w1.call(null,a,b);b=this.pattern;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=$0.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[V2,this.elements],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[V2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new $0(this.elements,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=744809563^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.elements,b.elements)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[V2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new $0(this.elements,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.Mf=function(){return this.elements};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(V2,b):$APP.Bg.call(null,V2,b))?new $0(c,this.B,this.o,null):new $0(this.elements,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(V2,this.elements,null)],null),this.o))};$APP.g.X=function(a,b){return new $0(this.elements,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;
$APP.g.lb=function(a,b,c){return u0(b,this.elements,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.elements):w1.call(null,b,this.elements)};$APP.g=a1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[a3,this.element],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[a3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new a1(this.element,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=124241361^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.element,b.element)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[a3,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new a1(this.element,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.Mf=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(a3,b):$APP.Bg.call(null,a3,b))?new a1(c,this.B,this.o,null):new a1(this.element,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(a3,this.element,null)],null),this.o))};
$APP.g.X=function(a,b){return new a1(this.element,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.element,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.element):w1.call(null,b,this.element)};$APP.g=b1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[a3,this.element],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[a3],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new b1(this.element,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-661542332^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.element,b.element)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[a3,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new b1(this.element,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.Mf=function(){return new $APP.H(null,1,5,$APP.I,[this.element],null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(a3,b):$APP.Bg.call(null,a3,b))?new b1(c,this.B,this.o,null):new b1(this.element,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(a3,this.element,null)],null),this.o))};
$APP.g.X=function(a,b){return new b1(this.element,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.element,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.element):w1.call(null,b,this.element)};$APP.g=c1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[V2,this.elements],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[V2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new c1(this.elements,this.B,this.o,this.D)};
$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=681530371^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.elements,b.elements)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[V2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new c1(this.elements,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.Mf=function(){return this.elements};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(V2,b):$APP.Bg.call(null,V2,b))?new c1(c,this.B,this.o,null):new c1(this.elements,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df(V2,this.elements,null)],null),this.o))};$APP.g.X=function(a,b){return new c1(this.elements,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.elements,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.elements):w1.call(null,b,this.elements)};$APP.g=j1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "type":return this.type;case "symbols":return this.Jd;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.ko,this.type],null),new $APP.H(null,2,5,$APP.I,[K1,this.Jd],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.ko,K1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new j1(this.type,this.Jd,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2025547471^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.type,b.type)&&$APP.z.h(this.Jd,b.Jd)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.ko,null,K1,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new j1(this.type,this.Jd,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "type":case "symbols":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.ko,b):$APP.Bg.call(null,$APP.ko,b))?new j1(c,this.Jd,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(K1,b):$APP.Bg.call(null,K1,b))?new j1(this.type,c,this.B,this.o,null):new j1(this.type,this.Jd,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.ko,this.type,null),new $APP.df(K1,this.Jd,null)],null),this.o))};$APP.g.X=function(a,b){return new j1(this.type,this.Jd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Jd,u0(b,this.type,c))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.type):w1.call(null,b,this.type);b=this.Jd;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=l1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.co,this.source],null),new $APP.H(null,2,5,$APP.I,[y_,this.pattern],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.co,y_],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new l1(this.source,this.pattern,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=575220587^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.pattern,b.pattern)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.co,null,y_,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new l1(this.source,this.pattern,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "pattern":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.co,b):$APP.Bg.call(null,$APP.co,b))?new l1(c,this.pattern,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(y_,b):$APP.Bg.call(null,y_,b))?new l1(this.source,c,this.B,this.o,null):new l1(this.source,this.pattern,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.co,this.source,null),new $APP.df(y_,this.pattern,null)],null),this.o))};$APP.g.X=function(a,b){return new l1(this.source,this.pattern,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.pattern,u0(b,this.source,c))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.source):w1.call(null,b,this.source);b=this.pattern;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=m1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.wa;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Lq,this.ia],null),new $APP.H(null,2,5,$APP.I,[$APP.sO,this.wa],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Lq,$APP.sO],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new m1(this.ia,this.wa,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1523376880^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.sO,null,$APP.Lq,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new m1(this.ia,this.wa,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.cf(this.o,b)}};$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.Lq,b):$APP.Bg.call(null,$APP.Lq,b))?new m1(c,this.wa,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sO,b):$APP.Bg.call(null,$APP.sO,b))?new m1(this.ia,c,this.B,this.o,null):new m1(this.ia,this.wa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.Lq,this.ia,null),new $APP.df($APP.sO,this.wa,null)],null),this.o))};$APP.g.X=function(a,b){return new m1(this.ia,this.wa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.wa,u0(b,this.ia,c))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.ia):w1.call(null,b,this.ia);b=this.wa;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=n1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.wa;case "binding":return this.binding;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Lq,this.ia],null),new $APP.H(null,2,5,$APP.I,[$APP.sO,this.wa],null),new $APP.H(null,2,5,$APP.I,[W2,this.binding],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Lq,$APP.sO,W2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new n1(this.ia,this.wa,this.binding,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=589494199^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.ia,b.ia)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.binding,b.binding)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[$APP.sO,null,$APP.Lq,null,W2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new n1(this.ia,this.wa,this.binding,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":case "binding":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.Lq,b):$APP.Bg.call(null,$APP.Lq,b))?new n1(c,this.wa,this.binding,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sO,b):$APP.Bg.call(null,$APP.sO,b))?new n1(this.ia,c,this.binding,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(W2,b):$APP.Bg.call(null,W2,b))?new n1(this.ia,this.wa,c,this.B,this.o,null):new n1(this.ia,this.wa,this.binding,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df($APP.Lq,this.ia,null),new $APP.df($APP.sO,this.wa,null),new $APP.df(W2,this.binding,null)],null),this.o))};$APP.g.X=function(a,b){return new n1(this.ia,this.wa,this.binding,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.binding,u0(b,this.wa,u0(b,this.ia,c)))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.ia):w1.call(null,b,this.ia);b=this.wa;a=w1.h?w1.h(a,b):w1.call(null,a,b);b=this.binding;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=o1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "name":return this.name;case "args":return this.wa;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.co,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.I,[$APP.sO,this.wa],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[$APP.co,$APP.Q,$APP.sO],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new o1(this.source,this.name,this.wa,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-444662011^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.wa,b.wa)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[$APP.sO,null,$APP.Q,null,$APP.co,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new o1(this.source,this.name,this.wa,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "name":case "args":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.co,b):$APP.Bg.call(null,$APP.co,b))?new o1(c,this.name,this.wa,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.Q,b):$APP.Bg.call(null,$APP.Q,b))?new o1(this.source,c,this.wa,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.sO,b):$APP.Bg.call(null,$APP.sO,b))?new o1(this.source,this.name,c,this.B,this.o,null):new o1(this.source,this.name,this.wa,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df($APP.co,this.source,null),new $APP.df($APP.Q,this.name,null),new $APP.df($APP.sO,this.wa,null)],null),this.o))};$APP.g.X=function(a,b){return new o1(this.source,this.name,this.wa,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.wa,u0(b,this.name,u0(b,this.source,c)))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.source):w1.call(null,b,this.source);b=this.name;a=w1.h?w1.h(a,b):w1.call(null,a,b);b=this.wa;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=p1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "vars":return this.Ib;case "clauses":return this.Ca;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.co,this.source],null),new $APP.H(null,2,5,$APP.I,[$APP.xL,this.Ib],null),new $APP.H(null,2,5,$APP.I,[$APP.PB,this.Ca],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[$APP.co,$APP.xL,$APP.PB],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new p1(this.source,this.Ib,this.Ca,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1394671061^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.Ib,b.Ib)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[$APP.co,null,$APP.PB,null,$APP.xL,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new p1(this.source,this.Ib,this.Ca,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.co,b):$APP.Bg.call(null,$APP.co,b))?new p1(c,this.Ib,this.Ca,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.xL,b):$APP.Bg.call(null,$APP.xL,b))?new p1(this.source,c,this.Ca,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.PB,b):$APP.Bg.call(null,$APP.PB,b))?new p1(this.source,this.Ib,c,this.B,this.o,null):new p1(this.source,this.Ib,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df($APP.co,this.source,null),new $APP.df($APP.xL,this.Ib,null),new $APP.df($APP.PB,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new p1(this.source,this.Ib,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ca,u0(b,this.Ib,u0(b,this.source,c)))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.source):w1.call(null,b,this.source);b=this.Ib;a=w1.h?w1.h(a,b):w1.call(null,a,b);b=this.Ca;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=q1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "rule-vars":return this.hd;case "clauses":return this.Ca;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.co,this.source],null),new $APP.H(null,2,5,$APP.I,[u1,this.hd],null),new $APP.H(null,2,5,$APP.I,[$APP.PB,this.Ca],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[$APP.co,u1,$APP.PB],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new q1(this.source,this.hd,this.Ca,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1461934571^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.source,b.source)&&$APP.z.h(this.hd,b.hd)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[u1,null,$APP.co,null,$APP.PB,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new q1(this.source,this.hd,this.Ca,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.co,b):$APP.Bg.call(null,$APP.co,b))?new q1(c,this.hd,this.Ca,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(u1,b):$APP.Bg.call(null,u1,b))?new q1(this.source,c,this.Ca,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.PB,b):$APP.Bg.call(null,$APP.PB,b))?new q1(this.source,this.hd,c,this.B,this.o,null):new q1(this.source,this.hd,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df($APP.co,this.source,null),new $APP.df(u1,this.hd,null),new $APP.df($APP.PB,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new q1(this.source,this.hd,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ca,u0(b,this.hd,u0(b,this.source,c)))};
$APP.g.mb=function(a,b){a=w1.h?w1.h(b,this.source):w1.call(null,b,this.source);b=this.hd;a=w1.h?w1.h(a,b):w1.call(null,a,b);b=this.Ca;return w1.h?w1.h(a,b):w1.call(null,a,b)};$APP.g=r1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "clauses":return this.Ca;default:return $APP.af.j(this.o,b,c)}};
$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.PB,this.Ca],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,1,new $APP.H(null,1,5,$APP.I,[$APP.PB],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new r1(this.Ca,this.B,this.o,this.D)};$APP.g.ba=function(){return 1+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-131856804^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,1,[$APP.PB,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new r1(this.Ca,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.PB,b):$APP.Bg.call(null,$APP.PB,b))?new r1(c,this.B,this.o,null):new r1(this.Ca,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,1,5,$APP.I,[new $APP.df($APP.PB,this.Ca,null)],null),this.o))};$APP.g.X=function(a,b){return new r1(this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;
$APP.g.lb=function(a,b,c){return u0(b,this.Ca,c)};$APP.g.mb=function(a,b){return w1.h?w1.h(b,this.Ca):w1.call(null,b,this.Ca)};var w1=function w1(a,b){return b instanceof A0?$APP.wg.h(a,b):b instanceof p1?$APP.aj.h(a,b.Ib):b instanceof q1?(b=b.hd,w1.h?w1.h(a,b):w1.call(null,a,b)):(null!=b?$APP.vd===b.kb||(b.zd?0:$APP.tb(p0,b)):$APP.tb(p0,b))?r0(b,a):$APP.De(b)?$APP.nf.j(w1,a,b):a};$APP.g=A1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "vars":return this.Ib;case "clauses":return this.Ca;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.xL,this.Ib],null),new $APP.H(null,2,5,$APP.I,[$APP.PB,this.Ca],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.xL,$APP.PB],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new A1(this.Ib,this.Ca,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1024755006^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Ib,b.Ib)&&$APP.z.h(this.Ca,b.Ca)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.PB,null,$APP.xL,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new A1(this.Ib,this.Ca,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.xL,b):$APP.Bg.call(null,$APP.xL,b))?new A1(c,this.Ca,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.PB,b):$APP.Bg.call(null,$APP.PB,b))?new A1(this.Ib,c,this.B,this.o,null):new A1(this.Ib,this.Ca,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.xL,this.Ib,null),new $APP.df($APP.PB,this.Ca,null)],null),this.o))};
$APP.g.X=function(a,b){return new A1(this.Ib,this.Ca,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.Ca,u0(b,this.Ib,c))};$APP.g.mb=function(a,b){return w1(w1(b,this.Ib),this.Ca)};$APP.g=B1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "name":return this.name;case "branches":return this.yd;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Q,this.name],null),new $APP.H(null,2,5,$APP.I,[K2,this.yd],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[$APP.Q,K2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new B1(this.name,this.yd,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=-900273052^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.name,b.name)&&$APP.z.h(this.yd,b.yd)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[$APP.Q,null,K2,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new B1(this.name,this.yd,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "name":case "branches":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h($APP.Q,b):$APP.Bg.call(null,$APP.Q,b))?new B1(c,this.yd,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(K2,b):$APP.Bg.call(null,K2,b))?new B1(this.name,c,this.B,this.o,null):new B1(this.name,this.yd,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df($APP.Q,this.name,null),new $APP.df(K2,this.yd,null)],null),this.o))};
$APP.g.X=function(a,b){return new B1(this.name,this.yd,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.yd,u0(b,this.name,c))};$APP.g.mb=function(a,b){return w1(w1(b,this.name),this.yd)};$APP.g=D1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "qfind":return this.Xc;case "qwith":return this.ad;case "qreturn-map":return this.Zc;case "qin":return this.Yc;case "qwhere":return this.$c;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[E1,this.Xc],null),new $APP.H(null,2,5,$APP.I,[F1,this.ad],null),new $APP.H(null,2,5,$APP.I,[G1,this.Zc],null),new $APP.H(null,2,5,$APP.I,[H1,this.Yc],null),new $APP.H(null,2,5,$APP.I,[I1,this.$c],null)],null),this.o))};
$APP.g.ha=function(){return new $APP.Si(this,5,new $APP.H(null,5,5,$APP.I,[E1,F1,G1,H1,I1],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};$APP.g.Z=function(){return new D1(this.Xc,this.ad,this.Zc,this.Yc,this.$c,this.B,this.o,this.D)};$APP.g.ba=function(){return 5+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=181307977^$APP.Md(this)};
$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.Xc,b.Xc)&&$APP.z.h(this.ad,b.ad)&&$APP.z.h(this.Zc,b.Zc)&&$APP.z.h(this.Yc,b.Yc)&&$APP.z.h(this.$c,b.$c)&&$APP.z.h(this.o,b.o)};$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,5,[E1,null,I1,null,H1,null,F1,null,G1,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new D1(this.Xc,this.ad,this.Zc,this.Yc,this.$c,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};
$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(E1,b):$APP.Bg.call(null,E1,b))?new D1(c,this.ad,this.Zc,this.Yc,this.$c,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(F1,b):$APP.Bg.call(null,F1,b))?new D1(this.Xc,c,this.Zc,this.Yc,this.$c,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(G1,b):$APP.Bg.call(null,G1,b))?new D1(this.Xc,this.ad,c,this.Yc,this.$c,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(H1,b):$APP.Bg.call(null,H1,b))?new D1(this.Xc,this.ad,this.Zc,c,this.$c,this.B,this.o,
null):$APP.k($APP.Bg.h?$APP.Bg.h(I1,b):$APP.Bg.call(null,I1,b))?new D1(this.Xc,this.ad,this.Zc,this.Yc,c,this.B,this.o,null):new D1(this.Xc,this.ad,this.Zc,this.Yc,this.$c,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,5,5,$APP.I,[new $APP.df(E1,this.Xc,null),new $APP.df(F1,this.ad,null),new $APP.df(G1,this.Zc,null),new $APP.df(H1,this.Yc,null),new $APP.df(I1,this.$c,null)],null),this.o))};
$APP.g.X=function(a,b){return new D1(this.Xc,this.ad,this.Zc,this.Yc,this.$c,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g.kb=$APP.vd;$APP.g.lb=function(a,b,c){return u0(b,this.$c,u0(b,this.Yc,u0(b,this.Zc,u0(b,this.ad,u0(b,this.Xc,c)))))};$APP.g.mb=function(a,b){return w1(w1(w1(w1(w1(b,this.Xc),this.ad),this.Zc),this.Yc),this.$c)};var iPa=pX();$APP.g=M1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "rels":return this.be;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[Y1,this.be],null),new $APP.H(null,2,5,$APP.I,[X1,this.sources],null),new $APP.H(null,2,5,$APP.I,[$APP.$J,this.rules],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,3,new $APP.H(null,3,5,$APP.I,[Y1,X1,$APP.$J],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new M1(this.be,this.sources,this.rules,this.B,this.o,this.D)};$APP.g.ba=function(){return 3+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1014232958^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.be,b.be)&&$APP.z.h(this.sources,b.sources)&&$APP.z.h(this.rules,b.rules)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,3,[X1,null,$APP.$J,null,Y1,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new M1(this.be,this.sources,this.rules,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "rels":case "sources":case "rules":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(Y1,b):$APP.Bg.call(null,Y1,b))?new M1(c,this.sources,this.rules,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(X1,b):$APP.Bg.call(null,X1,b))?new M1(this.be,c,this.rules,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h($APP.$J,b):$APP.Bg.call(null,$APP.$J,b))?new M1(this.be,this.sources,c,this.B,this.o,null):new M1(this.be,this.sources,this.rules,this.B,$APP.K.j(this.o,b,c),null)};
$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,3,5,$APP.I,[new $APP.df(Y1,this.be,null),new $APP.df(X1,this.sources,null),new $APP.df($APP.$J,this.rules,null)],null),this.o))};$APP.g.X=function(a,b){return new M1(this.be,this.sources,this.rules,b,this.o,this.D)};$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};$APP.g=N1.prototype;$APP.g.da=function(a,b){return this.M(null,b,null)};
$APP.g.M=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.pa;case "tuples":return this.ue;default:return $APP.af.j(this.o,b,c)}};$APP.g.la=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.g.V=function(a,b,c){return $APP.Ik(b,function(d){return $APP.Ik(b,$APP.Lk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[H_,this.pa],null),new $APP.H(null,2,5,$APP.I,[c2,this.ue],null)],null),this.o))};$APP.g.ha=function(){return new $APP.Si(this,2,new $APP.H(null,2,5,$APP.I,[H_,c2],null),$APP.k(this.o)?$APP.ld(this.o):$APP.ph())};$APP.g.W=function(){return this.B};
$APP.g.Z=function(){return new N1(this.pa,this.ue,this.B,this.o,this.D)};$APP.g.ba=function(){return 2+$APP.fe(this.o)};$APP.g.Y=function(){var a=this.D;return null!=a?a:this.D=a=1107093117^$APP.Md(this)};$APP.g.P=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.z.h(this.pa,b.pa)&&$APP.z.h(this.ue,b.ue)&&$APP.z.h(this.o,b.o)};
$APP.g.ra=function(a,b){return $APP.cf(new $APP.dk(null,new $APP.h(null,2,[c2,null,H_,null],null),null),b)?$APP.fo.h($APP.nc($APP.aj.h($APP.hh,this),this.B),b):new N1(this.pa,this.ue,this.B,$APP.jh($APP.fo.h(this.o,b)),null)};$APP.g.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "tuples":return!0;default:return $APP.cf(this.o,b)}};
$APP.g.U=function(a,b,c){return $APP.k($APP.Bg.h?$APP.Bg.h(H_,b):$APP.Bg.call(null,H_,b))?new N1(c,this.ue,this.B,this.o,null):$APP.k($APP.Bg.h?$APP.Bg.h(c2,b):$APP.Bg.call(null,c2,b))?new N1(this.pa,c,this.B,this.o,null):new N1(this.pa,this.ue,this.B,$APP.K.j(this.o,b,c),null)};$APP.g.aa=function(){return $APP.u($APP.N.h(new $APP.H(null,2,5,$APP.I,[new $APP.df(H_,this.pa,null),new $APP.df(c2,this.ue,null)],null),this.o))};$APP.g.X=function(a,b){return new N1(this.pa,this.ue,b,this.o,this.D)};
$APP.g.ca=function(a,b){return $APP.He(b)?this.U(null,$APP.re(b,0),$APP.re(b,1)):$APP.nf.j($APP.Lb,this,b)};
var S1=function S1(a,b){return $APP.z.h($APP.JF,a)?!0:$APP.z.h(new $APP.H(null,1,5,$APP.I,[$APP.fO],null),a)?$APP.De(b):a instanceof $APP.r?$APP.z.h(b,a):$APP.De(a)?$APP.z.h($APP.pe(a),$APP.fO)?$APP.De(b)&&$APP.Ch(function(d){var e=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);return S1.h?S1.h(e,d):S1.call(null,e,d)},$APP.Mk.j($APP.fv,$APP.jk(a),b)):$APP.De(b)&&$APP.z.h($APP.fe(b),$APP.fe(a))&&$APP.Ch(function(d){var e=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);return S1.h?S1.h(e,d):S1.call(null,e,d)},$APP.Mk.j($APP.fv,
a,b)):a.g?a.g(b):a.call(null,b)},j2=function j2(a,b){var d=$APP.ih(a),e=$APP.af.h(d,H_);d=$APP.af.h(d,c2);var f=$APP.ih(b),l=$APP.af.h(f,H_);f=$APP.af.h(f,c2);if($APP.z.h(e,l))return new N1(e,$APP.aj.h($APP.pf(d),f),null,null,null);if(NMa(e,l)){if($APP.Ch($APP.kb,$APP.Yj(e))){var m=$APP.pf(function(){return function t(C){return new $APP.Kg(null,function(){for(;;){var J=$APP.u(C);if(J){if($APP.Ie(J)){var O=$APP.bd(J),U=$APP.fe(O),Z=$APP.Ng(U);a:for(var oa=0;;)if(oa<U){var qa=$APP.re(O,oa),sa=$APP.B.j(qa,
0,null);qa=$APP.B.j(qa,1,null);$APP.Rg(Z,new $APP.H(null,2,5,$APP.I,[qa,e.g?e.g(sa):e.call(null,sa)],null));oa+=1}else{O=!0;break a}return O?$APP.Qg($APP.Sg(Z),t($APP.cd(J))):$APP.Qg($APP.Sg(Z),null)}O=$APP.v(J);Z=$APP.B.j(O,0,null);O=$APP.B.j(O,1,null);return $APP.zg(new $APP.H(null,2,5,$APP.I,[O,e.g?e.g(Z):e.call(null,Z)],null),t($APP.Gd(J)))}return null}},null,null)}(l)}()),q=$APP.nf.h($APP.Ep,$APP.Yj(e))+1;b=$APP.Uc($APP.nf.j(function(x,C){for(var t=Array(q),J=$APP.u(m),O=null,U=0,Z=0;;)if(Z<
U){var oa=O.fa(null,Z),qa=$APP.B.j(oa,0,null);oa=$APP.B.j(oa,1,null);t[oa]=C[qa];Z+=1}else if(J=$APP.u(J))$APP.Ie(J)?(U=$APP.bd(J),J=$APP.cd(J),O=U,U=$APP.fe(U)):(U=$APP.v(J),O=$APP.B.j(U,0,null),U=$APP.B.j(U,1,null),t[U]=C[O],J=$APP.y(J),O=null,U=0),Z=0;else break;return $APP.hi.h(x,t)},$APP.Sc($APP.pf(d)),f));return new N1(e,b,null,null,null)}var A=$APP.lk($APP.Wj($APP.eo.l($APP.D([e,l]))),$APP.Fp.F());d=function(){var x=new N1(A,$APP.ii,null,null,null);return j2.h?j2.h(x,a):j2.call(null,x,a)}();
return j2.h?j2.h(d,b):j2.call(null,d,b)}throw $APP.po.h(["Can’t sum relations with different attrs: ",$APP.pl.l($APP.D([e]))," and ",$APP.pl.l($APP.D([l]))].join(""),new $APP.h(null,1,[$APP.lN,i2],null));},h2=function h2(a){switch(arguments.length){case 0:return h2.F();case 2:return h2.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};h2.F=function(){return new N1($APP.hh,new $APP.H(null,1,5,$APP.I,[[]],null),null,null,null)};
h2.h=function(a,b){var c=$APP.Wj(H_.g(a)),d=$APP.Wj(H_.g(b)),e=$APP.of($APP.Mk.h(H_.g(a),c)),f=$APP.of($APP.Mk.h(H_.g(b),d));return new N1($APP.lk($APP.N.h(c,d),$APP.Fp.F()),$APP.Uc($APP.nf.j(function(l,m){return $APP.nf.j(function(q,A){return $APP.hi.h(q,OMa(m,e,A,f))},l,c2.g(b))},$APP.Sc($APP.ii),c2.g(a))),null,null,null)};h2.C=2;Q0.prototype.Of=function(){return h2.F()};
R0.prototype.Of=function(a,b){return new N1($APP.gh([$APP.hr.h(this,new $APP.H(null,2,5,$APP.I,[W1,$APP.ep],null)),0]),new $APP.H(null,1,5,$APP.I,[$APP.ks.g(new $APP.H(null,1,5,$APP.I,[b],null))],null),null,null,null)};
T0.prototype.Of=function(a,b){var c=this;if(aY(b))return $APP.ze(b)?U1(c):$APP.nf.h(j2,$APP.Mk.h(function(d){return V1(c.binding,d)},b));throw $APP.po.h(["Cannot bind value ",$APP.pl.l($APP.D([b]))," to collection ",$APP.pl.l($APP.D([y0(c)]))].join(""),new $APP.h(null,3,[$APP.lN,U2,$APP.jI,b,W2,y0(c)],null));};
S0.prototype.Of=function(a,b){if(aY(b)){if($APP.fe(b)<$APP.fe(this.kc))throw $APP.po.h(["Not enough elements in a collection ",$APP.pl.l($APP.D([b]))," to bind tuple ",$APP.pl.l($APP.D([y0(this)]))].join(""),new $APP.h(null,3,[$APP.lN,U2,$APP.jI,b,W2,y0(this)],null));return $APP.nf.h(h2,$APP.Mk.j(function(c,d){return V1(c,d)},this.kc,b))}throw $APP.po.h(["Cannot bind value ",$APP.pl.l($APP.D([b]))," to tuple ",$APP.pl.l($APP.D([y0(this)]))].join(""),new $APP.h(null,3,[$APP.lN,U2,$APP.jI,b,W2,y0(this)],
null));};var Z1=null,$1=null,dNa=$APP.tl.g(0),m2=function m2(a){switch(arguments.length){case 2:return m2.h(arguments[0],arguments[1]);case 3:return m2.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};m2.h=function(a,b){return m2.j(a,b,b)};
m2.j=function(a,b,c){for(;;){var d=S1,e=b;if($APP.k(function(){var qa=new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.xd,$APP.fO],null)],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}()))return u2(t2(a),$APP.fi.h(Q1,$APP.me(b)),b),aNa(a,b);if($APP.k(function(){var qa=new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.xd,$APP.fO],null),$APP.JF],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}()))return u2(t2(a),$APP.fi.h(Q1,$APP.me(b)),b),bNa(a,b);if($APP.k(function(){var qa=
new $APP.H(null,2,5,$APP.I,[P1,$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){var f=$APP.u(b);c=$APP.v(f);f=$APP.y(f);var l=$1;$1=$APP.af.h(X1.g(a),c);try{return m2.j(a,f,b)}finally{$1=l}}else{if($APP.k(function(){var qa=new $APP.H(null,2,5,$APP.I,[$APP.Gv,$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){var m=b,q=$APP.u(m),A=$APP.v(q),x=$APP.y(q);f=A;l=x;var C=mNa(t2(a),l,b),t=$APP.Mk.h(function(qa){return function(sa){return v2.h?v2.h(qa,sa):v2.call(null,qa,sa)}}(a,
b,c,m,q,A,x,f,l,C,d,e),l);b=$APP.Mk.h(function(){return function(qa){return $APP.nf.h(d2,Y1.g(qa))}}(a,b,c,m,q,A,x,f,l,C,t,d,e),t);return $APP.K.j($APP.v(t),Y1,new $APP.H(null,1,5,$APP.I,[$APP.nf.h(j2,b)],null))}if($APP.k(function(){var qa=new $APP.H(null,3,5,$APP.I,[z1,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.fO],null),$APP.fO],null),$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){l=$APP.u(b);f=$APP.v(l);l=$APP.y(l);m=$APP.v(l);f=$APP.y(l);m=$APP.u(m);l=$APP.v(m);
m=$APP.y(m);C=l;l=f;f=t2(a);u2(f,C,c);nNa(f,m,l);c=$APP.hv.j(z1,$APP.N.h(C,m),l);f=b;b=c;c=f;continue}else{if($APP.k(function(){var qa=new $APP.H(null,3,5,$APP.I,[z1,new $APP.H(null,1,5,$APP.I,[$APP.fO],null),$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){A=b;x=$APP.u(A);var J=$APP.v(x),O=$APP.y(x);f=J;var U=$APP.v(O),Z=$APP.y(O);m=U;l=Z;var oa=$APP.ik(m);C=nNa(t2(a),oa,l);q=s2(a,oa);t=$APP.Mk.h(function(qa,sa,Aa,Ea,va,w,E,V,X,Y,ra,ta,xa,Ha,Ja){return function(Na){return s2(v2.h?
v2.h(Ja,Na):v2.call(null,Ja,Na),xa)}}(a,b,c,A,x,J,O,f,U,Z,m,l,oa,C,q,d,e),l);b=$APP.Mk.h(function(){return function(qa){return $APP.nf.h(d2,Y1.g(qa))}}(a,b,c,A,x,J,O,f,U,Z,m,l,oa,C,q,t,d,e),t);b=$APP.nf.h(j2,b);return $APP.Dp.I(a,Y1,e2,b)}if($APP.k(function(){var qa=new $APP.H(null,2,5,$APP.I,[$APP.xv,$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}()))return c=$APP.u(b),b=$APP.v(c),c=$APP.y(c),f=b,b=c,$APP.nf.j(v2,a,b);if($APP.k(function(){var qa=new $APP.H(null,2,5,$APP.I,[$APP.lK,
$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){f=$APP.u(b);b=$APP.v(f);l=$APP.y(f);f=b;b=l;f=t2(a);l=$APP.ik(l2(b));if($APP.ze($APP.bz.h(f,l)))throw $APP.po.h(["Insufficient bindings: none of ",$APP.pl.l($APP.D([l]))," is bound in ",$APP.pl.l($APP.D([c]))].join(""),new $APP.h(null,2,[$APP.lN,i2,$APP.RG,c],null));C=null;a=$APP.K.j(a,Y1,new $APP.H(null,1,5,$APP.I,[$APP.nf.h(d2,Y1.g(a))],null));b=$APP.nf.j(v2,a,b);b=UMa($APP.v(Y1.g(a)),$APP.nf.h(d2,Y1.g(b)));return $APP.K.j(a,Y1,new $APP.H(null,
1,5,$APP.I,[b],null))}if($APP.k(function(){var qa=new $APP.H(null,3,5,$APP.I,[x1,new $APP.H(null,1,5,$APP.I,[$APP.fO],null),$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}()))return b=$APP.u(b),f=$APP.v(b),b=$APP.y(b),f=$APP.v(b),b=$APP.y(b),m=f,f=t2(a),C=u2(f,m,c),a=$APP.K.j(a,Y1,new $APP.H(null,1,5,$APP.I,[$APP.nf.h(d2,Y1.g(a))],null)),q=s2(a,m),b=s2($APP.nf.j(v2,q,b),m),b=UMa($APP.v(Y1.g(a)),$APP.nf.h(d2,Y1.g(b))),$APP.K.j(a,Y1,new $APP.H(null,1,5,$APP.I,[b],null));if($APP.k(function(){var qa=
new $APP.H(null,1,5,$APP.I,[$APP.fO],null),sa=e;return d.h?d.h(qa,sa):d.call(null,qa,sa)}())){c=$1;b=kNa(c,b);f=XMa(c,b);l=Z1;Z1=(null!=c?$APP.vd===c.rh||(c.zd?0:$APP.tb(JY,c)):$APP.tb(JY,c))?lNa(c,b):Z1;try{return $APP.Dp.I(a,Y1,e2,f)}finally{Z1=l}}else throw Error(["No matching clause: ",$APP.n.g(e)].join(""));}}break}};m2.C=3;
var v2=function v2(a,b){if(cNa(a,b))if(P1($APP.v(b))){var d=$1;$1=$APP.af.h(X1.g(a),$APP.v(b));try{var e=$APP.y(b);return v2.h?v2.h(a,e):v2.call(null,a,e)}finally{$1=d}}else return $APP.Dp.I(a,Y1,e2,jNa(a,b));else return m2.h(a,b)};A0.prototype.Pf=function(a,b){return g2(b,this.Ia)};B0.prototype.Pf=function(a,b){return $APP.hr.h(b,new $APP.H(null,2,5,$APP.I,[X1,this.Ia],null))};F0.prototype.Pf=function(){var a=$APP.af.h(hPa,this.Ia);return $APP.k(a)?a:null};E0.prototype.Pf=function(){return this.value};
$0.prototype.Qf=function(a,b,c){return null==b?c:vNa(b,c)};a1.prototype.Qf=function(a,b,c){return $APP.aj.j($APP.ii,$APP.Mk.g($APP.v),c)};b1.prototype.Qf=function(a,b,c){return $APP.le(c)};c1.prototype.Qf=function(a,b,c){return null!=b?$APP.v(vNa(b,new $APP.H(null,1,5,$APP.I,[$APP.v(c)],null))):$APP.v(c)};var t3=function t3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return t3.l(arguments[0],1<c.length?new $APP.Bd(c.slice(1),0,null):null)};
t3.l=function(a,b){var c=nX(iPa,a,function(){return MMa(a)}),d=E1.g(c),e=Z0(d),f=$APP.bi.l(W0,$APP.D([Z0(d)])),l=$APP.fe(e),m=F1.g(c);m=$APP.N.h(f,$APP.Mk.h($APP.ep,m));f=$APP.De(a)?FMa(a):a;var q=$APP.fL.g(f);b=SMa(new M1($APP.ii,$APP.hh,$APP.hh,null,null,null),H1.g(c),b);m=qNa(oNa(b,q),m);f=$APP.k(KMa.g(f))?$APP.et.h(function(A){return $APP.pf($APP.nn.j(A,0,l))},m):m;f=$APP.k($APP.Eh(d1,e))?tNa(e,b,f):f;e=$APP.k($APP.Eh(e1,e))?wNa(e,b,f):f;return x2(d,G1.g(c),e)};t3.C=1;
t3.G=function(a){var b=$APP.v(a);a=$APP.y(a);return this.l(b,a)};z2.h=function(a,b){return z2.j(a,b,null)};z2.j=function(a,b,c){if(a instanceof XY)throw $APP.po.h("Filtered DB cannot be modified",new $APP.h(null,1,[$APP.lN,BOa],null));return e_(gLa(new $APP.h(null,5,[DZ,a,EZ,a,FZ,$APP.ii,GZ,$APP.hh,HZ,c],null)),b)};z2.C=3;
var u3=function u3(a){switch(arguments.length){case 2:return u3.h(arguments[0],arguments[1]);case 3:return u3.j(arguments[0],arguments[1],arguments[2]);case 4:return u3.I(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return u3.R(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return u3.xa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};
u3.h=function(a,b){return DY(a,b,$APP.ii)};u3.j=function(a,b,c){return DY(a,b,new $APP.H(null,1,5,$APP.I,[c],null))};u3.I=function(a,b,c,d){return DY(a,b,new $APP.H(null,2,5,$APP.I,[c,d],null))};u3.R=function(a,b,c,d,e){return DY(a,b,new $APP.H(null,3,5,$APP.I,[c,d,e],null))};u3.xa=function(a,b,c,d,e,f){return DY(a,b,new $APP.H(null,4,5,$APP.I,[c,d,e,f],null))};u3.C=6;
var v3=function v3(a){switch(arguments.length){case 1:return v3.g(arguments[0]);case 2:return v3.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};v3.g=function(a){return D2(tZ.g?tZ.g(a):tZ.call(null,a))};v3.h=function(a,b){return D2(tZ.h?tZ.h(a,b):tZ.call(null,a,b))};v3.C=2;
var w3=function w3(a){switch(arguments.length){case 0:return w3.F();case 1:return w3.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};w3.F=function(){return D2(d3.F?d3.F():d3.call(null))};w3.g=function(a){return D2(d3.g?d3.g(a):d3.call(null,a))};w3.C=1;
var x3=function x3(a){switch(arguments.length){case 2:return x3.h(arguments[0],arguments[1]);case 3:return x3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};x3.h=function(a,b){return x3.j(a,b,null)};
x3.j=function(a,b,c){b=xNa(a,b,c);a=C2.g($APP.we(a));a=null==a?null:$APP.p(a);a=$APP.u(a);c=null;for(var d=0,e=0;;)if(e<d){var f=c.fa(null,e);$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);f.g?f.g(b):f.call(null,b);e+=1}else if(a=$APP.u(a))$APP.Ie(a)?(d=$APP.bd(a),a=$APP.cd(a),c=d,d=$APP.fe(d)):(c=$APP.v(a),$APP.B.j(c,0,null),c=$APP.B.j(c,1,null),c.g?c.g(b):c.call(null,b),a=$APP.y(a),c=null,d=0),e=0;else break;return b};x3.C=3;
var y3=function y3(a){switch(arguments.length){case 2:return y3.h(arguments[0],arguments[1]);case 3:return y3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};y3.h=function(a,b){return y3.j(a,b,null)};
y3.j=function(a,b,c){c=gLa(new $APP.h(null,4,[DZ,$APP.p(a),EZ,b,FZ,$APP.N.h($APP.Mk.h(function(q){return $APP.K.j(q,$APP.mM,!1)},u3.h($APP.p(a),$APP.OY)),u3.h(b,$APP.OY)),HZ,c],null));$APP.Nh(a,b);for(var d=$APP.u(function(){var q=C2.g($APP.we(a));return null==q?null:$APP.p(q)}()),e=null,f=0,l=0;;)if(l<f){var m=e.fa(null,l);$APP.B.j(m,0,null);m=$APP.B.j(m,1,null);m.g?m.g(c):m.call(null,c);l+=1}else if(d=$APP.u(d))$APP.Ie(d)?(f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.fe(f)):(e=$APP.v(d),$APP.B.j(e,0,null),
e=$APP.B.j(e,1,null),e.g?e.g(c):e.call(null,c),d=$APP.y(d),e=null,f=0),l=0;else break;return b};y3.C=3;var z3=function z3(a){switch(arguments.length){case 2:return z3.h(arguments[0],arguments[1]);case 3:return z3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};z3.h=function(a,b){return z3.j(a,$APP.iE.F(),b)};z3.j=function(a,b,c){$APP.ul.I(C2.g($APP.we(a)),$APP.K,b,c);return b};z3.C=3;
for(var A3=$APP.u(new $APP.h(null,2,[UOa,$APP.pY,fOa,$APP.uZ],null)),B3=null,C3=0,D3=0;;)if(D3<C3){var jPa=B3.fa(null,D3),kPa=$APP.B.j(jPa,0,null),lPa=$APP.B.j(jPa,1,null);$APP.xp(kPa,lPa);D3+=1}else{var mPa=$APP.u(A3);if(mPa){var E3=mPa;if($APP.Ie(E3)){var nPa=$APP.bd(E3),oPa=$APP.cd(E3),pPa=nPa,qPa=$APP.fe(nPa);A3=oPa;B3=pPa;C3=qPa}else{var rPa=$APP.v(E3),sPa=$APP.B.j(rPa,0,null),tPa=$APP.B.j(rPa,1,null);$APP.xp(sPa,tPa);A3=$APP.y(E3);B3=null;C3=0}D3=0}else break}$APP.tl.g(-1E6);
var F3=function F3(a){switch(arguments.length){case 0:return F3.F();case 1:return F3.g(arguments[0]);default:throw Error(["Invalid arity: ",$APP.n.g(arguments.length)].join(""));}};F3.F=function(){return F3.g((new Date).getTime())};
F3.g=function(a){return $APP.em([$APP.n.g(F2(a/1E3|0,8)),"-",$APP.n.g(F2($APP.wl(65536),4)),"-",$APP.n.g(F2($APP.wl(65536)&4095|16384,4)),"-",$APP.n.g(F2($APP.wl(65536)&16383|32768,4)),"-",$APP.n.g(F2($APP.wl(65536),4)),$APP.n.g(F2($APP.wl(65536),4)),$APP.n.g(F2($APP.wl(65536),4))].join(""))};F3.C=1;var G3=$APP.Px($APP.zL),H3=$APP.Px($APP.DE),uPa=$APP.Ij([yNa,DOa,VOa,ENa,NOa,S2,SOa,POa,pOa,INa,aOa,GOa,vZ,kOa,MNa,dPa,HNa,COa,HOa,EOa,$APP.kM,O2,f1,gOa],[function(){var a=new $APP.zd(function(){return z2},KNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,yNa,"datascript/core.cljc",11,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,3,$APP.qL,3,$APP.nG,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[vZ,H2],null),new $APP.H(null,3,5,$APP.I,[vZ,
H2,Y2],null)],null),$APP.T,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,H2],null),new $APP.H(null,3,5,$APP.I,[vZ,H2,Y2],null)),$APP.iI,$APP.M(null,null)],null),1,256,256,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,H2],null),new $APP.H(null,3,5,$APP.I,[vZ,H2,Y2],null)),"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",$APP.k(z2)?z2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,
$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return q3},xOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,DOa,"datascript/core.cljc",12,1,120,130,$APP.Ed,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',
$APP.k(q3)?q3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return m_},NNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,VOa,"datascript/core.cljc",9,1,23,72,$APP.Ed,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n             \n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n            \n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n             \n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n             \n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n               \n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.k(m_)?m_.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return t3},YOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,ENa,"datascript/core.cljc",4,1,135,147,$APP.Ed,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n          \n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',
$APP.k(t3)?t3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return z3},zOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,NOa,"datascript/core.cljc",14,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,3,$APP.qL,
3,$APP.nG,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[T2,$APP.XF],null),new $APP.H(null,3,5,$APP.I,[T2,$APP.hN,$APP.XF],null)],null),$APP.T,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,$APP.XF],null),new $APP.H(null,3,5,$APP.I,[T2,$APP.hN,$APP.XF],null)),$APP.iI,$APP.M(null,null)],null),1,592,592,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,$APP.XF],null),new $APP.H(null,3,5,$APP.I,[T2,$APP.hN,$APP.XF],null)),"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n   \n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n   \n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.k(z3)?z3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return nY},vOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,S2,"datascript/core.cljc",8,1,172,178,$APP.Ed,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",
$APP.k(nY)?nY.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return A2},JNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,SOa,"datascript/core.cljc",14,1,271,271,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,H2],null)),
"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.k(A2)?A2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return B2},KOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,
$APP.T,$APP.W,$APP.tC],[$APP.zL,POa,"datascript/core.cljc",18,1,405,405,$APP.M(new $APP.H(null,4,5,$APP.I,[vZ,QOa,$APP.fJ,$APP.KK],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n  \n   Same properties as [[datoms]].\n   \n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n   \n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n        \n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n           \n   Useful patterns:\n     \n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.k(B2)?B2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return D2},ZOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,pOa,"datascript/core.cljc",19,1,444,444,$APP.M(new $APP.H(null,1,5,$APP.I,[vZ],null)),
"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.k(D2)?D2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return y3},cPa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,
INa,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,3,$APP.qL,3,$APP.nG,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[T2,vZ],null),new $APP.H(null,3,5,$APP.I,[T2,vZ,Y2],null)],null),$APP.T,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,vZ],null),new $APP.H(null,3,5,$APP.I,[T2,vZ,Y2],null)),$APP.iI,$APP.M(null,null)],null),1,570,570,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,vZ],null),new $APP.H(null,3,5,$APP.I,[T2,vZ,Y2],null)),"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",
$APP.k(y3)?y3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return x3},bPa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,aOa,"datascript/core.cljc",16,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,3,$APP.qL,
3,$APP.nG,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[T2,H2],null),new $APP.H(null,3,5,$APP.I,[T2,H2,Y2],null)],null),$APP.T,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,H2],null),new $APP.H(null,3,5,$APP.I,[T2,H2,Y2],null)),$APP.iI,$APP.M(null,null)],null),1,476,476,$APP.M(new $APP.H(null,2,5,$APP.I,[T2,H2],null),new $APP.H(null,3,5,$APP.I,[T2,H2,Y2],null)),'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n  \n   Returns transaction report, a map:\n\n       { :db-before ...       ; db value before transaction\n         :db-after  ...       ; db value after transaction\n         :tx-data   [...]     ; plain datoms that were added/retracted from db-before\n         :tempids   {...}     ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n         :tx-meta   tx-meta } ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n  \n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n  \n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n  \n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n  \n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n      \n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n  \n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n  \n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n  \n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n  \n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n  \n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n      \n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n                                 \n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.k(x3)?x3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return F3},ePa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,GOa,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,1,$APP.qL,
1,$APP.nG,new $APP.H(null,2,5,$APP.I,[$APP.ii,new $APP.H(null,1,5,$APP.I,[Q2],null)],null),$APP.T,$APP.M($APP.ii,new $APP.H(null,1,5,$APP.I,[Q2],null)),$APP.iI,$APP.M(null,null)],null),1,728,728,$APP.M($APP.ii,new $APP.H(null,1,5,$APP.I,[Q2],null)),"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n  \n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",
$APP.k(F3)?F3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return E2},PNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,vZ,"datascript/core.cljc",9,1,654,654,$APP.M(new $APP.H(null,1,5,$APP.I,[T2],null)),
"Returns the underlying immutable database value from a connection.\n   \n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",$APP.k(E2)?E2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return r3},gPa,$APP.Ij([$APP.R,$APP.Q,
$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,kOa,"datascript/core.cljc",15,1,195,207,$APP.Ed,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.k(r3)?r3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return v3},TNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,MNa,"datascript/core.cljc",23,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,2,$APP.qL,
2,$APP.nG,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[O2],null),new $APP.H(null,2,5,$APP.I,[O2,P2],null)],null),$APP.T,$APP.M(new $APP.H(null,1,5,$APP.I,[O2],null),new $APP.H(null,2,5,$APP.I,[O2,P2],null)),$APP.iI,$APP.M(null,null)],null),1,450,450,$APP.M(new $APP.H(null,1,5,$APP.I,[O2],null),new $APP.H(null,2,5,$APP.I,[O2,P2],null)),"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.k(v3)?v3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),
d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return s3},oOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,dPa,"datascript/core.cljc",20,1,210,218,$APP.Ed,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.k(s3)?s3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return d3},rOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,HNa,"datascript/core.cljc",11,1,152,164,$APP.Ed,"Creates an empty database with an optional schema.\n\n             Usage:\n             \n             ```\n             (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n  \n             (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n             ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n             ;                    :datoms []}\n             ```",
$APP.k(d3)?d3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return tZ},VNa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,COa,"datascript/core.cljc",10,1,186,192,$APP.Ed,"Low-level fn for creating database quickly from a trusted sequence of datoms.\n\n             Does no validation on inputs, so `datoms` must be well-formed and match schema.\n\n             Used internally in db (de)serialization. See also [[datom]].",
$APP.k(tZ)?tZ.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return o_},cOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,HOa,"datascript/core.cljc",8,1,91,100,$APP.Ed,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.k(o_)?o_.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return 536870912},IOa,$APP.Ij([$APP.VF,$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.Ov,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[!0,$APP.zL,EOa,"datascript/core.cljc",26,1,!0,18,18,$APP.Ed,null,$APP.k(536870912)?
(536870912).A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return y2},nOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,$APP.kM,"datascript/core.cljc",13,1,235,235,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,$APP.eL],
null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n   \n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",$APP.k(y2)?y2.A:null])),b=$APP.p(a);a=$APP.we(a);var c=
$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return u3},qOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,O2,"datascript/core.cljc",13,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,6,$APP.qL,6,$APP.nG,new $APP.H(null,5,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[vZ,$APP.qG],null),new $APP.H(null,3,5,$APP.I,[vZ,$APP.qG,$APP.lH],null),new $APP.H(null,4,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH],null),new $APP.H(null,5,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH,$APP.oH],null),new $APP.H(null,6,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH,$APP.oH,L2],null)],null),$APP.T,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,$APP.qG],null),new $APP.H(null,3,5,$APP.I,[vZ,$APP.qG,$APP.lH],null),new $APP.H(null,4,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH],null),new $APP.H(null,5,5,$APP.I,[vZ,
$APP.qG,$APP.lH,$APP.mH,$APP.oH],null),new $APP.H(null,6,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH,$APP.oH,L2],null)),$APP.iI,$APP.M(null,null,null,null,null)],null),1,280,280,$APP.M(new $APP.H(null,2,5,$APP.I,[vZ,$APP.qG],null),new $APP.H(null,3,5,$APP.I,[vZ,$APP.qG,$APP.lH],null),new $APP.H(null,4,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH],null),new $APP.H(null,5,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH,$APP.oH],null),new $APP.H(null,6,5,$APP.I,[vZ,$APP.qG,$APP.lH,$APP.mH,$APP.oH,L2],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n  \n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n       \n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n  \n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n  \n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n  \n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n  \n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n  \n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n  \n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n   \n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.k(u3)?u3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return p3},bOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,f1,"datascript/core.cljc",7,1,105,117,$APP.Ed,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.k(p3)?p3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),function(){var a=new $APP.zd(function(){return w3},sOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.zL,gOa,"datascript/core.cljc",18,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,1,$APP.qL,
1,$APP.nG,new $APP.H(null,2,5,$APP.I,[$APP.ii,new $APP.H(null,1,5,$APP.I,[P2],null)],null),$APP.T,$APP.M($APP.ii,new $APP.H(null,1,5,$APP.I,[P2],null)),$APP.iI,$APP.M(null,null)],null),1,456,456,$APP.M($APP.ii,new $APP.H(null,1,5,$APP.I,[P2],null)),"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.",
$APP.k(w3)?w3.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,G3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}()]),vPa=new $APP.h(null,7,[LOa,function(){var a=new $APP.zd(function(){return $APP.uZ},ANa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[$APP.DE,LOa,"datascript/db.cljc",21,1,885,885,$APP.M(new $APP.H(null,
1,5,$APP.I,[new $APP.h(null,1,[$APP.aG,new $APP.H(null,2,5,$APP.I,[P2,O2],null)],null)],null)),null,$APP.k($APP.uZ)?$APP.uZ.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),yOa,function(){var a=new $APP.zd(function(){return $APP.pY},tOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,
$APP.hp,$APP.T,$APP.W,$APP.tC],[$APP.DE,yOa,"datascript/db.cljc",31,1,297,297,c3,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.tK],null)),null,$APP.k($APP.pY)?$APP.pY.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),eOa,function(){var a=new $APP.zd(function(){return $APP.dY},uOa,$APP.Ij([$APP.Zw,$APP.R,
$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[UNa,$APP.DE,eOa,"datascript/db.cljc",15,1,154,156,$APP.M(new $APP.H(null,1,5,$APP.I,[lOa],null)),null,$APP.k($APP.dY)?$APP.dY.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),iOa,function(){var a=new $APP.zd(function(){return $APP.cY},
zNa,$APP.Ij([$APP.Zw,$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.rp,$APP.no,$APP.sC,$APP.T,$APP.W,$APP.tC],[UNa,$APP.DE,iOa,"datascript/db.cljc",12,1,154,155,$APP.M(new $APP.H(null,1,5,$APP.I,[lOa],null)),null,$APP.k($APP.cY)?$APP.cY.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),S2,function(){var a=new $APP.zd(function(){return nY},
FOa,$APP.Ij([$APP.R,$APP.Q,$APP.mo,$APP.rC,$APP.EL,$APP.rp,$APP.no,$APP.sC,$APP.hp,$APP.T,$APP.W,$APP.tC],[$APP.DE,S2,"datascript/db.cljc",19,new $APP.h(null,6,[$APP.UJ,!1,$APP.kt,5,$APP.qL,5,$APP.nG,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,3,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF],null),new $APP.H(null,4,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2],null),new $APP.H(null,5,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2,R2],null)],null),$APP.T,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF],null),new $APP.H(null,
4,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2],null),new $APP.H(null,5,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2,R2],null)),$APP.iI,$APP.M(null,null,null)],null),1,233,233,c3,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF],null),new $APP.H(null,4,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2],null),new $APP.H(null,5,5,$APP.I,[$APP.zF,$APP.HF,$APP.PF,J2,R2],null)),null,$APP.k(nY)?nY.A:null])),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),
$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),ZNa,function(){var a=new $APP.zd(function(){return $APP.MY},XOa,new $APP.h(null,8,[$APP.R,$APP.DE,$APP.W,null,$APP.mo,"datascript/db.cljc",$APP.no,499,$APP.rp,22,$APP.Q,ZNa,$APP.tC,$APP.k($APP.MY)?$APP.MY.A:null,$APP.T,$APP.Ed],null)),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);
return $APP.k($APP.Or.g(a))?$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}(),c3,function(){var a=new $APP.zd(function(){return $APP.eY},SNa,new $APP.h(null,8,[$APP.R,$APP.DE,$APP.W,null,$APP.mo,"datascript/db.cljc",$APP.no,160,$APP.rp,10,$APP.Q,c3,$APP.tC,$APP.k($APP.eY)?$APP.eY.A:null,$APP.T,$APP.Ed],null)),b=$APP.p(a);a=$APP.we(a);var c=$APP.k(null)?null:$APP.Q.g(a),d=new $APP.h(null,4,[$APP.R,H3,$APP.Q,c,$APP.T,$APP.T.g(a),$APP.W,$APP.W.g(a)],null);return $APP.k($APP.Or.g(a))?
$APP.Kx(c,b,d):$APP.k($APP.xs.g(a))?$APP.Lx(c,b,d):$APP.Jx(c,b,d)}()],null);try{$APP.Gy(new $APP.h(null,1,[$APP.qs,new $APP.h(null,2,[$APP.zL,uPa,$APP.DE,vPa],null)],null))}catch(a){throw console.error("An error occurred when calling (nbb.impl.datascript/init)"),a;};
export { $APP, shadow$provide, $jscomp };
